yarn run v1.22.4
$ node build/lib/electron
Done in 1.76s.


  CharCode
    ✓ has good values

  UUID
    ✓ generation
    ✓ self-check (50ms)

  Sandbox
    ✓ globals

  RangeMap
    ✓ intersection
    ✓ multiIntersect
    ✓ consolidate
    ✓ empty
    ✓ length & count
    ✓ length & count #2
    ✓ length & count #3
    ✓ length & count #4
    ✓ insert
    ✓ delete
    ✓ insert & delete
    ✓ insert & delete #2
    ✓ insert & delete #3
    ✓ insert & delete #3
    indexAt, positionAt
      ✓ empty
      ✓ simple
      ✓ simple #2
      ✓ insert
      ✓ delete
      ✓ delete #2

  Arrays
    ✓ findFirst
    ✓ stableSort
    ✓ mergeSort
    ✓ mergeSort, sorted array
    ✓ mergeSort, is stable
    ✓ mergeSort, many random numbers
    ✓ sortedDiff
    ✓ delta sorted arrays
    ✓ binarySearch
    ✓ distinct
    ✓ top
    ✓ topAsync
    ✓ coalesce
    ✓ coalesce - inplace
    ✓ insert, remove

  Browsers
    ✓ all

  Keytar
    ✓ loads and is functional (70ms)

  ScrollbarState
    ✓ inflates slider size
    ✓ inflates slider size with arrows

  Iterable
    ✓ first

  Collections
    ✓ forEach
    ✓ groupBy

  Assert
    ✓ ok

  Color
    ✓ isLighterColor
    ✓ getLighterColor
    ✓ isDarkerColor
    ✓ getDarkerColor
    ✓ luminance
    ✓ blending
    HSLA
      ✓ HSLA.toRGBA
      ✓ HSLA.fromRGBA
    HSVA
      ✓ HSVA.toRGBA
      ✓ HSVA.fromRGBA
      ✓ Keep hue value when saturation is 0
      ✓ bug#36240
    Format
      CSS
        ✓ parseHex

  Decorators
    ✓ memoize should memoize methods
    ✓ memoize should memoize getters
    ✓ memoized property should not be enumerable
    ✓ memoized property should not be writable
    ✓ memoize clear
    ✓ throttle

  JSON - formatter
    ✓ object - single property
    ✓ object - multiple properties
    ✓ object - no properties 
    ✓ object - nesting
    ✓ array - single items
    ✓ array - multiple items
    ✓ array - no items
    ✓ array - nesting
    ✓ syntax errors
    ✓ empty lines
    ✓ single line comment
    ✓ block line comment
    ✓ single line comment on same line
    ✓ single line comment on same line 2
    ✓ block comment on same line
    ✓ block comment on same line advanced
    ✓ multiple block comments on same line
    ✓ multiple mixed comments on same line
    ✓ range
    ✓ range with existing indent
    ✓ range with existing indent - tabs
    ✓ block comment none-line breaking symbols
    ✓ line comment after none-line breaking symbols

  JSON - edits
    ✓ set property
    ✓ insert property
    ✓ remove property
    ✓ insert item at 0
    ✓ insert item at 0 in empty array
    ✓ insert item at an index
    ✓ insert item at an index im empty array
    ✓ insert item at end index
    ✓ insert item at end to empty array
    ✓ insert item at end
    ✓ remove item in array with one item
    ✓ remove item in the middle of the array
    ✓ remove last item in the array
    ✓ remove last item in the array if ends with comma
    ✓ remove last item in the array if there is a comment in the beginning

  Lazy
    ✓ lazy values should only be resolved once
    ✓ lazy values handle error case
    ✓ map should not cause lazy values to be re-resolved
    ✓ map should handle error values

  LinkedText
    ✓ parses correctly

  LinkedList
    ✓ Push/Iter
    ✓ Push/Remove
    ✓ Push/toArray
    ✓ unshift/Iter
    ✓ unshift/Remove
    ✓ unshift/toArray
    ✓ pop/unshift

  Processes
    ✓ sanitizeProcessEnvironment

  Strings
    ✓ equalsIgnoreCase
    ✓ beginsWithIgnoreCase
    ✓ compareIgnoreCase
    ✓ compareIgnoreCase (substring)
    ✓ format
    ✓ lcut
    ✓ pad
    ✓ escape
    ✓ startsWith
    ✓ endsWith
    ✓ ltrim
    ✓ rtrim
    ✓ trim
    ✓ trimWhitespace
    ✓ repeat
    ✓ lastNonWhitespaceIndex
    ✓ containsRTL
    ✓ containsEmoji
    ✓ isBasicASCII
    ✓ createRegExp
    ✓ regExpContainsBackreference
    ✓ getLeadingWhitespace
    ✓ fuzzyContains
    ✓ startsWithUTF8BOM
    ✓ stripUTF8BOM
    ✓ containsUppercaseCharacter
    ✓ containsUppercaseCharacter (ignoreEscapedChars)
    ✓ uppercaseFirstLetter
    ✓ getNLines
    ✓ encodeUTF8
    ✓ getGraphemeBreakType

  Hash
    ✓ string
    ✓ number
    ✓ boolean
    ✓ array
    ✓ object
    - array - unexpected collision
    ✓ sha1-1
    ✓ sha1-2
    ✓ sha1-3
    ✓ sha1-4

  Types
    ✓ isFunction
    ✓ areFunctions
    ✓ isObject
    ✓ isEmptyObject
    ✓ isArray
    ✓ isString
    ✓ isNumber
    ✓ isUndefined
    ✓ isUndefinedOrNull
    ✓ assertIsDefined / assertAreDefined
    ✓ validateConstraints

  Objects
    ✓ equals
    ✓ mixin - array
    ✓ mixin - no overwrite
    ✓ cloneAndChange
    ✓ safeStringify
    ✓ distinct

  SkipList
    ✓ set/get/delete
    ✓ Figure 3
    ✓ capacity max
    - perf

  keyCodes
    ✓ MAC binary encoding
    ✓ WINDOWS & LINUX binary encoding

  Ports
    ✓ Finds a free port (no timeout)

  Paths (Node Implementation)
    ✓ join
    ✓ dirname
    ✓ extname
    ✓ resolve
    ✓ basename
    ✓ relative
    ✓ normalize
    ✓ isAbsolute
    ✓ path

  URI
    ✓ file#toString
    ✓ URI.file (win-special)
    ✓ file#fsPath (win-special)
    ✓ URI#fsPath - no `fsPath` when no `path`
    ✓ http#toString
    ✓ http#toString, encode=FALSE
    ✓ with, identity
    ✓ with, changes
    ✓ with, remove components #8465
    ✓ with, validation
    ✓ parse
    ✓ parse, disallow //path when no authority
    ✓ URI#file, win-speciale
    ✓ VSCode URI module's driveLetterPath regex is incorrect, #32961
    ✓ URI#file, no path-is-uri check
    ✓ URI#file, always slash
    ✓ URI.toString, only scheme and query
    ✓ URI#toString, upper-case percent espaces
    ✓ URI#toString, lower-case windows drive letter
    ✓ URI#toString, escape all the bits
    ✓ URI#toString, don't encode port
    ✓ URI#toString, user information in authority
    ✓ correctFileUriToFilePath2
    ✓ URI - http, query & toString
    ✓ class URI cannot represent relative file paths #34449
    ✓ Ctrl click to follow hash query param url gets urlencoded #49628
    ✓ Unable to open '%A0.txt': URI malformed #76506
    ✓ Unable to open '%A0.txt': URI malformed #76506
    - Links in markdown are broken if url contains encoded parameters #79474
    - Uri#parse can break path-component #45515
    ✓ URI - (de)serialize
    ✓ URI#joinPath
    ✓ URI#joinPath (posix)
    - URI#joinPath (windows)

  Marshalling
    ✓ RegExp
    ✓ URI
    ✓ Bug 16793:# in folder name => mirror models get out of sync

  Filters
    ✓ or
    ✓ PrefixFilter - case sensitive
    ✓ PrefixFilter - ignore case
    ✓ CamelCaseFilter
    ✓ CamelCaseFilter - #19256
    ✓ matchesContiguousSubString
    ✓ matchesSubString
    ✓ matchesSubString performance (#35346)
    ✓ WordFilter
    ✓ fuzzyScore, #23215
    ✓ fuzzyScore, #23332
    ✓ fuzzyScore, #23190
    ✓ fuzzyScore, #23581
    ✓ fuzzyScore, #23458
    ✓ fuzzyScore, #23746
    ✓ fuzzyScore
    ✓ fuzzyScore (first match can be weak)
    ✓ fuzzyScore, many matches
    ✓ Freeze when fjfj -> jfjf, https://github.com/microsoft/vscode/issues/91807
    ✓ fuzzyScore, issue #26423
    ✓ Fuzzy IntelliSense matching vs Haxe metadata completion, #26995
    ✓ Separator only match should not be weak #79558
    ✓ Cannot set property '1' of undefined, #26511
    ✓ Vscode 1.12 no longer obeys 'sortText' in completion items (from language server), #26096
    ✓ patternPos isn't working correctly #79815
    ✓ topScore - fuzzyScore
    ✓ Unexpected suggestion scoring, #28791
    ✓ HTML closing tag proposal filtered out #38880
    ✓ fuzzyScoreGraceful
    ✓ List highlight filter: Not all characters from match are highlighterd #66923
    ✓ Autocompletion is matched against truncated filterText to 54 characters #74133
    ✓ "Go to Symbol" with the exact method name doesn't work as expected #84787
    ✓ Suggestion is not highlighted #85826

  Normalization
    ✓ removeAccents

  ID
    ✓ getMachineId
    ✓ getMac

  Console
    ✓ getFirstFrame

  Paths
    ✓ toForwardSlashes
    ✓ getRoot
    ✓ isUNC
    ✓ isValidBasename
    ✓ sanitizeFilePath
    ✓ isRoot
    ✓ isWindowsDriveLetter
    ✓ indexOfPath
    ✓ parseLineAndColumnAware

  Editor Core - Range
    ✓ empty range
    ✓ swap start and stop same line
    ✓ swap start and stop
    ✓ no swap same line
    ✓ no swap
    ✓ compareRangesUsingEnds
    ✓ containsPosition
    ✓ containsRange
    ✓ areIntersecting

  Replace Pattern test
    ✓ parse replace string
    ✓ parse replace string with case modifiers
    ✓ replace has JavaScript semantics
    ✓ get replace string if given text is a complete match
    ✓ get replace string if match is sub-string of the text
    ✓ issue #19740 Find and replace capture group/backreference inserts `undefined` instead of empty string
    ✓ buildReplaceStringWithCasePreserved test
    ✓ preserve case

  SnippetParser
    ✓ Scanner
    ✓ Parser, escaped
    ✓ Parser, text
    ✓ Parser, TM text
    ✓ Parser, placeholder
    ✓ Parser, literal code
    ✓ Parser, variables/tabstop
    ✓ Parser, variables/placeholder with defaults
    ✓ Parser, variable transforms
    ✓ Parser, placeholder transforms
    ✓ No way to escape forward slash in snippet regex #36715
    ✓ No way to escape forward slash in snippet format section #37562
    ✓ Parser, placeholder with choice
    ✓ Snippet choices: unable to escape comma and pipe, #31521
    ✓ Marker, toTextmateString()
    ✓ Marker, toTextmateString() <-> identity
    ✓ Parser, choise marker
    ✓ Backslash character escape in choice tabstop doesn't work #58494
    ✓ Parser, only textmate
    ✓ Parser, real world
    ✓ Parser, transform example
    ✓ Parser, default placeholder values
    ✓ Parser, default placeholder values and one transform
    ✓ Repeated snippet placeholder should always inherit, #31040
    ✓ backspace esapce in TM only, #16212
    ✓ colon as variable/placeholder value, #16717
    ✓ incomplete placeholder
    ✓ marker#len
    ✓ parser, parent node
    ✓ TextmateSnippet#enclosingPlaceholders
    ✓ TextmateSnippet#offset
    ✓ TextmateSnippet#placeholder
    ✓ TextmateSnippet#replace 1/2
    ✓ TextmateSnippet#replace 2/2
    ✓ Snippet order for placeholders, #28185
    ✓ Maximum call stack size exceeded, #28983
    ✓ Snippet can freeze the editor, #30407
    ✓ Snippets: make parser ignore `${0|choice|}`, #31599
    ✓ Transform -> FormatString#resolve
    ✓ Snippet variable transformation doesn't work if regex is complicated and snippet body contains '$$' #55627
    ✓ [BUG] HTML attribute suggestions: Snippet session does not have end-position set, #33147
    ✓ Snippet optional transforms are not applied correctly when reusing the same variable, #37702
    ✓ problem with snippets regex #40570
    ✓ Variable transformation doesn't work if undefined variables are used in the same snippet #51769
    ✓ Snippet parser freeze #53144
    ✓ snippets variable not resolved in JSON proposal #52931
    ✓ Mirroring sequence of nested placeholders not selected properly on backjumping #58736
    ✓ Backspace can't be escaped in snippet variable transforms #65412
    ✓ Snippet cannot escape closing bracket inside conditional insertion variable replacement #78883
    ✓ Snippet escape backslashes inside conditional insertion variable replacement #80394

  Token theme matching
    ✓ gives higher priority to deeper matches
    ✓ can match

  Token theme parsing
    ✓ can parse

  Token theme resolving
    ✓ strcmp works
    ✓ always has defaults
    ✓ respects incoming defaults 1
    ✓ respects incoming defaults 2
    ✓ respects incoming defaults 3
    ✓ respects incoming defaults 4
    ✓ respects incoming defaults 5
    ✓ can merge incoming defaults
    ✓ defaults are inherited
    ✓ same rules get merged
    ✓ rules are inherited 1
    ✓ rules are inherited 2
    ✓ custom colors are first in color map

  Classification
    ✓ TypeScript

  StandardAutoClosingPairConditional
    ✓ Missing notIn
    ✓ Empty notIn
    ✓ Invalid notIn
    ✓ notIn in strings
    ✓ notIn in comments
    ✓ notIn in regex
    ✓ notIn in strings nor comments
    ✓ notIn in strings nor regex
    ✓ notIn in comments nor regex
    ✓ notIn in strings, comments nor regex

  IntervalTree
    generated
      ✓ gen01
      ✓ gen02
      ✓ gen03
      ✓ gen04
      ✓ gen05
      ✓ gen06
      ✓ gen07
      ✓ gen08
      ✓ gen09
      ✓ gen10
      ✓ gen11
      ✓ gen12
      ✓ gen13
      ✓ gen14
      ✓ gen15
      ✓ gen16
      ✓ gen17
      ✓ gen18
      ✓ force delta overflow
    searching
      ✓ cormen 1->2
      ✓ cormen 4->8
      ✓ cormen 10->15
      ✓ cormen 21->25
      ✓ cormen 24->24

  IntervalTree
    ✓ nodeAcceptEdit

  OnEnter
    ✓ uses brackets
    ✓ uses regExpRules

  Editor View - OverviewZoneManager
    ✓ pixel ratio 1, dom height 600
    ✓ pixel ratio 1, dom height 300
    ✓ pixel ratio 2, dom height 300

  Editor ViewLayout - ViewLineParts
    ✓ Bug 9827:Overlapping inline decorations can cause wrong inline class to be applied
    ✓ issue #3462: no whitespace shown at the end of a decorated line
    ✓ issue #3661: Link decoration bleeds to next line when wrapping
    ✓ issue #37401: Allow both before and after decorations on empty line
    ✓ ViewLineParts

  Editor ViewLayout - LinesLayout
    ✓ LinesLayout 1
    ✓ LinesLayout 2
    ✓ LinesLayout Padding
    ✓ LinesLayout getLineNumberAtOrAfterVerticalOffset
    ✓ LinesLayout getCenteredLineInViewport
    ✓ LinesLayout getLinesViewportData 1
    ✓ LinesLayout getLinesViewportData 2 & getWhitespaceViewportData
    ✓ LinesLayout getWhitespaceAtVerticalOffset
    ✓ LinesLayout
    ✓ LinesLayout findInsertionIndex
    ✓ LinesLayout changeWhitespaceAfterLineNumber & getFirstWhitespaceIndexAfterLineNumber
    ✓ LinesLayout Bug

  CharacterClassifier
    ✓ works

  Editor Modes - Link Computer
    ✓ Null model
    ✓ Parsing
    ✓ issue #7855
    ✓ issue #62278: "Ctrl + click to follow link" for IPv6 URLs
    ✓ issue #70254: bold links dont open in markdown file using editor mode with ctrl + click
    ✓ issue #86358: URL wrong recognition pattern
    ✓ issue #67022: Space as end of hyperlink isn't always good idea

  Editor ViewModel - PrefixSumComputer
    ✓ PrefixSumComputer

  Platform / Registry
    ✓ registry - api
    ✓ registry - mixin
    ✓ registry - knows, as
    ✓ registry - mixin, fails on duplicate ids

  Config Remotes
    ✓ HTTPS remotes
    ✓ SSH remotes
    ✓ SCP-like remotes
    ✓ Local remotes
    ✓ Multiple remotes
    ✓ Non allowed domains are anonymized
    ✓ HTTPS remotes to be hashed
    ✓ SSH remotes to be hashed
    ✓ SCP-like remotes to be hashed
    ✓ Local remotes to be hashed
    ✓ Multiple remotes to be hashed

  ContextKeyExpr
    ✓ ContextKeyExpr.equals
    ✓ normalize
    ✓ evaluate
    ✓ negate
    ✓ false, true

  Graph
    ✓ is possible to lookup nodes that don't exist
    ✓ inserts nodes when not there yet
    ✓ can remove nodes and get length
    ✓ root
    ✓ root complex

  ExtensionsMerge
    ✓ merge returns local extension if remote does not exist
    ✓ merge returns local extension if remote does not exist with ignored extensions
    ✓ merge returns local extension if remote does not exist with ignored extensions (ignore case)
    ✓ merge returns local extension if remote does not exist with skipped extensions
    ✓ merge returns local extension if remote does not exist with skipped and ignored extensions
    ✓ merge local and remote extensions when there is no base
    ✓ merge local and remote extensions when there is no base and with ignored extensions
    ✓ merge local and remote extensions when remote is moved forwarded
    ✓ merge local and remote extensions when remote is moved forwarded with disabled extension
    ✓ merge local and remote extensions when remote moved forwarded with ignored extensions
    ✓ merge local and remote extensions when remote is moved forwarded with skipped extensions
    ✓ merge local and remote extensions when remote is moved forwarded with skipped and ignored extensions
    ✓ merge local and remote extensions when local is moved forwarded
    ✓ merge local and remote extensions when local is moved forwarded with disabled extensions
    ✓ merge local and remote extensions when local is moved forwarded with ignored settings
    ✓ merge local and remote extensions when local is moved forwarded with skipped extensions
    ✓ merge local and remote extensions when local is moved forwarded with skipped and ignored extensions
    ✓ merge local and remote extensions when both moved forwarded
    ✓ merge local and remote extensions when both moved forwarded with ignored extensions
    ✓ merge local and remote extensions when both moved forwarded with skipped extensions
    ✓ merge local and remote extensions when both moved forwarded with skipped and ignoredextensions
    ✓ merge when remote extension has no uuid and different extension id case
    ✓ merge when remote extension is not an installed extension
    ✓ merge when remote extension is not an installed extension but is an installed extension locally
    ✓ merge when an extension is not an installed extension remotely and does not exist locally
    ✓ merge when an extension is an installed extension remotely but not locally and updated locally
    ✓ merge when an extension is an installed extension remotely but not locally and updated remotely
    ✓ merge not installed extensions

  SnippetsMerge
    ✓ merge when local and remote are same with one snippet
    ✓ merge when local and remote are same with multiple entries
    ✓ merge when local and remote are same with multiple entries in different order
    ✓ merge when local and remote are same with different base content
    ✓ merge when a new entry is added to remote
    ✓ merge when multiple new entries are added to remote
    ✓ merge when new entry is added to remote from base and local has not changed
    ✓ merge when an entry is removed from remote from base and local has not changed
    ✓ merge when all entries are removed from base and local has not changed
    ✓ merge when an entry is updated in remote from base and local has not changed
    ✓ merge when remote has moved forwarded with multiple changes and local stays with base
    ✓ merge when a new entries are added to local
    ✓ merge when multiple new entries are added to local from base and remote is not changed
    ✓ merge when an entry is removed from local from base and remote has not changed
    ✓ merge when an entry is updated in local from base and remote has not changed
    ✓ merge when local has moved forwarded with multiple changes and remote stays with base
    ✓ merge when local and remote with one entry but different value
    ✓ merge when the entry is removed in remote but updated in local and a new entry is added in remote
    ✓ merge with single entry and local is empty
    ✓ merge when local and remote has moved forwareded with conflicts
    ✓ merge when local and remote has moved forwareded with resolved conflicts - update
    ✓ merge when local and remote has moved forwareded with resolved conflicts - remove
    ✓ merge when local and remote has moved forwareded with multiple conflicts
    ✓ merge when local and remote has moved forwareded with multiple conflicts and resolving one conflict

  Debug - Utils
    ✓ formatPII
    ✓ getExactExpressionStartAndEnd
    ✓ config presentation

  Extension query
    ✓ parse
    ✓ toString
    ✓ isValid
    ✓ equals
    ✓ autocomplete

  Workbench - Terminal Link Helpers
    convertLinkRangeToBuffer
      ✓ should convert ranges for ascii characters
      ✓ should convert ranges for wide characters before the link
      ✓ should convert ranges for combining characters before the link
      ✓ should convert ranges for wide characters inside the link
      ✓ should convert ranges for wide characters before and inside the link
      ✓ should convert ranges for emoji before before and wide inside the link
      ✓ should convert ranges for ascii characters (link starts on wrapped)
      ✓ should convert ranges for wide characters before the link (link starts on wrapped)
      ✓ should convert ranges for wide characters inside the link (link starts on wrapped)
      ✓ should convert ranges for wide characters before and inside the link
      ✓ should convert ranges for several wide characters before the link
      ✓ should convert ranges for several wide characters before and inside the link

  Workbench - TerminalCommandTracker
    Command tracking
      ✓ should track commands when the prompt is of sufficient size
      ✓ should not track commands when the prompt is too small
    Commands
      ✓ should scroll to the next and previous commands (107ms)
      ✓ should select to the next and previous commands (135ms)
      ✓ should select to the next and previous lines & commands

  EnvironmentVariable - deserializeEnvironmentVariableCollection
    ✓ should construct correctly with 3 arguments

  EnvironmentVariable - serializeEnvironmentVariableCollection
    ✓ should correctly serialize the object

  EnvironmentVariable - MergedEnvironmentVariableCollection
    ctor
      ✓ Should keep entries that come after a Prepend or Append type mutators
      ✓ Should remove entries that come after a Replace type mutator
    applyToProcessEnvironment
      ✓ should apply the collection to an environment
      ✓ should apply the collection to environment entries with no values
      ✓ should apply to variable case insensitively on Windows only
    diff
      ✓ should return undefined when collectinos are the same
      ✓ should generate added diffs from when the first entry is added
      ✓ should generate added diffs from the same extension
      ✓ should generate added diffs from a different extension
      ✓ should remove entries in the diff that come after a Replace
      ✓ should generate removed diffs
      ✓ should generate changed diffs
      ✓ should generate diffs with added, changed and removed

  Workbench - TerminalEnvironment
    addTerminalEnvironmentKeys
      ✓ should set expected variables
      ✓ should use language variant for LANG that is provided in locale
      ✓ should fallback to en_US when no locale is provided
      ✓ should fallback to en_US when an invalid locale is provided
      ✓ should override existing LANG
    shouldSetLangEnvVariable
      ✓ auto
      ✓ off
      ✓ on
    getLangEnvVariable
      ✓ should fallback to en_US when no locale is provided
      ✓ should fallback to default language variants when variant isn't provided
      ✓ should set language variant based on full locale
    mergeEnvironments
      ✓ should add keys
      ✓ should add keys ignoring case on Windows
      ✓ null values should delete keys from the parent env
      ✓ null values should delete keys from the parent env ignoring case on Windows
    getCwd
      ✓ should default to userHome for an empty workspace
      ✓ should use to the workspace if it exists
      ✓ should use an absolute custom cwd as is
      ✓ should normalize a relative custom cwd against the workspace path
      ✓ should fall back for relative a custom cwd that doesn't have a workspace
      ✓ should ignore custom cwd when told to ignore
    getDefaultShell
      ✓ should change Sysnative to System32 in non-WoW64 systems
      ✓ should not change Sysnative to System32 in WoW64 systems
      ✓ should use automationShell when specified

  Replace Pattern test
    ✓ parse replace string
    ✓ create pattern by passing regExp
    ✓ get replace string if given text is a complete match
    ✓ get replace string for no matches
    ✓ get replace string if match is sub-string of the text

  Windows State Storing
    ✓ storing and restoring
    ✓ open 1_31
    ✓ open 1_32

  Decoder
    ✓ decoding

  Errors
    ✓ Get Error Message

  JSON
    ✓ tokens
    ✓ comments
    ✓ strings
    ✓ numbers
    ✓ keywords: true, false, null
    ✓ trivia
    ✓ parse: literals
    ✓ parse: objects
    ✓ parse: arrays
    ✓ parse: objects with errors
    ✓ parse: array with errors
    ✓ parse: disallow commments
    ✓ parse: trailing comma
    ✓ tree: literals
    ✓ tree: arrays
    ✓ tree: objects

  Processes
    ✓ buffered sending - simple data (107ms)
    ✓ buffered sending - lots of data (potential deadlock on win32)

  formatOptions
    ✓ Text should display small columns correctly
    ✓ Text should wrap
    ✓ Text should revert to the condensed view when the terminal is too narrow
    ✓ addArg

  Extension Identifier Pattern
    ✓ extension identifier pattern

  Extension Version Validator
    ✓ isValidVersionStr
    ✓ parseVersion
    ✓ normalizeVersion
    ✓ isValidVersion
    ✓ isValidExtensionVersion

  Preferences Validation
    ✓ exclusive max and max work together properly
    ✓ exclusive min and min work together properly
    ✓ multiple of works for both integers and fractions
    ✓ integer type correctly adds a validation
    ✓ null is allowed only when expected
    ✓ string max min length work
    ✓ patterns work
    ✓ custom error messages are shown
    ✓ simple array
    ✓ min-max items array
    ✓ array of enums
    ✓ min-max and enum
    ✓ pattern
    ✓ pattern with error message
    ✓ uniqueItems
    ✓ getInvalidTypeError

  FileQueryCacheState
    ✓ reuse old cacheKey until new cache is loaded
    ✓ do not spawn additional load if previous is still loading
    ✓ do not use previous cacheKey if query changed
    ✓ dispose propagates
    ✓ keep using old cacheKey when loading fails

  Lifecycle
    ✓ dispose single disposable
    ✓ dispose disposable array
    ✓ dispose disposables
    ✓ Action bar has broken accessibility #100273

  Reference Collection
    ✓ simple

  Workbench - TerminalDataBufferer
    ✓ start
    ✓ start 2
    ✓ stop
    ✓ start 2 stop 1
    ✓ dispose should flush remaining data events

  IndexTreeModel
    ✓ ctor
    ✓ insert
    ✓ deep insert
    ✓ deep insert collapsed
    ✓ delete
    ✓ nested delete
    ✓ deep delete
    ✓ hidden delete
    ✓ collapse
    ✓ expand
    ✓ collapse should recursively adjust visible count
    ✓ setCollapsible
    ✓ simple filter
    ✓ recursive filter on initial model
    ✓ refilter
    ✓ recursive filter
    ✓ recursive filter with collapse
    ✓ recursive filter while collapsed
    ✓ refilter with filtered out nodes
    ✓ explicit hidden nodes should have renderNodeCount == 0, issue #83211
    getNodeLocation
      ✓ simple
      ✓ with filter

  ObjectTreeModel
    ✓ ctor
    ✓ flat
    ✓ nested
    ✓ setChildren on collapsed node
    ✓ setChildren on expanded, unrevealed node
    ✓ collapse state is preserved with strict identity
    ✓ sorter
    ✓ resort
    ✓ expandTo
    ✓ issue #95641

  CompressedObjectTree
    compress & decompress
      ✓ small
      ✓ no compression
      ✓ single hierarchy
      ✓ deep compression
      ✓ double deep compression
      ✓ incompressible leaf
      ✓ incompressible branch
      ✓ incompressible chain
      ✓ incompressible tree
    CompressedObjectTreeModel
      ✓ ctor
      ✓ flat
      ✓ nested
      ✓ compressed

  CancellationToken
    ✓ None
    ✓ cancel before token
    ✓ cancel happens only once
    ✓ cancel calls all listeners
    ✓ token stays the same
    ✓ dispose calls no listeners
    ✓ dispose calls no listeners (unless told to cancel)
    ✓ parent cancels child

  PagedModel
    ✓ isResolved
    ✓ resolve single
    ✓ resolve page
    ✓ resolve page 2
    ✓ preemptive cancellation works
    ✓ cancellation works
    ✓ same page cancellation works

  Codicon
    ✓ matchesFuzzzyCodiconAware

  Codicons
    ✓ stripCodicons

  MarkdownString
    ✓ appendText
    ThemeIcons
      Support On
        ✓ appendText
        ✓ appendMarkdown
        ✓ appendMarkdown with escaped icon
      Support Off
        ✓ appendText
        ✓ appendMarkdown
        ✓ appendMarkdown with escaped icon

  HighlightedLabel
    ✓ empty label
    ✓ no decorations
    ✓ escape html
    ✓ everything highlighted
    ✓ beginning highlighted
    ✓ ending highlighted
    ✓ middle highlighted
    ✓ escapeNewLines

  Marker Service
    ✓ query
    ✓ changeOne override
    ✓ changeOne/All clears
    ✓ changeAll sends event for cleared
    ✓ changeAll merges
    ✓ changeAll must not break integrety, issue #12635
    ✓ invalid marker data
    ✓ MapMap#remove returns bad values, https://github.com/Microsoft/vscode/issues/13548
    ✓ Error code of zero in markers get removed, #31275

  Async
    ✓ cancelablePromise - set token, don't wait for inner promise
    ✓ cancelablePromise - cancel despite inner promise being resolved
    ✓ CancelablePromise execution order (sync)
    ✓ CancelablePromise execution order (async)
    ✓ cancelablePromise - get inner result
    ✓ Throttler - non async
    ✓ Throttler
    ✓ Throttler - last factory should be the one getting called
    ✓ Delayer
    ✓ Delayer - simple cancel
    ✓ Delayer - cancel should cancel all calls to trigger
    ✓ Delayer - trigger, cancel, then trigger again
    ✓ Delayer - last task should be the one getting called
    ✓ Sequence
    ✓ Limiter - sync
    ✓ Limiter - async (53ms)
    ✓ Limiter - assert degree of paralellism
    ✓ Queue - simple
    ✓ Queue - order is kept (38ms)
    ✓ Queue - errors bubble individually but not cause stop (39ms)
    ✓ Queue - order is kept (chained) (39ms)
    ✓ Queue - events (38ms)
    ✓ ResourceQueue - simple
    ✓ retry - success case
    ✓ retry - error case
    ✓ TaskSequentializer - pending basics
    ✓ TaskSequentializer - pending and next (finishes instantly)
    ✓ TaskSequentializer - pending and next (finishes after timeout)
    ✓ TaskSequentializer - pending and multiple next (last one wins)
    ✓ TaskSequentializer - cancel pending
    ✓ raceCancellation
    ✓ raceTimeout

  Cache
    ✓ simple value
    ✓ simple error
    ✓ should retry cancellations

  Event
    ✓ Emitter plain
    ✓ Emitter, bucket
    ✓ Emitter, store
    ✓ onFirstAdd|onLastRemove
    ✓ throwingListener
    ✓ reusing event function and context
    ✓ Debounce Event
    ✓ Debounce Event - leading
    ✓ Debounce Event - leading
    ✓ Debounce Event - leading reset
    ✓ Emitter - In Order Delivery

  AsyncEmitter
    ✓ event has waitUntil-function
    ✓ sequential delivery
    ✓ sequential, in-order delivery (38ms)
    ✓ catch errors

  PausableEmitter
    ✓ basic
    ✓ pause/resume - no merge
    ✓ pause/resume - merge
    ✓ double pause/resume
    ✓ resume, no pause
    ✓ nested pause

  Event utils
    ✓ latch
    EventBufferer
      ✓ should not buffer when not wrapped
      ✓ should buffer when wrapped
      ✓ once
    fromPromise
      ✓ should emit when done
      ✓ should emit when done - setTimeout
    stopwatch
      ✓ should emit
    buffer
      ✓ should buffer events
      ✓ should buffer events on next tick
      ✓ should fire initial buffer events
    EventMultiplexer
      ✓ works
      ✓ multiplexer dispose works
      ✓ event dispose works
      ✓ mutliplexer event dispose works
      ✓ hot start works
      ✓ cold start works
      ✓ late add works
      ✓ add dispose works

  Extpath
    ✓ realcase
    ✓ realpath
    ✓ realpathSync

  Storage Library
    ✓ basics (235ms)
    ✓ external changes (116ms)
    ✓ close flushes data
    ✓ conflicting updates (216ms)
    ✓ corrupt DB recovers (252ms)

  SQLite Storage Library
    ✓ basics
    ✓ basics (open multiple times)
    ✓ basics (corrupt DB falls back to empty DB)
    ✓ basics (corrupt DB restores from previous backup)
    ✓ basics (corrupt DB falls back to empty DB if backup is corrupt) (56ms)
    ✓ basics (DB that becomes corrupt during runtime stores all state from cache on close) (39ms)
    ✓ real world example
    ✓ very large item value (135ms)
    ✓ multiple concurrent writes execute in sequence (239ms)
    ✓ lots of INSERT & DELETE (below inline max)
    ✓ lots of INSERT & DELETE (above inline max)

  Comparers
    ✓ compareFileNames
    ✓ compareFileExtensions
    ✓ compareFileNamesNumeric
    ✓ compareFileExtensionsNumeric

  Fuzzy Scorer
    ✓ score (fuzzy)
    ✓ score (non fuzzy)
    ✓ scoreItem - matches are proper
    ✓ scoreItem - multiple
    ✓ scoreItem - invalid input
    ✓ scoreItem - optimize for file paths
    ✓ scoreItem - avoid match scattering (bug #36119)
    ✓ scoreItem - prefers more compact matches
    ✓ scoreItem - proper target offset
    ✓ scoreItem - proper target offset #2
    ✓ scoreItem - proper target offset #3
    ✓ scoreItem - no match unless query contained in sequence
    ✓ scoreItem - match if using slash or backslash (local, remote resource)
    ✓ compareItemsByScore - identity
    ✓ compareFilesByScore - basename prefix
    ✓ compareFilesByScore - basename camelcase
    ✓ compareFilesByScore - basename scores
    ✓ compareFilesByScore - path scores
    ✓ compareFilesByScore - prefer shorter basenames
    ✓ compareFilesByScore - prefer shorter basenames (match on basename)
    ✓ compareFilesByScore - prefer shorter paths
    ✓ compareFilesByScore - prefer shorter paths (bug #17443)
    ✓ compareFilesByScore - prefer matches in label over description if scores are otherwise equal
    ✓ compareFilesByScore - prefer more compact camel case matches
    ✓ compareFilesByScore - prefer more compact matches (label)
    ✓ compareFilesByScore - prefer more compact matches (path)
    ✓ compareFilesByScore - prefer more compact matches (label and path)
    ✓ compareFilesByScore - avoid match scattering (bug #34210)
    ✓ compareFilesByScore - avoid match scattering (bug #21019 1.)
    ✓ compareFilesByScore - avoid match scattering (bug #21019 2.)
    ✓ compareFilesByScore - avoid match scattering (bug #26649)
    ✓ compareFilesByScore - avoid match scattering (bug #33247)
    ✓ compareFilesByScore - avoid match scattering (bug #33247 comment)
    ✓ compareFilesByScore - avoid match scattering (bug #36166)
    ✓ compareFilesByScore - avoid match scattering (bug #32918)
    ✓ compareFilesByScore - avoid match scattering (bug #14879)
    ✓ compareFilesByScore - avoid match scattering (bug #14727 1)
    ✓ compareFilesByScore - avoid match scattering (bug #14727 2)
    ✓ compareFilesByScore - avoid match scattering (bug #18381)
    ✓ compareFilesByScore - avoid match scattering (bug #35572)
    ✓ compareFilesByScore - avoid match scattering (bug #36810)
    ✓ compareFilesByScore - prefer shorter hit (bug #20546)
    ✓ compareFilesByScore - avoid match scattering (bug #12095)
    ✓ compareFilesByScore - prefer case match (bug #96122)
    ✓ prepareQuery
    ✓ fuzzyScore2 (matching)
    ✓ fuzzyScore2 (multiple queries)
    ✓ fuzzyScore2 (#95716)

  Glob
    ✓ simple
    ✓ dot hidden
    ✓ file pattern
    ✓ star
    ✓ file / folder match
    ✓ questionmark
    ✓ globstar
    ✓ issue 41724
    ✓ brace expansion
    ✓ expression support (single)
    ✓ expression support (multiple)
    ✓ brackets
    ✓ full path
    ✓ prefix agnostic
    ✓ cached properly
    ✓ invalid glob
    ✓ split glob aware
    ✓ expression with disabled glob
    ✓ expression with two non-trivia globs
    ✓ expression with empty glob
    ✓ expression with other falsy value
    ✓ expression with two basename globs
    ✓ expression with two basename globs and a siblings expression
    ✓ expression with multipe basename globs
    ✓ falsy expression/pattern
    ✓ falsy path
    ✓ expression/pattern basename
    ✓ expression/pattern basename terms
    ✓ expression/pattern optimization for basenames
    ✓ trailing slash
    ✓ expression/pattern path
    ✓ expression/pattern paths
    ✓ expression/pattern optimization for paths
    ✓ relative pattern - glob star
    ✓ relative pattern - single star
    ✓ relative pattern - single star with path
    ✓ pattern with "base" does not explode - #36081
    ✓ relative pattern - #57475

  Map
    ✓ LinkedMap - Simple
    ✓ LinkedMap - Touch Old one
    ✓ LinkedMap - Touch New one
    ✓ LinkedMap - Touch Old two
    ✓ LinkedMap - Touch New two
    ✓ LinkedMap - Touch Old from middle
    ✓ LinkedMap - Touch New from middle
    ✓ LinkedMap - basics
    ✓ LinkedMap - Iterators
    ✓ LinkedMap - LRU Cache simple
    ✓ LinkedMap - LRU Cache get
    ✓ LinkedMap - LRU Cache limit
    ✓ LinkedMap - LRU Cache limit with ratio
    ✓ LinkedMap - toJSON / fromJSON
    ✓ LinkedMap - delete Head and Tail
    ✓ LinkedMap - delete Head
    ✓ LinkedMap - delete Tail
    ✓ PathIterator
    ✓ URIIterator
    ✓ TernarySearchTree - set
    ✓ TernarySearchTree - findLongestMatch
    ✓ TernarySearchTree - basics
    ✓ TernarySearchTree - delete & cleanup
    ✓ TernarySearchTree (PathSegments) - basics
    ✓ TernarySearchTree (PathSegments) - lookup
    ✓ TernarySearchTree (PathSegments) - superstr
    ✓ TernarySearchTree (URI) - basics
    ✓ TernarySearchTree (URI) - lookup
    ✓ TernarySearchTree (PathSegments) - superstr
    ✓ ResourceMap - basics
    ✓ ResourceMap - files (do NOT ignorecase)
    ✓ ResourceMap - files (ignorecase)

  Resources
    ✓ distinctParents
    ✓ dirname
    ✓ basename
    ✓ joinPath
    ✓ normalizePath
    ✓ isAbsolute
    ✓ trailingPathSeparator
    ✓ relativePath
    ✓ resolve
    ✓ isEqual
    ✓ isEqualOrParent

  Files
    ✓ FileChangesEvent
    ✓ isEqual (ignoreCase)
    ✓ isParent (ignorecase)
    ✓ isEqualOrParent (ignorecase)

  Normalizer
    ✓ simple add/update/delete
    ✓ delete only reported for top level folder (0)
    ✓ event normalization: ignore CREATE followed by DELETE
    ✓ event normalization: flatten DELETE followed by CREATE into CHANGE
    ✓ event normalization: ignore UPDATE when CREATE received
    ✓ event normalization: apply DELETE

  ExtHost API
    ✓ issue #51387: originalFSPath

  Labels
    ✓ shorten - windows
    ✓ shorten - not windows
    ✓ template
    ✓ getBaseLabel - unix
    ✓ getBaseLabel - windows
    ✓ mnemonicButtonLabel

  ResourceTree
    ✓ ctor
    ✓ simple
    ✓ folders with data

  Workspace
    ✓ getFolder returns the folder with given uri
    ✓ getFolder returns the folder if the uri is sub
    ✓ getFolder returns the closest folder if the uri is sub
    ✓ getFolder returns the folder even if the uri has query path
    ✓ getFolder returns null if the uri is not sub
    ✓ toWorkspaceFolders with single absolute folder
    ✓ toWorkspaceFolders with single relative folder
    ✓ toWorkspaceFolders with single absolute folder with name
    ✓ toWorkspaceFolders with multiple unique absolute folders
    ✓ toWorkspaceFolders with multiple unique absolute folders with names
    ✓ toWorkspaceFolders with multiple unique absolute and relative folders
    ✓ toWorkspaceFolders with multiple absolute folders with duplicates
    ✓ toWorkspaceFolders with multiple absolute and relative folders with duplicates
    ✓ toWorkspaceFolders with multiple absolute and relative folders with invalid paths

  WindowsFinder
    ✓ New window without folder when no windows exist
    ✓ New window without folder when windows exist
    ✓ Last active window
    ✓ Existing window with folder
    ✓ More specific existing window wins
    ✓ Workspace folder wins

  MarkersModel Test
    ✓ marker ids are unique
    ✓ sort palces resources with no errors at the end
    ✓ sort resources by file path
    ✓ sort markers by severity, line and column
    ✓ toString()
    ✓ Markers for same-document but different fragment
    ✓ Problems are no sorted correctly #99135

  Mime
    ✓ Dynamically Register Text Mime
    ✓ Mimes Priority
    ✓ Specificity priority 1
    ✓ Specificity priority 2
    ✓ Mimes Priority - Longest Extension wins
    ✓ Mimes Priority - User configured wins
    ✓ Mimes Priority - Pattern matches on path if specified
    ✓ Mimes Priority - Last registered mime wins
    ✓ Data URIs
    ✓ Filename Suggestion - Suggest prefix only when there are no relevant extensions
    ✓ Filename Suggestion - Suggest prefix with first extension that begins with a dot
    ✓ Filename Suggestion - Suggest first relevant extension when there are none that begin with a dot
    ✓ Filename Suggestion - Should ignore user-configured associations

  LanguageSelector
    ✓ score, invalid selector
    ✓ score, any language
    ✓ score, default schemes
    ✓ score, filter
    ✓ score, max(filters)
    ✓ score hasAccessToAllModels
    ✓ Document selector match - unexpected result value #60232

  Zip
    ✓ extract should handle directories

  Instantiation Service
    ✓ service collection, cannot overwrite
    ✓ service collection, add/has
    ✓ @Param - simple clase
    ✓ @Param - fixed args
    ✓ service collection is live
    ✓ @Param - optional
    ✓ SyncDesc - no dependencies
    ✓ SyncDesc - service with service dependency
    ✓ SyncDesc - target depends on service future
    ✓ SyncDesc - explode on loop
    ✓ Invoke - get services
    ✓ Invoke - get service, optional
    ✓ Invoke - keeping accessor NOT allowed
    ✓ Invoke - throw error
    ✓ Create child

  Chokidar normalizeRoots
    ✓ should not impacts roots that don't overlap
    ✓ should remove sub-folders of other roots
    ✓ should remove duplicates
    ✓ nested requests

  Chokidar watching
    - simple file operations, single root, no ignore
    - simple file operations, ignore
    - simple file operations, multiple roots
    - simple file operations, nested roots

  NSFW Watcher Service
    _normalizeRoots
      ✓ should not impacts roots that don't overlap
      ✓ should remove sub-folders of other roots

  SmoothScrollingOperation
    ✓ scroll 25 lines (40 fit)
    ✓ scroll 75 lines (40 fit)
    ✓ scroll 100 lines (40 fit)
    ✓ scroll 125 lines (40 fit)
    ✓ scroll 500 lines (40 fit)

  Stream
    ✓ isReadableStream
    ✓ isReadableBufferedStream
    ✓ WriteableStream - basics
    ✓ WriteableStream - removeListener
    ✓ WriteableStream - highWaterMark
    ✓ consumeReadable
    ✓ peekReadable
    ✓ peekReadable - error handling
    ✓ consumeStream
    ✓ peekStream
    ✓ toStream
    ✓ toReadable
    ✓ transform

  Buffer
    ✓ issue #71993 - VSBuffer#toString returns numbers
    ✓ bufferToReadable / readableToBuffer
    ✓ bufferToStream / streamToBuffer
    ✓ bufferedStreamToBuffer
    ✓ bufferWriteableStream - basics (no error)
    ✓ bufferWriteableStream - basics (error)
    ✓ bufferWriteableStream - buffers data when no listener
    ✓ bufferWriteableStream - buffers errors when no listener
    ✓ bufferWriteableStream - buffers end when no listener
    ✓ bufferWriteableStream - nothing happens after end()
    ✓ bufferWriteableStream - pause/resume (simple)
    ✓ bufferWriteableStream - pause/resume (pause after first write)
    ✓ bufferWriteableStream - pause/resume (error)
    ✓ bufferWriteableStream - destroy
    ✓ Performance issue with VSBuffer#slice #76076

  PFS
    ✓ writeFile
    ✓ writeFile - parallel write on different files works (42ms)
    ✓ writeFile - parallel write on same files works and is sequentalized (75ms)
    ✓ rimraf - simple - unlink
    ✓ rimraf - simple - move
    ✓ rimraf - recursive folder structure - unlink
    ✓ rimraf - recursive folder structure - move
    ✓ rimraf - simple ends with dot - move
    ✓ rimraf - simple ends with dot slash/backslash - move
    ✓ rimrafSync - swallows file not found error
    ✓ rimrafSync - simple
    ✓ rimrafSync - recursive folder structure
    ✓ moveIgnoreError
    ✓ copy, move and delete
    ✓ mkdirp
    ✓ readDirsInDir
    ✓ stat link
    ✓ stat link (non existing target)
    ✓ readdir
    ✓ readdirWithFileTypes
    ✓ writeFile (string) (47ms)
    ✓ writeFile (Buffer) (40ms)
    ✓ writeFile (UInt8Array) (42ms)
    ✓ writeFile (string, error handling)
    ✓ writeFileSync (41ms)

  TextChangeCompressor
    ✓ simple 1
    ✓ simple 2
    ✓ complex1
    ✓ gen1
    ✓ gen2
    ✓ gen3
    ✓ gen4
    ✓ gen5
    ✓ gen6

  richEditBrackets
    ✓ findPrevBracketInToken one char 1
    ✓ findPrevBracketInToken one char 2
    ✓ findPrevBracketInToken one char 3
    ✓ findPrevBracketInToken more chars 1
    ✓ findPrevBracketInToken more chars 2
    ✓ findPrevBracketInToken more chars 3
    ✓ findNextBracketInToken one char
    ✓ findNextBracketInToken more chars
    ✓ findNextBracketInToken with emoty result
    ✓ issue #3894: [Handlebars] Curly braces edit issues

  SemanticTokensDto
    ✓ full encoding
    ✓ delta encoding
    ✓ partial array buffer
    ✓ issue #94521: unusual backing array buffer

  Encoding
    ✓ detectBOM does not return error for non existing file
    ✓ detectBOM UTF-8
    ✓ detectBOM UTF-16 LE
    ✓ detectBOM UTF-16 BE
    ✓ detectBOM ANSI
    ✓ detectBOM ANSI
    ✓ resolve terminal encoding (detect)
    ✓ resolve terminal encoding (environment)
    ✓ detectEncodingFromBuffer (JSON saved as PNG)
    ✓ detectEncodingFromBuffer (PNG saved as TXT)
    ✓ detectEncodingFromBuffer (XML saved as PNG)
    ✓ detectEncodingFromBuffer (QWOFF saved as TXT)
    ✓ detectEncodingFromBuffer (CSS saved as QWOFF)
    ✓ detectEncodingFromBuffer (PDF)
    ✓ detectEncodingFromBuffer (guess UTF-16 LE from content without BOM)
    ✓ detectEncodingFromBuffer (guess UTF-16 BE from content without BOM)
    ✓ autoGuessEncoding (UTF8) (61ms)
    ✓ autoGuessEncoding (ASCII)
    ✓ autoGuessEncoding (ShiftJIS)
    ✓ autoGuessEncoding (CP1252)
    ✓ toDecodeStream - some stream
    ✓ toDecodeStream - some stream, expect too much data
    ✓ toDecodeStream - some stream, no data
    ✓ toDecodeStream - encoding, utf16be
    ✓ toDecodeStream - empty file
    ✓ toDecodeStream - decodes buffer entirely
    ✓ toEncodeReadable - encoding, utf16be
    ✓ toEncodeReadable - empty readable to utf8
    ✓ toEncodeReadable - empty readable to utf8 with BOM
    ✓ toEncodeReadable - empty readable to utf8bom with BOM
    ✓ toEncodeReadable - empty readable to utf16be with BOM
    ✓ toEncodeReadable - empty readable to utf16le with BOM

  references
    ✓ nearestReference

  GlobalStateMerge
    ✓ merge when local and remote are same with one value
    ✓ merge when local and remote are same with multiple entries
    ✓ merge when local and remote are same with multiple entries in different order
    ✓ merge when local and remote are same with different base content
    ✓ merge when a new entry is added to remote
    ✓ merge when multiple new entries are added to remote
    ✓ merge when new entry is added to remote from base and local has not changed
    ✓ merge when an entry is removed from remote from base and local has not changed
    ✓ merge when all entries are removed from base and local has not changed
    ✓ merge when an entry is updated in remote from base and local has not changed
    ✓ merge when remote has moved forwarded with multiple changes and local stays with base
    ✓ merge when new entries are added to local
    ✓ merge when multiple new entries are added to local from base and remote is not changed
    ✓ merge when an entry is removed from local from base and remote has not changed
    ✓ merge when an entry is updated in local from base and remote has not changed
    ✓ merge when local has moved forwarded with multiple changes and remote stays with base
    ✓ merge when local and remote with one entry but different value
    ✓ merge when the entry is removed in remote but updated in local and a new entry is added in remote
    ✓ merge with single entry and local is empty
    ✓ merge when local and remote has moved forwareded with conflicts
    ✓ merge when a new entry is added to remote but not a registered key
    ✓ merge when a new entry is added to remote but different version
    ✓ merge when an entry is updated to remote but not a registered key
    ✓ merge when a new entry is updated to remote but different version
    ✓ merge when a local value is update with lower version
    ✓ merge when a local value is update with higher version
    ✓ merge when a local value is removed but not registered
    ✓ merge when a local value is removed with lower version
    ✓ merge when a local value is removed with higher version
    ✓ merge when a local value is not yet registered

  History Storage
    ✓ storing and restoring
    ✓ open 1_25
    ✓ open 1_31
    ✓ open 1_32
    ✓ open 1_33

  StateService
    ✓ Basics (50ms)

  Command Tests
    ✓ register command - no handler
    ✓ register/dispose
    ✓ register/register/dispose
    ✓ command with description

  extractRangeFromFilter
    ✓ basics
    ✓ allow space after path
    ✓ unless

  Base IPC
    ✓ createProtocolPair
    one to one
      ✓ call success
      ✓ call error
      ✓ cancel call with cancelled cancellation token
      ✓ cancel call with cancellation token (sync)
      ✓ cancel call with cancellation token (async)
      ✓ listen to events
      ✓ buffers in arrays
    one to one (proxy)
      ✓ call success
      ✓ call error
      ✓ listen to events
      ✓ marshalling uri
      ✓ buffers in arrays
    one to one (proxy, extra context)
      ✓ call extra context
    one to many
      ✓ all clients get pinged
      ✓ server gets pings from all clients (broadcast channel)

  IPC, Socket Protocol
    ✓ read/write
    ✓ read/write, object data

  PersistentProtocol reconnection
    ✓ acks get piggybacked with messages

  IPC, Child Process
    ✓ createChannel (115ms)
    ✓ events (116ms)
    ✓ event dispose (121ms)

  Notifications
    ✓ Items
    ✓ Model

  Diff
    ✓ LcsDiff - different strings tests (40ms)

  Diff - Ported from VS
    ✓ using continue processing predicate to quit early

  Editor Diff - DiffComputer
    ✓ one inserted line below
    ✓ two inserted lines below
    ✓ one inserted line above
    ✓ two inserted lines above
    ✓ one inserted line in middle
    ✓ two inserted lines in middle
    ✓ two inserted lines in middle interrupted
    ✓ one deleted line below
    ✓ two deleted lines below
    ✓ one deleted lines above
    ✓ two deleted lines above
    ✓ one deleted line in middle
    ✓ two deleted lines in middle
    ✓ two deleted lines in middle interrupted
    ✓ one line changed: chars inserted at the end
    ✓ one line changed: chars inserted at the beginning
    ✓ one line changed: chars inserted in the middle
    ✓ one line changed: chars inserted in the middle (two spots)
    ✓ one line changed: chars deleted 1
    ✓ one line changed: chars deleted 2
    ✓ two lines changed 1
    ✓ two lines changed 2
    ✓ two lines changed 3
    ✓ three lines changed
    ✓ big change part 1
    ✓ big change part 2
    ✓ char change postprocessing merges
    ✓ ignore trim whitespace
    ✓ issue #12122 r.hasOwnProperty is not a function
    ✓ empty diff 1
    ✓ empty diff 2
    ✓ empty diff 3
    ✓ empty diff 4
    ✓ pretty diff 1
    ✓ pretty diff 2
    ✓ pretty diff 3
    ✓ issue #23636
    ✓ issue #43922
    ✓ issue #42751
    ✓ does not give character changes
    ✓ issue #44422: Less than ideal diff results

  History Navigator
    ✓ create reduces the input to limit
    ✓ create sets the position to last
    ✓ last returns last element
    ✓ first returns first element
    ✓ next returns next element
    ✓ previous returns previous element
    ✓ next on last element returs null and remains on last
    ✓ previous on first element returs null and remains on first
    ✓ add reduces the input to limit
    ✓ adding existing element changes the position
    ✓ add resets the navigator to last
    ✓ adding an existing item changes the order
    ✓ previous returns null if the current position is the first one
    ✓ previous returns object if the current position is not the first one
    ✓ next returns null if the current position is the last one
    ✓ next returns object if the current position is not the last one
    ✓ clear

  Snippets
    ✓ SnippetFile#select
    ✓ SnippetFile#select - any scope
    ✓ Snippet#needsClipboard

  SnippetRewrite
    ✓ bogous variable rewrite
    ✓ Snippet choices: unable to escape comma and pipe, #31521
    ✓ lazy bogous variable rewrite

  IssueReporter
    ✓ sets defaults to include all data
    ✓ serializes model skeleton when no data is provided
    ✓ serializes GPU information when data is provided
    ✓ serializes Linux environment information when data is provided
    ✓ serializes remote information when data is provided
    ✓ should normalize GitHub urls
    ✓ should have support for filing on extensions for bugs, performance issues, and feature requests

  LineTokens
    ✓ basics
    ✓ findToken
    ✓ inflate
    ✓ sliceAndInflate

  Editor Modes - Auto Indentation
    ✓ getElectricCharacters uses all sources and dedups
    ✓ matchOpenBracket

  CharacterPairSupport
    ✓ only autoClosingPairs
    ✓ only empty autoClosingPairs
    ✓ only brackets
    ✓ only empty brackets
    ✓ only surroundingPairs
    ✓ only empty surroundingPairs
    ✓ brackets is ignored when having autoClosingPairs
    ✓ shouldAutoClosePair in empty line
    ✓ shouldAutoClosePair in not interesting line 1
    ✓ shouldAutoClosePair in not interesting line 2
    ✓ shouldAutoClosePair in interesting line 1
    ✓ shouldAutoClosePair in interesting line 2
    ✓ shouldAutoClosePair in interesting line 3

  Editor Modes - textToHtmlTokenizer
    ✓ TextToHtmlTokenizer 1
    ✓ TextToHtmlTokenizer 2
    ✓ tokenizeLineToHTML
    ✓ tokenizeLineToHTML handle spaces #35954

  viewLineRenderer.renderLine
    ✓ replaces spaces
    ✓ escapes HTML markup
    ✓ replaces some bad characters
    ✓ handles tabs
    ✓ empty line
    ✓ uses part type
    ✓ two parts
    ✓ overflow
    ✓ typical line
    ✓ issue #2255: Weird line rendering part 1
    ✓ issue #2255: Weird line rendering part 2
    ✓ issue #91178: after decoration type shown before cursor
    ✓ issue Microsoft/monaco-editor#280: Improved source code rendering for RTL languages
    ✓ issue #6885: Splits large tokens
    ✓ issue #21476: Does not split large tokens when ligatures are on
    ✓ issue #20624: Unaligned surrogate pairs are corrupted at multiples of 50 columns
    ✓ issue #6885: Does not split large tokens in RTL text
    ✓ issue #95685: Uses unicode replacement character for Paragraph Separator
    ✓ issue #19673: Monokai Theme bad-highlighting in line wrap

  viewLineRenderer.renderLine 2
    ✓ issue #18616: Inline decorations ending at the text length are no longer rendered
    ✓ issue #19207: Link in Monokai is not rendered correctly
    ✓ createLineParts simple
    ✓ createLineParts simple two tokens
    ✓ createLineParts render whitespace - 4 leading spaces
    ✓ createLineParts render whitespace - 8 leading spaces
    ✓ createLineParts render whitespace - 2 leading tabs
    ✓ createLineParts render whitespace - mixed leading spaces and tabs
    ✓ createLineParts render whitespace skips faux indent
    ✓ createLineParts does not emit width for monospace fonts
    ✓ createLineParts render whitespace in middle but not for one space
    ✓ createLineParts render whitespace for all in middle
    ✓ createLineParts render whitespace for selection with no selections
    ✓ createLineParts render whitespace for selection with whole line selection
    ✓ createLineParts render whitespace for selection with selection spanning part of whitespace
    ✓ createLineParts render whitespace for selection with multiple selections
    ✓ createLineParts render whitespace for selection with multiple, initially unsorted selections
    ✓ createLineParts render whitespace for selection with selections next to each other
    ✓ createLineParts can handle unsorted inline decorations
    ✓ issue #11485: Visible whitespace conflicts with before decorator attachment
    ✓ issue #32436: Non-monospace font + visible whitespace + After decorator causes line to "jump"
    ✓ issue #30133: Empty lines don't render inline decorations
    ✓ issue #37208: Collapsing bullet point containing emoji in Markdown document results in [??] character
    ✓ issue #37401 #40127: Allow both before and after decorations on empty line
    ✓ issue #38935: GitLens end-of-line blame no longer rendering
    ✓ issue #22832: Consider fullwidth characters when rendering tabs
    ✓ issue #22832: Consider fullwidth characters when rendering tabs (render whitespace)
    ✓ issue #22352: COMBINING ACUTE ACCENT (U+0301)
    ✓ issue #22352: Partially Broken Complex Script Rendering of Tamil
    ✓ issue #42700: Hindi characters are not being rendered properly
    ✓ issue #38123: editor.renderWhitespace: "boundary" renders whitespace at line wrap point when line is wrapped
    ✓ issue #33525: Long line with ligatures takes a long time to paint decorations
    ✓ issue #33525: Long line with ligatures takes a long time to paint decorations - not possible
    ✓ issue #91936: Semantic token color highlighting fails on line with selected text
    ✓ getColumnOfLinePartOffset 1 - simple text
    ✓ getColumnOfLinePartOffset 2 - regular JS
    ✓ getColumnOfLinePartOffset 3 - tab with tab size 6
    ✓ getColumnOfLinePartOffset 4 - once indented line, tab size 4
    ✓ getColumnOfLinePartOffset 5 - twice indented line, tab size 4

  KeybindingLabels
    ✓ Windows US label
    ✓ Linux US label
    ✓ Mac US label
    ✓ Aria label
    ✓ Electron Accelerator label
    ✓ User Settings label
    ✓ issue #91235: Do not end with a +

  keybindingIO
    ✓ serialize/deserialize
    ✓ deserialize scan codes
    ✓ issue #10452 - invalid command
    ✓ issue #10452 - invalid when
    ✓ issue #10452 - invalid key
    ✓ issue #10452 - invalid key 2
    ✓ test commands args

  keyboardMapper - MAC fallback
    ✓ resolveKeybinding Cmd+Z
    ✓ resolveKeybinding Cmd+K Cmd+=
    ✓ resolveKeyboardEvent Cmd+Z
    ✓ resolveUserBinding empty
    ✓ resolveUserBinding Cmd+[Comma] Cmd+/
    ✓ resolveKeyboardEvent Modifier only Meta+

  keyboardMapper - LINUX fallback
    ✓ resolveKeybinding Ctrl+Z
    ✓ resolveKeybinding Ctrl+K Ctrl+=
    ✓ resolveKeyboardEvent Ctrl+Z
    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/
    ✓ resolveUserBinding Ctrl+[Comma]
    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - WINDOWS de_ch
    ✓ mapping
    ✓ resolveKeybinding Ctrl+A
    ✓ resolveKeybinding Ctrl+Z
    ✓ resolveKeyboardEvent Ctrl+Z
    ✓ resolveKeybinding Ctrl+]
    ✓ resolveKeyboardEvent Ctrl+]
    ✓ resolveKeybinding Shift+]
    ✓ resolveKeybinding Ctrl+/
    ✓ resolveKeybinding Ctrl+Shift+/
    ✓ resolveKeybinding Ctrl+K Ctrl+\
    ✓ resolveKeybinding Ctrl+K Ctrl+=
    ✓ resolveKeybinding Ctrl+DownArrow
    ✓ resolveKeybinding Ctrl+NUMPAD_0
    ✓ resolveKeybinding Ctrl+Home
    ✓ resolveKeyboardEvent Ctrl+Home
    ✓ resolveUserBinding empty
    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/
    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - WINDOWS en_us
    ✓ mapping
    ✓ resolveKeybinding Ctrl+K Ctrl+\
    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/
    ✓ resolveUserBinding Ctrl+[Comma]
    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - WINDOWS por_ptb
    ✓ mapping
    ✓ resolveKeyboardEvent Ctrl+[IntlRo]
    ✓ resolveKeyboardEvent Ctrl+[NumpadComma]

  keyboardMapper - WINDOWS ru
    ✓ mapping
    ✓ issue ##24361: resolveKeybinding Ctrl+K Ctrl+K

  keyboardMapper - misc
    ✓ issue #23513: Toggle Sidebar Visibility and Go to Line display same key mapping in Arabic keyboard

  keyboardMapper - MAC de_ch
    ✓ mapping
    ✓ kb => hw
    ✓ resolveKeybinding Cmd+A
    ✓ resolveKeybinding Cmd+B
    ✓ resolveKeybinding Cmd+Z
    ✓ resolveKeyboardEvent Cmd+[KeyY]
    ✓ resolveKeybinding Cmd+]
    ✓ resolveKeyboardEvent Cmd+[BracketRight]
    ✓ resolveKeybinding Shift+]
    ✓ resolveKeybinding Cmd+/
    ✓ resolveKeybinding Cmd+Shift+/
    ✓ resolveKeybinding Cmd+K Cmd+\
    ✓ resolveKeybinding Cmd+K Cmd+=
    ✓ resolveKeybinding Cmd+DownArrow
    ✓ resolveKeybinding Cmd+NUMPAD_0
    ✓ resolveKeybinding Ctrl+Home
    ✓ resolveKeyboardEvent Ctrl+[Home]
    ✓ resolveUserBinding empty
    ✓ resolveUserBinding Cmd+[Comma] Cmd+/
    ✓ resolveKeyboardEvent Modifier only MetaLeft+
    ✓ resolveKeyboardEvent Modifier only MetaRight+

  keyboardMapper - MAC en_us
    ✓ mapping
    ✓ resolveUserBinding Cmd+[Comma] Cmd+/
    ✓ resolveKeyboardEvent Modifier only MetaLeft+
    ✓ resolveKeyboardEvent Modifier only MetaRight+

  keyboardMapper - LINUX de_ch
    ✓ mapping
    ✓ kb => hw
    ✓ resolveKeybinding Ctrl+A
    ✓ resolveKeybinding Ctrl+Z
    ✓ resolveKeyboardEvent Ctrl+[KeyY]
    ✓ resolveKeybinding Ctrl+]
    ✓ resolveKeyboardEvent Ctrl+[BracketRight]
    ✓ resolveKeybinding Shift+]
    ✓ resolveKeybinding Ctrl+/
    ✓ resolveKeybinding Ctrl+Shift+/
    ✓ resolveKeybinding Ctrl+K Ctrl+\
    ✓ resolveKeybinding Ctrl+K Ctrl+=
    ✓ resolveKeybinding Ctrl+DownArrow
    ✓ resolveKeybinding Ctrl+NUMPAD_0
    ✓ resolveKeybinding Ctrl+Home
    ✓ resolveKeyboardEvent Ctrl+[Home]
    ✓ resolveKeyboardEvent Ctrl+[KeyX]
    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/
    ✓ resolveKeyboardEvent Modifier only ControlLeft+
    ✓ resolveKeyboardEvent Modifier only ControlRight+

  keyboardMapper - LINUX en_us
    ✓ mapping
    ✓ resolveKeybinding Ctrl+A
    ✓ resolveKeybinding Ctrl+Z
    ✓ resolveKeyboardEvent Ctrl+[KeyZ]
    ✓ resolveKeybinding Ctrl+]
    ✓ resolveKeyboardEvent Ctrl+[BracketRight]
    ✓ resolveKeybinding Shift+]
    ✓ resolveKeybinding Ctrl+/
    ✓ resolveKeybinding Ctrl+Shift+/
    ✓ resolveKeybinding Ctrl+K Ctrl+\
    ✓ resolveKeybinding Ctrl+K Ctrl+=
    ✓ resolveKeybinding Ctrl+DownArrow
    ✓ resolveKeybinding Ctrl+NUMPAD_0
    ✓ resolveKeybinding Ctrl+Home
    ✓ resolveKeyboardEvent Ctrl+[Home]
    ✓ resolveKeybinding Ctrl+Shift+,
    ✓ issue #23393: resolveKeybinding Ctrl+Enter
    ✓ issue #23393: resolveKeyboardEvent Ctrl+[NumpadEnter]
    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/
    ✓ resolveUserBinding Ctrl+[Comma]
    ✓ resolveKeyboardEvent Modifier only ControlLeft+
    ✓ resolveKeyboardEvent Modifier only ControlRight+

  keyboardMapper
    ✓ issue #23706: Linux UK layout: Ctrl + Apostrophe also toggles terminal
    ✓ issue #24064: NumLock/NumPad keys stopped working in 1.11 on Linux
    ✓ issue #24107: Delete, Insert, Home, End, PgUp, PgDn, and arrow keys no longer work editor in 1.11

  keyboardMapper - LINUX ru
    ✓ mapping
    ✓ resolveKeybinding Ctrl+S

  keyboardMapper - LINUX en_uk
    ✓ mapping
    ✓ issue #24522: resolveKeyboardEvent Ctrl+Alt+[Minus]

  keyboardMapper - MAC zh_hant
    ✓ mapping
    ✓ issue #28237 resolveKeybinding Cmd+C

  MenuService
    ✓ group sorting
    ✓ in group sorting, by title
    ✓ in group sorting, by title and order
    ✓ in group sorting, special: navigation
    ✓ special MenuId palette

  KeybindingResolver
    ✓ resolve key
    ✓ resolve key with arguments
    ✓ KeybindingResolver.combine simple 1
    ✓ KeybindingResolver.combine simple 2
    ✓ KeybindingResolver.combine removal with not matching when
    ✓ KeybindingResolver.combine removal with not matching keybinding
    ✓ KeybindingResolver.combine removal with matching keybinding and when
    ✓ KeybindingResolver.combine removal with unspecified keybinding
    ✓ KeybindingResolver.combine removal with unspecified when
    ✓ KeybindingResolver.combine removal with unspecified when and unspecified keybinding
    ✓ issue #612#issuecomment-222109084 cannot remove keybindings for commands with ^
    ✓ contextIsEntirelyIncluded
    ✓ resolve command

  KeybindingsEditorModel
    ✓ fetch returns default keybindings
    ✓ fetch returns default keybindings at the top
    ✓ fetch returns default keybindings sorted by command id
    ✓ fetch returns user keybinding first if default and user has same id
    ✓ fetch returns keybinding with titles first
    ✓ fetch returns keybinding with user first if title and id matches
    ✓ fetch returns default keybindings sorted by precedence
    ✓ convert keybinding without title to entry
    ✓ convert keybinding with title to entry
    ✓ convert without title and binding to entry
    ✓ convert with title and without binding to entry
    ✓ filter by command id
    ✓ filter by command title
    ✓ filter by default source
    ✓ filter by user source
    ✓ filter by default source with "@source: " prefix
    ✓ filter by user source with "@source: " prefix
    ✓ filter by when context
    ✓ filter by cmd key
    ✓ filter by meta key
    ✓ filter by command key
    ✓ filter by windows key
    ✓ filter by alt key
    ✓ filter by option key
    ✓ filter by ctrl key
    ✓ filter by control key
    ✓ filter by shift key
    ✓ filter by arrow
    ✓ filter by modifier and key
    ✓ filter by key and modifier
    ✓ filter by modifiers and key
    ✓ filter by modifiers in random order and key
    ✓ filter by first part
    ✓ filter matches in chord part
    ✓ filter matches first part and in chord part
    ✓ filter exact matches
    ✓ filter exact matches with first and chord part
    ✓ filter exact matches with first and chord part no results
    ✓ filter matches with + separator
    ✓ filter matches with + separator in first and chord parts
    ✓ filter exact matches with space #32993
    ✓ filter exact matches with user settings label
    ✓ filter modifiers are not matched when not completely matched (prefix)
    ✓ filter modifiers are not matched when not completely matched (includes)
    ✓ filter modifiers are matched with complete term

  CompletionModel
    ✓ filtering - cached
    ✓ complete/incomplete
    ✓ replaceIncomplete
    ✓ Fuzzy matching of snippets stopped working with inline snippet suggestions #49895
    ✓ proper current word when length=0, #16380
    ✓ keep snippet sorting with prefix: top, #25495
    ✓ keep snippet sorting with prefix: bottom, #25495
    ✓ keep snippet sorting with prefix: inline, #25495
    ✓ filterText seems ignored in autocompletion, #26874
    ✓ Vscode 1.12 no longer obeys 'sortText' in completion items (from language server), #26096
    ✓ Score only filtered items when typing more, score all when typing less
    ✓ Have more relaxed suggest matching algorithm #15419
    ✓ Emmet suggestion not appearing at the top of the list in jsx files, #39518

  UndoRedoService
    ✓ simple single resource elements
    ✓ multi resource elements

  CommandService
    ✓ activateOnCommand
    ✓ fwd activation error
    ✓ !onReady, but executeCommand
    ✓ issue #34913: !onReady, unknown command
    ✓ Stop waiting for * extensions to activate when trigger is satisfied #62457
    ✓ issue #71471: wait for onCommand activation even if a command is registered

  PieceTreeTextBuffer._getInverseEdits
    ✓ single insert
    ✓ Bug 19872: Undo is funky
    ✓ two single unrelated inserts
    ✓ two single inserts 1
    ✓ two single inserts 2
    ✓ multiline insert
    ✓ two unrelated multiline inserts
    ✓ two multiline inserts 1
    ✓ single delete
    ✓ two single unrelated deletes
    ✓ two single deletes 1
    ✓ two single deletes 2
    ✓ multiline delete
    ✓ two unrelated multiline deletes
    ✓ two multiline deletes 1
    ✓ single replace
    ✓ two replaces
    ✓ many edits

  PieceTreeTextBuffer._toSingleEditOperation
    ✓ one edit op is unchanged
    ✓ two edits on one line
    ✓ insert multiple newlines
    ✓ delete empty text
    ✓ two unrelated edits
    ✓ many edits
    ✓ many edits reversed
    ✓ replacing newlines 1
    ✓ replacing newlines 2
    ✓ advanced
    ✓ advanced simplified

  ModelBuilder
    ✓ t1
    ✓ t2
    ✓ t3
    ✓ t4
    ✓ carriage return detection (1 \r\n 2 \n)
    ✓ carriage return detection (2 \r\n 1 \n)
    ✓ carriage return detection (3 \r\n 0 \n)
    ✓ BOM handling
    ✓ BOM handling
    ✓ RTL handling 2
    ✓ RTL handling 3
    ✓ ASCII handling 1
    ✓ ASCII handling 2

  OutlineModel
    ✓ OutlineModel#create, cached
    ✓ OutlineModel#create, cached/cancel
    ✓ OutlineElement - updateMarker
    ✓ OutlineElement - updateMarker, 2
    ✓ OutlineElement - updateMarker/multiple groups

  Syntax folding
    ✓ Limit by nesting level

  Suggest
    ✓ sort - snippet inline
    ✓ sort - snippet top
    ✓ sort - snippet bottom
    ✓ sort - snippet none
    ✓ only from
    ✓ Ctrl+space completions stopped working with the latest Insiders, #97650

  TextAreaState
    ✓ fromTextArea
    ✓ applyToTextArea
    ✓ deduceInput - Japanese typing sennsei and accepting
    ✓ deduceInput - Japanese typing sennsei and choosing different suggestion
    ✓ extractNewText - no previous state with selection
    ✓ issue #2586: Replacing selected end-of-line with newline locks up the document
    ✓ extractNewText - no previous state without selection
    ✓ extractNewText - typing does not cause a selection
    ✓ extractNewText - had the textarea empty
    ✓ extractNewText - had the entire line selected
    ✓ extractNewText - had previous text 1
    ✓ extractNewText - had previous text 2
    ✓ extractNewText - had previous text 3
    ✓ extractNewText - IME
    ✓ extractNewText - isInOverwriteMode
    ✓ extractMacReplacedText - does nothing if there is selection
    ✓ extractMacReplacedText - does nothing if there is more than one extra char
    ✓ extractMacReplacedText - does nothing if there is more than one changed char
    ✓ extractMacReplacedText
    ✓ issue #25101 - First key press ignored
    ✓ issue #16520 - Cmd-d of single character followed by typing same character as has no effect
    ✓ issue #4271 (example 1) - When inserting an emoji on OSX, it is placed two spaces left of the cursor
    ✓ issue #4271 (example 2) - When inserting an emoji on OSX, it is placed two spaces left of the cursor
    ✓ issue #4271 (example 3) - When inserting an emoji on OSX, it is placed two spaces left of the cursor
    ✓ issue #4271 (example 4) - When inserting an emoji on OSX, it is placed two spaces left of the cursor
    PagedScreenReaderStrategy
      ✓ simple
      ✓ multiline
      ✓ page

  Editor Model - Model Modes 1
    ✓ model calls syntax highlighter 1
    ✓ model calls syntax highlighter 2
    ✓ model caches states
    ✓ model invalidates states for one line insert
    ✓ model invalidates states for many lines insert
    ✓ model invalidates states for one new line
    ✓ model invalidates states for one line delete
    ✓ model invalidates states for many lines delete

  Editor Model - Model Modes 2
    ✓ getTokensForInvalidLines one text insert
    ✓ getTokensForInvalidLines two text insert
    ✓ getTokensForInvalidLines one multi-line text insert, one small text insert
    ✓ getTokensForInvalidLines one delete text
    ✓ getTokensForInvalidLines one line delete text
    ✓ getTokensForInvalidLines multiple lines delete text

  ModelLine - getIndentLevel
    ✓ getIndentLevel

  ModelLinesTokens
    ✓ single delete 1
    ✓ single delete 2
    ✓ single delete 3
    ✓ single delete 4
    ✓ single delete 5
    ✓ multi delete 6
    ✓ multi delete 7
    ✓ multi delete 8
    ✓ multi delete 9
    ✓ single insert 1
    ✓ single insert 2
    ✓ single insert 3
    ✓ single insert 4
    ✓ single insert 5
    ✓ multi insert 6
    ✓ multi insert 7
    ✓ multi insert 8
    ✓ multi insert 9
    ✓ insertion on empty line
    ✓ updates tokens on insertion 1
    ✓ updates tokens on insertion 2
    ✓ updates tokens on insertion 3
    ✓ updates tokens on insertion 4
    ✓ updates tokens on insertion 5
    ✓ updates tokens on insertion 6
    ✓ updates tokens on insertion 7
    ✓ updates tokens on insertion 8
    ✓ updates tokens on insertion 9
    ✓ updates tokens on insertion 10
    ✓ delete second token 2
    ✓ insert right before second token
    ✓ delete first char
    ✓ delete 2nd and 3rd chars
    ✓ delete first token
    ✓ delete second token
    ✓ delete second token + a bit of the third one
    ✓ delete second and third token
    ✓ delete everything
    ✓ noop
    ✓ equivalent to deleting first two chars
    ✓ equivalent to deleting from 5 to the end
    ✓ updates tokens on replace 1
    ✓ updates tokens on replace 2
    ✓ split at the beginning
    ✓ split at the end
    ✓ split inthe middle 1
    ✓ split inthe middle 2
    ✓ append empty 1
    ✓ append empty 2
    ✓ append 1
    ✓ append 2
    ✓ append 3

  Editor Model - Model
    ✓ model getValue
    ✓ model insert empty text
    ✓ model insert text without newline 1
    ✓ model insert text without newline 2
    ✓ model insert text with one newline
    ✓ model insert text with two newlines
    ✓ model insert text with many newlines
    ✓ model insert empty text does not trigger eventing
    ✓ model insert text without newline eventing
    ✓ model insert text with one newline eventing
    ✓ model delete empty text
    ✓ model delete text from one line
    ✓ model delete text from one line 2
    ✓ model delete all text from a line
    ✓ model delete text from two lines
    ✓ model delete text from many lines
    ✓ model delete everything
    ✓ model delete empty text does not trigger eventing
    ✓ model delete text from one line eventing
    ✓ model delete all text from a line eventing
    ✓ model delete text from two lines eventing
    ✓ model delete text from many lines eventing
    ✓ getValueInRange
    ✓ getValueLengthInRange
    ✓ setValue eventing
    ✓ issue #46342: Maintain edit operation order in applyEdits

  Editor Model - Model Line Separators
    ✓ model getValue
    ✓ model lines
    ✓ Bug 13333:Model should line break on lonely CR too

  Editor Model - Words
    ✓ Get word at position
    ✓ getWordAtPosition at embedded language boundaries
    ✓ issue #61296: VS code freezes when editing CSS file with emoji

  Editor Model - Model Decorations
    ✓ single character decoration
    ✓ line decoration
    ✓ full line decoration
    ✓ multiple line decoration
    ✓ decoration gets removed
    ✓ decorations get removed
    ✓ decoration range can be changed
    ✓ decorations emit event on add
    ✓ decorations emit event on change
    ✓ decorations emit event on remove
    ✓ decorations emit event when inserting one line text before it
    ✓ decorations do not emit event on no-op deltaDecorations
    ✓ decorations are updated when inserting one line text before it
    ✓ decorations are updated when inserting one line text before it 2
    ✓ decorations are updated when inserting multiple lines text before it
    ✓ decorations change when inserting text after them
    ✓ decorations are updated when inserting text inside
    ✓ decorations are updated when inserting text inside 2
    ✓ decorations are updated when inserting text inside 3
    ✓ decorations are updated when inserting multiple lines text inside
    ✓ decorations are updated when deleting one line text before it
    ✓ decorations are updated when deleting multiple lines text before it
    ✓ decorations are updated when deleting multiple lines text before it 2
    ✓ decorations are updated when deleting text inside
    ✓ decorations are updated when deleting text inside 2
    ✓ decorations are updated when deleting multiple lines text
    ✓ decorations are updated when changing EOL
    ✓ an apparently simple edit
    ✓ removeAllDecorationsWithOwnerId can be called after model dispose
    ✓ removeAllDecorationsWithOwnerId works

  Decorations and editing
    insert
      collapsed dec
        ✓ before
        ✓ equal
        ✓ after
      non-collapsed dec
        ✓ before
        ✓ start
        ✓ inside
        ✓ end
        ✓ after
    delete
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end
    replace short
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end
    replace long
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end

  deltaDecorations
    ✓ result respects input
    ✓ deltaDecorations 1
    ✓ deltaDecorations 2
    ✓ deltaDecorations 3
    ✓ issue #4317: editor.setDecorations doesn't update the hover message
    ✓ model doesn't get confused with individual tracked ranges
    ✓ issue #16922: Clicking on link doesn't seem to do anything
    ✓ issue #41492: URL highlighting persists after pasting over url

  Editor Model - Model Edit Operation
    ✓ Insert inline
    ✓ Replace inline/inline 1
    ✓ Replace inline/inline 2
    ✓ Replace inline/inline 3
    ✓ Replace inline/multi line 1
    ✓ Replace inline/multi line 2
    ✓ Replace inline/multi line 3
    ✓ Replace muli line/multi line

  TextModelData.fromString
    ✓ one line text
    ✓ multiline text
    ✓ Non Basic ASCII 1
    ✓ containsRTL 1
    ✓ containsRTL 2

  Editor Model - TextModel
    ✓ getValueLengthInRange
    ✓ guess indentation 1
    ✓ issue #44991: Wrong indentation size auto-detection
    ✓ issue #55818: Broken indentation detection
    ✓ issue #70832: Broken indentation detection
    ✓ issue #62143: Broken indentation detection
    ✓ issue #84217: Broken indentation detection
    ✓ validatePosition
    ✓ validatePosition around high-low surrogate pairs 1
    ✓ validatePosition around high-low surrogate pairs 2
    ✓ validatePosition handle NaN.
    ✓ issue #71480: validatePosition handle floats
    ✓ issue #71480: validateRange handle floats
    ✓ validateRange around high-low surrogate pairs 1
    ✓ validateRange around high-low surrogate pairs 2
    ✓ modifyPosition
    ✓ normalizeIndentation 1
    ✓ normalizeIndentation 2
    ✓ getLineFirstNonWhitespaceColumn
    ✓ getLineLastNonWhitespaceColumn
    ✓ #50471. getValueInRange with invalid range

  TextModel.mightContainRTL
    ✓ nope
    ✓ yes
    ✓ setValue resets 1
    ✓ setValue resets 2

  TextModel.createSnapshot
    ✓ empty file
    ✓ file with BOM
    ✓ regular file
    ✓ large file

  inserts and deletes
    ✓ basic insert/delete
    ✓ more inserts
    ✓ more deletes
    ✓ random test 1
    ✓ random test 2
    ✓ random test 3
    ✓ random delete 1
    ✓ random delete 2
    ✓ random delete 3
    ✓ random insert/delete \r bug 1
    ✓ random insert/delete \r bug 2
    ✓ random insert/delete \r bug 3
    ✓ random insert/delete \r bug 4s
    ✓ random insert/delete \r bug 5

  prefix sum for line feed
    ✓ basic
    ✓ append
    ✓ insert
    ✓ delete
    ✓ add+delete 1
    ✓ insert random bug 1: prefixSumComputer.removeValues(start, cnt) cnt is 1 based.
    ✓ insert random bug 2: prefixSumComputer initialize does not do deep copy of UInt32Array.
    ✓ delete random bug 1: I forgot to update the lineFeedCnt when deletion is on one single piece.
    ✓ delete random bug rb tree 1
    ✓ delete random bug rb tree 2
    ✓ delete random bug rb tree 3

  offset 2 position
    ✓ random tests bug 1

  get text in range
    ✓ getContentInRange
    ✓ random test value in range
    ✓ random test value in range exception
    ✓ random tests bug 1
    ✓ random tests bug 2
    ✓ get line content
    ✓ get line content basic
    ✓ get line content after inserts/deletes
    ✓ random 1
    ✓ random 2

  CRLF
    ✓ delete CR in CRLF 1
    ✓ delete CR in CRLF 2
    ✓ random bug 1
    ✓ random bug 2
    ✓ random bug 3
    ✓ random bug 4
    ✓ random bug 5
    ✓ random bug 6
    ✓ random bug 8
    ✓ random bug 7
    ✓ random bug 10
    ✓ random bug 9

  centralized lineStarts with CRLF
    ✓ delete CR in CRLF 1
    ✓ delete CR in CRLF 2
    ✓ random bug 1
    ✓ random bug 2
    ✓ random bug 3
    ✓ random bug 4
    ✓ random bug 5
    ✓ random bug 6
    ✓ random bug 7
    ✓ random bug 8
    ✓ random bug 9
    ✓ random bug 10
    ✓ random chunk bug 1
    ✓ random chunk bug 2
    ✓ random chunk bug 3
    ✓ random chunk bug 4

  random is unsupervised
    ✓ splitting large change buffer
    ✓ random insert delete (93ms)
    ✓ random chunks (46ms)
    ✓ random chunks 2

  buffer api
    ✓ equal
    ✓ equal 2, empty buffer
    ✓ equal 3, empty buffer
    ✓ getLineCharCode - issue #45735
    ✓ getLineCharCode - issue #47733

  search offset cache
    ✓ render white space exception
    ✓ Line breaks replacement is not necessary when EOL is normalized
    ✓ Line breaks replacement is not necessary when EOL is normalized 2
    ✓ Line breaks replacement is not necessary when EOL is normalized 3
    ✓ Line breaks replacement is not necessary when EOL is normalized 4

  snapshot
    ✓ bug #45564, piece tree pieces should be immutable
    ✓ immutable snapshot 1
    ✓ immutable snapshot 2
    ✓ immutable snapshot 3

  chunk based search
    ✓ #45892. For some cases, the buffer is empty but we still try to search
    ✓ #45770. FindInNode should not cross node boundary.
    ✓ search searching from the middle

  TextModelSearch
    ✓ Simple find
    ✓ Case sensitive find
    ✓ Whole words find
    ✓ /^/ find
    ✓ /$/ find
    ✓ /.*/ find
    ✓ /^$/ find
    ✓ multiline find 1
    ✓ multiline find 2
    ✓ multiline find 3
    ✓ multiline find 4
    ✓ multiline find with line beginning regex
    ✓ matching empty lines using boundary expression
    ✓ matching lines starting with A and ending with B
    ✓ multiline find with line ending regex
    ✓ issue #4836 - ^.*$
    ✓ multiline find for non-regex string
    ✓ issue #3623: Match whole word does not work for not latin characters
    ✓ issue #27459: Match whole words regression
    ✓ issue #27594: Search results disappear
    ✓ findNextMatch without regex
    ✓ findNextMatch with beginning boundary regex
    ✓ findNextMatch with beginning boundary regex and line has repetitive beginnings
    ✓ findNextMatch with beginning boundary multiline regex and line has repetitive beginnings
    ✓ findNextMatch with ending boundary regex
    ✓ findMatches with capturing matches
    ✓ findMatches multiline with capturing matches
    ✓ findNextMatch with capturing matches
    ✓ findNextMatch multiline with capturing matches
    ✓ findPreviousMatch with capturing matches
    ✓ findPreviousMatch multiline with capturing matches
    ✓ \n matches \r\n
    ✓ \r can never be found
    ✓ parseSearchRequest invalid
    ✓ parseSearchRequest non regex
    ✓ parseSearchRequest regex
    ✓ issue #53415. W should match line break. (48ms)
    ✓ issue #65281. w should match line break.
    ✓ Simple find using unicode escape sequences
    ✓ isMultilineRegexSource
    ✓ issue #74715. \d* finds empty string and stops searching.
    ✓ issue #100134. Zero-length matches should properly step over surrogate pairs

  TokensStore
    ✓ issue #86303 - color shifting between different tokens
    ✓ deleting a newline
    ✓ inserting a newline
    ✓ deleting a newline 2
    ✓ issue #91936: Semantic token color highlighting fails on line with selected text
    ✓ partial tokens 1
    ✓ partial tokens 2
    ✓ partial tokens 3
    ✓ issue #94133: Semantic colors stick around when using (only) range provider
    ✓ bug
    ✓ issue #95949: Identifiers are colored in bold when targetting keywords

  TextModelWithTokens
    ✓ brackets

  TextModelWithTokens - bracket matching
    ✓ bracket matching 1
    ✓ bracket matching 2

  TextModelWithTokens
    ✓ bracket matching 3
    ✓ bracket matching 4
    ✓ issue #88075: TypeScript brace matching is incorrect in `${}` strings

  TextModelWithTokens regression tests
    ✓ Microsoft/monaco-editor#122: Unhandled Exception: TypeError: Unable to get property 'replace' of undefined or null reference
    ✓ Microsoft/monaco-editor#133: Error: Cannot read property 'modeId' of undefined
    ✓ issue #11856: Bracket matching does not work as expected if the opening brace symbol is contained in the closing brace symbol
    ✓ issue #63822: Wrong embedded language detected for empty lines

  TextModel.getLineIndentGuide
    ✓ getLineIndentGuide one level 2
    ✓ getLineIndentGuide two levels
    ✓ getLineIndentGuide three levels
    ✓ getLineIndentGuide decreasing indent
    ✓ getLineIndentGuide Java
    ✓ getLineIndentGuide Javadoc
    ✓ getLineIndentGuide Whitespace
    ✓ getLineIndentGuide Tabs
    ✓ getLineIndentGuide checker.ts
    ✓ issue #8425 - Missing indentation lines for first level indentation
    ✓ issue #8952 - Indentation guide lines going through text on .yml file
    ✓ issue #11892 - Indent guides look funny
    ✓ issue #12398 - Problem in indent guidelines
    ✓ issue #49173
    ✓ tweaks - no active
    ✓ tweaks - inside scope
    ✓ tweaks - scope start
    ✓ tweaks - empty line

  SmartSnippetInserter
    ✓ empty text
    ✓ empty array 1
    ✓ empty array 2
    ✓ empty array 3
    ✓ one element array 1
    ✓ two elements array 1
    ✓ two elements array 2

  Indentation Folding
    ✓ Limit by indent

  FoldingRanges
    ✓ test max folding regions (153ms)
    ✓ findRange
    ✓ setCollapsed

  Indentation Folding
    ✓ Fold one level
    ✓ Fold two levels
    ✓ Fold three levels
    ✓ Fold decreasing indent
    ✓ Fold Java
    ✓ Fold Javadoc
    ✓ Fold Whitespace Java
    ✓ Fold Whitespace Python
    ✓ Fold Tabs

  Folding with regions
    ✓ Inside region, indented
    ✓ Inside region, not indented
    ✓ Empty Regions
    ✓ Nested Regions
    ✓ Nested Regions 2
    ✓ Incomplete Regions
    ✓ Incomplete Regions 2
    ✓ Indented region before
    ✓ Indented region before 2
    ✓ Indented region in-between
    ✓ Indented region after
    ✓ With off-side
    ✓ Nested with off-side
    ✓ Issue 35981
    ✓ Misspelled Markers
    ✓ Issue 79359

  Folding Model
    ✓ getRegionAtLine
    ✓ collapse
    ✓ update
    ✓ delete
    ✓ getRegionsInside
    ✓ getRegionsInsideWithLevel
    ✓ getRegionAtLine
    ✓ setCollapseStateRecursivly
    ✓ setCollapseStateAtLevel
    ✓ setCollapseStateLevelsDown
    ✓ setCollapseStateLevelsUp
    ✓ setCollapseStateUp
    ✓ setCollapseStateForMatchingLines
    ✓ folding decoration

  Hidden Range Model
    ✓ hasRanges

  CursorMove
    ✓ nextRenderTabStop
    ✓ visibleColumnFromColumn
    ✓ columnFromVisibleColumn
    ✓ toStatusbarColumn

  EditorModel - EditableTextModel.applyEdits updates mightContainRTL
    ✓ start with RTL, insert LTR
    ✓ start with RTL, delete RTL
    ✓ start with RTL, insert RTL
    ✓ start with LTR, insert LTR
    ✓ start with LTR, insert RTL 1
    ✓ start with LTR, insert RTL 2

  EditorModel - EditableTextModel.applyEdits updates mightContainNonBasicASCII
    ✓ start with NON-ASCII, insert ASCII
    ✓ start with NON-ASCII, delete NON-ASCII
    ✓ start with NON-ASCII, insert NON-ASCII
    ✓ start with ASCII, insert ASCII
    ✓ start with ASCII, insert NON-ASCII

  EditorModel - EditableTextModel.applyEdits
    ✓ high-low surrogates 1
    ✓ high-low surrogates 2
    ✓ high-low surrogates 3
    ✓ high-low surrogates 4
    ✓ Bug 19872: Undo is funky
    ✓ Bug 19872: Undo is funky
    ✓ insert empty text
    ✓ last op is no-op
    ✓ insert text without newline 1
    ✓ insert text without newline 2
    ✓ insert one newline
    ✓ insert text with one newline
    ✓ insert text with two newlines
    ✓ insert text with many newlines
    ✓ insert multiple newlines
    ✓ delete empty text
    ✓ delete text from one line
    ✓ delete text from one line 2
    ✓ delete all text from a line
    ✓ delete text from two lines
    ✓ delete text from many lines
    ✓ delete everything
    ✓ two unrelated edits
    ✓ two edits on one line
    ✓ many edits
    ✓ many edits reversed
    ✓ replacing newlines 1
    ✓ replacing newlines 2
    ✓ advanced 1
    ✓ advanced simplified
    ✓ issue #144
    ✓ issue #2586 Replacing selected end-of-line with newline locks up the document
    ✓ issue #3980
    ✓ touching edits: two inserts at the same position
    ✓ touching edits: insert and replace touching
    ✓ overlapping edits: two overlapping replaces
    ✓ overlapping edits: two overlapping deletes
    ✓ touching edits: two touching replaces
    ✓ touching edits: two touching deletes
    ✓ touching edits: insert and replace
    ✓ touching edits: replace and insert
    ✓ change while emitting events 1
    ✓ change while emitting events 2
    ✓ issue #1580: Changes in line endings are not correctly reflected in the extension host, leading to invalid offsets sent to external refactoring tools
    ✓ issue #47733: Undo mangles unicode characters
    ✓ issue #48741: Broken undo stack with move lines up with multiple cursors

  EditorModel Auto Tests
    ✓ auto1
    ✓ auto2
    ✓ auto3
    ✓ auto4

  EditorSimpleWorker
    ✓ ICommonModel#offsetAt
    ✓ ICommonModel#positionAt
    ✓ ICommonModel#validatePosition, issue #15882
    ✓ MoreMinimal
    ✓ MoreMinimal, issue #15385 newline changes only
    ✓ MoreMinimal, issue #15385 newline changes and other
    ✓ MoreMinimal, issue #15385 newline changes and other
    ✓ ICommonModel#getValueInRange, issue #17424
    ✓ textualSuggest, issue #17785
    ✓ get words via iterator, issue #46930

  Editor Core - Editor State
    ✓ empty editor state should be valid
    ✓ different model URIs should be invalid
    ✓ different model versions should be invalid
    ✓ different positions should be invalid
    ✓ different selections should be invalid
    ✓ different scroll positions should be invalid

  CodeAction
    ✓ CodeActions are sorted by type, #38623
    ✓ getCodeActions should filter by scope
    ✓ getCodeActions should forward requested scope to providers
    ✓ getCodeActions should not return source code action by default
    ✓ getCodeActions should support filtering out some requested source code actions #84602
    ✓ getCodeActions no invoke a provider that has been excluded #84602
    ✓ getCodeActions should not invoke code action providers filtered out by providedCodeActionKinds

  Editor ViewModel - MonospaceLineBreaksComputer
    ✓ MonospaceLineBreaksComputer
    ✓ MonospaceLineBreaksComputer incremental 1
    ✓ issue #95686: CRITICAL: loop forever on the monospaceLineBreaksComputer
    ✓ MonospaceLineBreaksComputer - CJK and Kinsoku Shori
    ✓ MonospaceLineBreaksComputer - WrappingIndent.Same
    ✓ issue #16332: Scroll bar overlaying on top of text
    ✓ issue #35162: wrappingIndent not consistently working
    ✓ issue #75494: surrogate pairs
    ✓ issue #75494: surrogate pairs overrun 1
    ✓ issue #75494: surrogate pairs overrun 2
    ✓ MonospaceLineBreaksComputer - WrappingIndent.DeepIndent
    ✓ issue #33366: Word wrap algorithm behaves differently around punctuation

  EnvironmentService
    ✓ parseExtensionHostPort when built
    ✓ parseExtensionHostPort when unbuilt
    ✓ userDataPath
    ✓ careful with boolean file names

  LanguagesRegistry
    ✓ output mode does not have a name
    ✓ mode with alias does have a name
    ✓ mode without alias gets a name
    ✓ bug #4360: f# not shown in status bar
    ✓ issue #5278: Extension cannot override language name anymore
    ✓ mimetypes are generated if necessary
    ✓ first mimetype wins
    ✓ first mimetype wins 2
    ✓ aliases
    ✓ empty aliases array means no alias
    ✓ extensions
    ✓ filenames
    ✓ configuration

  Monarch
    ✓ Ensure @rematch and nextEmbedded can be used together in Monarch grammar

  AbstractKeybindingService
    ✓ issue #16498: chord mode is quit for invalid chords
    ✓ issue #16833: Keybinding service should not testDispatch on modifier keys
    ✓ can trigger command that is sharing keybinding with chord
    ✓ cannot trigger chord if command is overwriting
    ✓ can have spying command

  AIAdapter
    ✓ Simple event
    ✓ addional data
    ✓ property limits
    ✓ Different data types
    ✓ Nested data
    ✓ Do not Log Telemetry if log level is not trace
    ✓ Log Telemetry if log level is trace

  Browser Telemetry - common properties
    ✓ mixes in additional properties
    ✓ mixes in additional dyanmic properties

  ModelService
    ✓ EOL setting respected depending on root
    ✓ _computeEdits no change
    ✓ _computeEdits first line changed
    ✓ _computeEdits EOL changed
    ✓ _computeEdits EOL and other change 1
    ✓ _computeEdits EOL and other change 2
    ✓ generated1
    ✓ generated2
    ✓ generated3
    ✓ generated4
    ✓ does insertions in the middle of the document
    ✓ does insertions at the end of the document
    ✓ does insertions at the beginning of the document
    ✓ does replacements
    ✓ does deletions
    ✓ does insert, replace, and delete
    ✓ maintains undo for same resource and same content
    ✓ maintains version id and alternative version id for same resource and same content
    ✓ does not maintain undo for same resource and different content
    ✓ setValue should clear undo stack

  SmartSelect
    ✓ getRangesToPosition #1
    ✓ getRangesToPosition #56886. Skip empty lines correctly.
    ✓ getRangesToPosition #56886. Do not skip lines with only whitespaces.
    ✓ getRangesToPosition #40658. Cursor at first position inside brackets should select line inside.
    ✓ getRangesToPosition #40658. Cursor in empty brackets should reveal brackets first.
    ✓ getRangesToPosition #40658. Tokens before bracket will be revealed first.
    ✓ bracket selection
    ✓ bracket with leading/trailing
    ✓ in-word ranges
    ✓ Default selection should select current word/hump first in camelCase #67493
    ✓ Smart select: only add line ranges if they’re contained by the next range #73850
    ✓ Expand selection in words with underscores is inconsistent #90589

  SuggestMemories
    ✓ AbstractMemory, select
    ✓ [No|Prefix|LRU]Memory honor selection boost
    ✓ NoMemory
    ✓ LRUMemory
    ✓ `"editor.suggestSelection": "recentlyUsed"` should be a little more sticky #78571
    ✓ intellisense is not showing top options first #43429
    ✓ PrefixMemory

  TextResourceConfigurationService - Update
    ✓ updateValue writes without target and overrides when no language is defined
    ✓ updateValue writes with target and without overrides when no language is defined
    ✓ updateValue writes into given memory target without overrides
    ✓ updateValue writes into given workspace target without overrides
    ✓ updateValue writes into given user target without overrides
    ✓ updateValue writes into given workspace folder target with overrides
    ✓ updateValue writes into derived workspace folder target without overrides
    ✓ updateValue writes into derived workspace folder target with overrides
    ✓ updateValue writes into derived workspace target without overrides
    ✓ updateValue writes into derived workspace target with overrides
    ✓ updateValue writes into derived workspace target with overrides and value defined in folder
    ✓ updateValue writes into derived user remote target without overrides
    ✓ updateValue writes into derived user remote target with overrides
    ✓ updateValue writes into derived user remote target with overrides and value defined in workspace
    ✓ updateValue writes into derived user remote target with overrides and value defined in workspace folder
    ✓ updateValue writes into derived user target without overrides
    ✓ updateValue writes into derived user target with overrides
    ✓ updateValue writes into derived user target with overrides and value is defined in remote
    ✓ updateValue writes into derived user target with overrides and value is defined in workspace
    ✓ updateValue writes into derived user target with overrides and value is defined in workspace folder
    ✓ updateValue when not changed

  BackupMainService
    ✓ service validates backup workspaces on startup and cleans up (folder workspaces) (154ms)
    ✓ service validates backup workspaces on startup and cleans up (root workspaces) (147ms)
    ✓ service supports to migrate backup data from another location
    ✓ service backup migration makes sure to preserve existing backups (39ms)
    ✓ should always store the workspace path in workspaces.json using the case given, regardless of whether the file system is case-sensitive (folder workspace)
    ✓ should always store the workspace path in workspaces.json using the case given, regardless of whether the file system is case-sensitive (root workspace)
    migrate path to URI
      ✓ migration folder path to URI makes sure to preserve existing backups (56ms)
      ✓ migrate storage file (70ms)
    loadSync
      ✓ getFolderBackupPaths() should return [] when workspaces.json doesn't exist
      ✓ getFolderBackupPaths() should return [] when workspaces.json is not properly formed JSON (42ms)
      ✓ getFolderBackupPaths() should return [] when folderWorkspaces in workspaces.json is absent
      ✓ getFolderBackupPaths() should return [] when folderWorkspaces in workspaces.json is not a string array (81ms)
      ✓ getFolderBackupPaths() should return [] when files.hotExit = "onExitAndWindowClose"
      ✓ getWorkspaceBackups() should return [] when workspaces.json doesn't exist
      ✓ getWorkspaceBackups() should return [] when workspaces.json is not properly formed JSON (40ms)
      ✓ getWorkspaceBackups() should return [] when folderWorkspaces in workspaces.json is absent
      ✓ getWorkspaceBackups() should return [] when rootWorkspaces in workspaces.json is not a object array (90ms)
      ✓ getWorkspaceBackups() should return [] when rootURIWorkspaces in workspaces.json is not a object array (85ms)
      ✓ getWorkspaceBackups() should return [] when files.hotExit = "onExitAndWindowClose"
      ✓ getEmptyWorkspaceBackupPaths() should return [] when workspaces.json doesn't exist
      ✓ getEmptyWorkspaceBackupPaths() should return [] when workspaces.json is not properly formed JSON (42ms)
      ✓ getEmptyWorkspaceBackupPaths() should return [] when folderWorkspaces in workspaces.json is absent
      ✓ getEmptyWorkspaceBackupPaths() should return [] when folderWorkspaces in workspaces.json is not a string array (93ms)
    dedupeFolderWorkspaces
      ✓ should ignore duplicates (folder workspace) (38ms)
      ✓ should ignore duplicates on Windows and Mac (folder workspace) (42ms)
      ✓ should ignore duplicates on Windows and Mac (root workspace) (59ms)
    registerWindowForBackups
      ✓ should persist paths to workspaces.json (folder workspace)
      ✓ should persist paths to workspaces.json (root workspace)
    removeBackupPathSync
      ✓ should remove folder workspaces from workspaces.json (folder workspace) (53ms)
      ✓ should remove folder workspaces from workspaces.json (root workspace) (52ms)
      ✓ should remove empty workspaces from workspaces.json (54ms)
      ✓ should fail gracefully when removing a path that doesn't exist (44ms)
    getWorkspaceHash
      ✓ should ignore case on Windows and Mac
    mixed path casing
      ✓ should handle case insensitive paths properly (registerWindowForBackupsSync) (folder workspace)
      ✓ should handle case insensitive paths properly (registerWindowForBackupsSync) (root workspace)
      ✓ should handle case insensitive paths properly (removeBackupPathSync) (folder workspace) (53ms)
    getDirtyWorkspaces
      ✓ should report if a workspace or folder has backups

  OutputLinkProvider
    ✓ OutputLinkProvider - Link detection

  EnvironmentVariable - EnvironmentVariableService
    ✓ should persist collections to the storage service and be able to restore from them
    mergedCollection
      ✓ should overwrite any other variable with the first extension that replaces
      ✓ should correctly apply the environment values from multiple extension contributions in the correct order

  URI Identity
    ✓ extUri (isEqual)
    ✓ asCanonicalUri (casing)
    ✓ asCanonicalUri (normalization)
    ✓ asCanonicalUri (keep fragement)

  WorkingCopyService
    ✓ registry - basics
    ✓ registry - multiple copies on same resource throws

  Workbench editor model
    ✓ EditorModel
    ✓ BaseTextEditorModel

  Memento
    ✓ Loading and Saving Memento with Scopes
    ✓ Save and Load
    ✓ Save and Load - 2 Components with same id

  Editor ViewLayout - EditorLayoutProvider
    ✓ EditorLayoutProvider 1
    ✓ EditorLayoutProvider 1.1
    ✓ EditorLayoutProvider 2
    ✓ EditorLayoutProvider 3
    ✓ EditorLayoutProvider 4
    ✓ EditorLayoutProvider 5
    ✓ EditorLayoutProvider 6
    ✓ EditorLayoutProvider 7
    ✓ EditorLayoutProvider 8
    ✓ EditorLayoutProvider 8 - rounds floats
    ✓ EditorLayoutProvider 9 - render minimap
    ✓ EditorLayoutProvider 9 - render minimap with pixelRatio = 2
    ✓ EditorLayoutProvider 9 - render minimap with pixelRatio = 4
    ✓ EditorLayoutProvider 10 - render minimap to left
    ✓ EditorLayoutProvider 11 - minimap mode cover without sampling
    ✓ EditorLayoutProvider 12 - minimap mode cover with sampling
    ✓ EditorLayoutProvider 13 - minimap mode contain without sampling
    ✓ EditorLayoutProvider 14 - minimap mode contain with sampling
    ✓ issue #31312: When wrapping, leave 2px for the cursor

  Common Editor Config
    ✓ Zoom Level
    ✓ wordWrap default
    ✓ wordWrap compat false
    ✓ wordWrap compat true
    ✓ wordWrap on
    ✓ wordWrap on without minimap
    ✓ wordWrap on does not use wordWrapColumn
    ✓ wordWrap off
    ✓ wordWrap off does not use wordWrapColumn
    ✓ wordWrap wordWrapColumn uses default wordWrapColumn
    ✓ wordWrap wordWrapColumn uses wordWrapColumn
    ✓ wordWrap wordWrapColumn validates wordWrapColumn
    ✓ wordWrap bounded uses default wordWrapColumn
    ✓ wordWrap bounded uses wordWrapColumn
    ✓ wordWrap bounded validates wordWrapColumn
    ✓ issue #53152: Cannot assign to read only property 'enabled' of object
    ✓ does not emit event when nothing changes
    ✓ issue #94931: Unable to open source file

  Editor ViewModel - SplitLinesCollection
    ✓ SplitLine
    ✓ Invalid line numbers
    ✓ issue #3662

  SplitLinesCollection
    ✓ getViewLinesData - no wrapping
    ✓ getViewLinesData - with wrapping

  Configuration
    ✓ simple merge
    ✓ removeFromValueTree: remove a non existing key
    ✓ removeFromValueTree: remove a multi segmented key from an object that has only sub sections of the key
    ✓ removeFromValueTree: remove a single segmented key
    ✓ removeFromValueTree: remove a single segmented key when its value is undefined
    ✓ removeFromValueTree: remove a multi segmented key when its value is undefined
    ✓ removeFromValueTree: remove a multi segmented key when its value is array
    ✓ removeFromValueTree: remove a multi segmented key first segment value is array
    ✓ removeFromValueTree: remove when key is the first segmenet
    ✓ removeFromValueTree: remove a multi segmented key when the first node has more values
    ✓ removeFromValueTree: remove a multi segmented key when in between node has more values
    ✓ removeFromValueTree: remove a multi segmented key when the last but one node has more values

  Configuration Changes: Merge
    ✓ merge only keys
    ✓ merge only keys with duplicates
    ✓ merge only overrides
    ✓ merge only overrides with duplicates
    ✓ merge
    ✓ merge single change
    ✓ merge no changes

  ConfigurationModel
    ✓ setValue for a key that has no sections and not defined
    ✓ setValue for a key that has no sections and defined
    ✓ setValue for a key that has sections and not defined
    ✓ setValue for a key that has sections and defined
    ✓ setValue for a key that has sections and sub section not defined
    ✓ setValue for a key that has sections and sub section defined
    ✓ setValue for a key that has sections and last section is added
    ✓ removeValue: remove a non existing key
    ✓ removeValue: remove a single segmented key
    ✓ removeValue: remove a multi segmented key
    ✓ get overriding configuration model for an existing identifier
    ✓ get overriding configuration model for an identifier that does not exist
    ✓ get overriding configuration when one of the keys does not exist in base
    ✓ get overriding configuration when one of the key in base is not of object type
    ✓ get overriding configuration when one of the key in overriding contents is not of object type
    ✓ get overriding configuration if the value of overriding identifier is not object
    ✓ get overriding configuration if the value of overriding identifier is an empty object
    ✓ simple merge
    ✓ recursive merge
    ✓ simple merge overrides
    ✓ recursive merge overrides
    ✓ merge overrides when frozen
    ✓ Test contents while getting an existing property
    ✓ Test contents are undefined for non existing properties
    ✓ Test override gives all content merged with overrides

  CustomConfigurationModel
    ✓ simple merge using models
    ✓ simple merge with an undefined contents
    ✓ Recursive merge using config models
    ✓ Test contents while getting an existing property
    ✓ Test contents are undefined for non existing properties
    ✓ Test contents are undefined for undefined config
    ✓ Test configWithOverrides gives all content merged with overrides
    ✓ Test configWithOverrides gives empty contents
    ✓ Test update with empty data
    ✓ Test registering the same property again

  Configuration
    ✓ Test inspect for overrideIdentifiers
    ✓ Test update value
    ✓ Test update value after inspect
    ✓ Test compare and update default configuration
    ✓ Test compare and update user configuration
    ✓ Test compare and update workspace configuration
    ✓ Test compare and update workspace folder configuration
    ✓ Test compare and delete workspace folder configuration

  ConfigurationChangeEvent
    ✓ changeEvent affecting keys with new configuration
    ✓ changeEvent affecting keys when configuration changed
    ✓ changeEvent affecting overrides with new configuration
    ✓ changeEvent affecting overrides when configuration changed
    ✓ changeEvent affecting workspace folders
    ✓ changeEvent - all
    ✓ changeEvent affecting tasks and launches

  AllKeysConfigurationChangeEvent
    ✓ changeEvent

  FolderSettingsModelParser
    ✓ parse all folder settings
    ✓ parse resource folder settings
    ✓ parse resource and resource language settings
    ✓ reprocess folder settings excludes application and machine setting

  StandaloneConfigurationModelParser
    ✓ parse tasks stand alone configuration model

  Workspace Configuration
    ✓ Test compare same configurations
    ✓ Test compare different configurations

  File Service
    ✓ provider registration
    ✓ watch

  MinimapCharRenderer
    ✓ letter d @ 2x
    ✓ letter d @ 1x

  Telemetry - WorkspaceTags
    ✓ Single remote hashed
    ✓ Multiple remotes hashed

  StorageService
    ✓ Remove Data (global, in-memory)
    ✓ Remove Data (workspace, in-memory)
    ✓ Get Data, Integer, Boolean (global, in-memory)
    ✓ Get Data, Integer, Boolean (workspace, in-memory)
    ✓ Migrate Data

  Telemetry - common properties
    ✓ default
    ✓ lastSessionDate when aviablale
    ✓ values chance on ask

  TelemetryService
    ✓ Disposing
    ✓ Simple event
    ✓ Event with data
    ✓ common properties added to *all* events, simple event
    ✓ common properties added to *all* events, event with data
    ✓ TelemetryInfo comes from properties
    ✓ enableTelemetry on by default
    ✓ Error events
    ✓ Handle global errors
    ✓ Error Telemetry removes PII from filename with spaces
    ✓ Uncaught Error Telemetry removes PII from filename
    ✓ Unexpected Error Telemetry removes PII
    ✓ Uncaught Error Telemetry removes PII
    ✓ Unexpected Error Telemetry removes PII but preserves Code file path
    ✓ Uncaught Error Telemetry removes PII but preserves Code file path
    ✓ Unexpected Error Telemetry removes PII but preserves Code file path with node modules
    ✓ Uncaught Error Telemetry removes PII but preserves Code file path
    ✓ Unexpected Error Telemetry removes PII but preserves Code file path when PIIPath is configured
    ✓ Uncaught Error Telemetry removes PII but preserves Code file path when PIIPath is configured
    ✓ Unexpected Error Telemetry removes PII but preserves Missing Model error message
    ✓ Uncaught Error Telemetry removes PII but preserves Missing Model error message
    ✓ Unexpected Error Telemetry removes PII but preserves No Such File error message
    ✓ Uncaught Error Telemetry removes PII but preserves No Such File error message
    ✓ Telemetry Service sends events when enableTelemetry is on
    ✓ Telemetry Service checks with config service

  SettingsMerge - Merge
    ✓ merge when local and remote are same with one entry
    ✓ merge when local and remote are same with multiple entries
    ✓ merge when local and remote are same with multiple entries in different order
    ✓ merge when local and remote are same with different base content
    ✓ merge when a new entry is added to remote
    ✓ merge when multiple new entries are added to remote
    ✓ merge when multiple new entries are added to remote from base and local has not changed
    ✓ merge when an entry is removed from remote from base and local has not changed
    ✓ merge when all entries are removed from base and local has not changed
    ✓ merge when an entry is updated in remote from base and local has not changed
    ✓ merge when remote has moved forwareded with multiple changes and local stays with base
    ✓ merge when remote has moved forwareded with order changes and local stays with base
    ✓ merge when remote has moved forwareded with comment changes and local stays with base
    ✓ merge when remote has moved forwareded with comment and order changes and local stays with base
    ✓ merge when a new entries are added to local
    ✓ merge when multiple new entries are added to local from base and remote is not changed
    ✓ merge when an entry is removed from local from base and remote has not changed
    ✓ merge when an entry is updated in local from base and remote has not changed
    ✓ merge when local has moved forwarded with multiple changes and remote stays with base
    ✓ merge when local has moved forwarded with order changes and remote stays with base
    ✓ merge when local has moved forwarded with comment changes and remote stays with base
    ✓ merge when local has moved forwarded with comment and order changes and remote stays with base
    ✓ merge when local and remote with one entry but different value
    ✓ merge when the entry is removed in remote but updated in local and a new entry is added in remote
    ✓ merge with single entry and local is empty
    ✓ merge when local and remote has moved forwareded with conflicts
    ✓ merge when local and remote has moved forwareded with change in order
    ✓ merge when local and remote has moved forwareded with comment changes
    ✓ resolve when local and remote has moved forwareded with resolved conflicts
    ✓ ignored setting is not merged when changed in local and remote
    ✓ ignored setting is not merged when changed in local and remote from base
    ✓ ignored setting is not merged when added in remote
    ✓ ignored setting is not merged when added in remote from base
    ✓ ignored setting is not merged when removed in remote
    ✓ ignored setting is not merged when removed in remote from base
    ✓ ignored setting is not merged with other changes without conflicts
    ✓ ignored setting is not merged with other changes conflicts
    ✓ merge when remote has comments and local is empty

  SettingsMerge - Compute Remote Content
    ✓ local content is returned when there are no ignored settings
    ✓ ignored settings are not updated from remote content

  SettingsMerge - Add Setting
    ✓ Insert after a setting without comments
    ✓ Insert after a setting without comments at the end
    ✓ Insert between settings without comment
    ✓ Insert between settings and there is a comment in between in source
    ✓ Insert after a setting and after a comment at the end
    ✓ Insert after a setting ending with comma and after a comment at the end
    ✓ Insert after a comment and there are no settings
    ✓ Insert after a setting and between a comment and setting
    ✓ Insert after a setting between two comments and there is a setting after
    ✓ Insert after a setting between two comments on the same line and there is a setting after
    ✓ Insert after a setting between two line comments on the same line and there is a setting after
    ✓ Insert after a setting between two comments and there is no setting after
    ✓ Insert after a setting with comma and between two comments and there is no setting after
    ✓ Insert before a setting without comments
    ✓ Insert before a setting without comments at the end
    ✓ Insert before a setting with comment
    ✓ Insert before a setting and before a comment at the beginning
    ✓ Insert before a setting ending with comma and before a comment at the begninning
    ✓ Insert before a setting and between a setting and comment
    ✓ Insert before a setting between two comments and there is a setting before
    ✓ Insert before a setting between two comments on the same line and there is a setting before
    ✓ Insert before a setting between two line comments on the same line and there is a setting before
    ✓ Insert before a setting between two comments and there is no setting before
    ✓ Insert before a setting with comma and between two comments and there is no setting before
    ✓ Insert after a setting that is of object type
    ✓ Insert after a setting that is of array type
    ✓ Insert after a comment with comma separator of previous setting and no next nodes 
    ✓ Insert after a comment with comma separator of previous setting and there is a setting after 
    ✓ Insert after a comment with comma separator of previous setting and there is a comment after 

  Workbench - TerminalColorRegistry
    ✓ hc colors
    ✓ light colors
    ✓ dark colors

  BulkEditPreview
    ✓ one needsConfirmation unchecks all of file
    ✓ has categories
    ✓ has not categories
    ✓ category selection
    ✓ fix bad metadata

  Debug - Source
    ✓ from raw source
    ✓ from raw internal source
    ✓ get encoded debug data

  Debug - Watch
    ✓ watch expressions

  Debug - View Model
    ✓ focused stack frame
    ✓ selected expression
    ✓ multi session view and changed workbench state

  Debug - AbstractDebugAdapter
    event ordering
      ✓ inserts task boundary before response
      ✓ inserts task boundary after response
      ✓ does not insert boundaries between events

  ExtHostTypes
    ✓ URI, toJSON
    ✓ Disposable
    ✓ Position
    ✓ Position, toJSON
    ✓ Position, isBefore(OrEqual)?
    ✓ Position, isAfter(OrEqual)?
    ✓ Position, compareTo
    ✓ Position, translate
    ✓ Position, with
    ✓ Range
    ✓ Range, toJSON
    ✓ Range, sorting
    ✓ Range, isEmpty|isSingleLine
    ✓ Range, contains
    ✓ Range, intersection
    ✓ Range, union
    ✓ Range, with
    ✓ TextEdit
    ✓ WorkspaceEdit
    ✓ WorkspaceEdit - keep order of text and file changes
    ✓ WorkspaceEdit - two edits for one resource
    ✓ DocumentLink
    ✓ toJSON & stringify
    ✓ SymbolInformation, old ctor
    ✓ SnippetString, builder-methods
    ✓ instanceof doesn't work for FileSystemError #49386
    ✓ CodeActionKind contains
    ✓ CodeActionKind intersects
    ✓ SemanticTokensBuilder simple
    ✓ SemanticTokensBuilder no modifier
    ✓ SemanticTokensBuilder out of order 1
    ✓ SemanticTokensBuilder out of order 2
    ✓ SemanticTokensBuilder with legend

  ExtHostDecorations
    ✓ SCM Decorations missing #100524

  ExtHostDocumentData
    ✓ readonly-ness
    ✓ save, when disposed
    ✓ read, when disposed
    ✓ lines
    ✓ line, issue #5704
    ✓ offsetAt
    ✓ offsetAt, after remove
    ✓ offsetAt, after replace
    ✓ offsetAt, after insert line
    ✓ offsetAt, after remove line
    ✓ positionAt
    ✓ getWordRangeAtPosition
    ✓ getWordRangeAtPosition doesn't quite use the regex as expected, #29102
    ✓ getWordRangeAtPosition can freeze the extension host #95319 (1292ms)
    ✓ Rename popup sometimes populates with text on the left side omitted #96013

  ExtHostDocumentData updates line mapping
    ✓ line mapping
    ✓ after remove
    ✓ after replace
    ✓ after insert line
    ✓ after insert two lines
    ✓ after remove line
    ✓ after remove two lines
    ✓ after deleting entire content
    ✓ after replacing entire content
    ✓ after changing EOL to CRLF
    ✓ after changing EOL to LF

  ExtHostTypeConverter
    ✓ MarkdownConvert - uris
    ✓ NPM script explorer running a script from the hover does not work #65561
    ✓ LogLevel

  ExtHostCommands
    ✓ dispose calls unregister
    ✓ dispose bubbles only once
    ✓ execute with retry

  ExtHostDiagnostics
    ✓ disposeCheck
    ✓ diagnostic collection, forEach, clear, has (68ms)
    ✓ diagnostic collection, immutable read
    ✓ diagnostics collection, set with dupliclated tuples
    ✓ diagnostics collection, set tuple overrides, #11547
    ✓ do send message when not making a change
    ✓ diagnostics collection, tuples and undefined (small array), #15585
    ✓ diagnostics collection, tuples and undefined (large array), #15585
    ✓ diagnostic capping
    ✓ diagnostic eventing
    ✓ vscode.languages.onDidChangeDiagnostics Does Not Provide Document URI #49582
    ✓ diagnostics with related information
    ✓ vscode.languages.getDiagnostics appears to return old diagnostics in some circumstances #54359
    ✓ Error updating diagnostics from extension #60394
    ✓ Diagnostics created by tasks aren't accessible to extensions #47292 (107ms)

  ExtHostFileSystemEventService
    ✓ FileSystemWatcher ignore events properties are reversed #26851

  ExtHostTextEditor
    ✓ disposed editor
    ✓ API [bug]: registerTextEditorCommand clears redo stack even if no edits are made #55163

  ExtHostTextEditorOptions
    ✓ can set tabSize to the same value
    ✓ can change tabSize to positive integer
    ✓ can change tabSize to positive float
    ✓ can change tabSize to a string number
    ✓ tabSize can request indentation detection
    ✓ ignores invalid tabSize 1
    ✓ ignores invalid tabSize 2
    ✓ ignores invalid tabSize 3
    ✓ ignores invalid tabSize 4
    ✓ can set indentSize to the same value
    ✓ can change indentSize to positive integer
    ✓ can change indentSize to positive float
    ✓ can change indentSize to a string number
    ✓ indentSize can request to use tabSize
    ✓ indentSize cannot request indentation detection
    ✓ ignores invalid indentSize 1
    ✓ ignores invalid indentSize 2
    ✓ ignores invalid indentSize 3
    ✓ ignores invalid indentSize 4
    ✓ can set insertSpaces to the same value
    ✓ can set insertSpaces to boolean
    ✓ can set insertSpaces to false string
    ✓ can set insertSpaces to truey
    ✓ insertSpaces can request indentation detection
    ✓ can set cursorStyle to same value
    ✓ can change cursorStyle
    ✓ can set lineNumbers to same value
    ✓ can change lineNumbers
    ✓ can do bulk updates 0
    ✓ can do bulk updates 1
    ✓ can do bulk updates 2
    ✓ can do bulk updates 3

  ExtHostDocumentsAndEditors
    ✓ The value of TextDocument.isClosed is incorrect when a text document is closed, #27949

  ExtHostDocumentSaveParticipant
    ✓ no listeners, no problem
    ✓ event delivery
    ✓ event delivery, immutable
    ✓ event delivery, bad listener
    ✓ event delivery, bad listener doesn't prevent more events
    ✓ event delivery, in subscriber order
    ✓ event delivery, ignore bad listeners
    ✓ event delivery, overall timeout
    ✓ event delivery, waitUntil
    ✓ event delivery, waitUntil must be called sync
    ✓ event delivery, waitUntil will timeout
    ✓ event delivery, waitUntil failure handling
    ✓ event delivery, pushEdits sync
    ✓ event delivery, concurrent change
    ✓ event delivery, two listeners -> two document states
    ✓ Log failing listener

  ExtHostTextEditors.applyWorkspaceEdit
    ✓ uses version id if document available
    ✓ does not use version id if document is not available

  TextSearchResult
    ✓ empty without preview options
    ✓ empty with preview options
    ✓ short without preview options
    ✓ short with preview options
    ✓ leading
    ✓ trailing
    ✓ middle
    ✓ truncating match
    ✓ one line of multiline match

  SearchHelpers
    editorMatchesToTextSearchResults
      ✓ simple
      ✓ multiple
    addContextToEditorMatches
      ✓ no context
      ✓ simple
      ✓ multiple matches next to each other
      ✓ boundaries

  Search - Viewlet
    ✓ Data Source
    ✓ Comparer
    ✓ Advanced Comparer

  SearchModel
    ✓ Search Model: Search adds to results
    ✓ Search Model: Search reports telemetry on search completed
    ✓ Search Model: Search reports timed telemetry on search when progress is not called
    ✓ Search Model: Search reports timed telemetry on search when progress is called
    ✓ Search Model: Search reports timed telemetry on search when error is called
    ✓ Search Model: Search reports timed telemetry on search when error is cancelled error
    ✓ Search Model: Search results are cleared during search
    ✓ Search Model: Previous search is cancelled when new search is called
    ✓ getReplaceString returns proper replace string for regExpressions

  SearchResult
    ✓ Line Match
    ✓ Line Match - Remove
    ✓ File Match
    ✓ File Match: Select an existing match
    ✓ File Match: Select non existing match
    ✓ File Match: isSelected return true for selected match
    ✓ File Match: isSelected return false for un-selected match
    ✓ File Match: unselect
    ✓ File Match: unselect when not selected
    ✓ Alle Drei Zusammen
    ✓ Adding a raw match will add a file match with line matches
    ✓ Adding multiple raw matches
    ✓ Dispose disposes matches
    ✓ remove triggers change event
    ✓ remove array triggers change event
    ✓ remove triggers change event
    ✓ Removing all line matches and adding back will add file back to result
    ✓ replace should remove the file match
    ✓ replace should trigger the change event
    ✓ replaceAll should remove all file matches

  SettingsTree
    ✓ settingKeyToDisplayFormat
    ✓ settingKeyToDisplayFormat - with category
    ✓ settingKeyToDisplayFormat - known acronym/term
    ✓ parseQuery

  SnippetsService
    ✓ snippet completions - simple
    ✓ snippet completions - with prefix
    ✓ snippet completions - with different prefixes
    ✓ Cannot use "<?php" as user snippet prefix anymore, #26275
    ✓ No user snippets in suggestions, when inside the code, #30508
    ✓ SnippetSuggest - ensure extension snippets come last 
    ✓ Dash in snippets prefix broken #53945
    ✓ No snippets suggestion on long lines beyond character 100 #58807
    ✓ Type colon will trigger snippet #60746
    ✓ substring of prefix can't trigger snippet #60737
    ✓ No snippets suggestion beyond character 100 if not at end of line #60247
    ✓ issue #61296: VS code freezes when editing CSS file with emoji
    ✓ No snippets shown when triggering completions at whitespace on line that already has text #62335
    ✓ Snippet prefix with special chars and numbers does not work #62906
    ✓ Snippet replace range

  ProblemPatternParser
    single-pattern definitions
      ✓ parses a pattern defined by only a regexp
      ✓ does not sets defaults for line and character if kind is File
    multi-pattern definitions
      ✓ defines a pattern based on regexp and property fields, with file/line location
      ✓ defines a pattern bsaed on regexp and property fields, with location
      ✓ accepts a pattern that provides the fields from multiple entries
      ✓ forbids setting the loop flag outside of the last element in the array
      ✓ forbids setting the kind outside of the first element of the array
      ✓ kind: Location requires a regexp
      ✓ kind: Location requires a regexp on every entry
      ✓ kind: Location requires a message
      ✓ kind: Location requires a file
      ✓ kind: Location requires either a line or location
      ✓ kind: File accepts a regexp, file and message
      ✓ kind: File requires a file
      ✓ kind: File requires a message

  getNonWhitespacePrefix
    ✓ empty line
    ✓ singleWordLine
    ✓ two word line
    ✓ many separators

  Tasks version 0.1.0
    ✓ tasks: all default
    ✓ tasks: global isShellCommand
    ✓ tasks: global show output silent
    ✓ tasks: global promptOnClose default
    ✓ tasks: global promptOnClose
    ✓ tasks: global promptOnClose default watching
    ✓ tasks: global show output never
    ✓ tasks: global echo Command
    ✓ tasks: global args
    ✓ tasks: options - cwd
    ✓ tasks: options - env
    ✓ tasks: os windows
    ✓ tasks: os windows & global isShellCommand
    ✓ tasks: os mac
    ✓ tasks: os linux
    ✓ tasks: overwrite showOutput
    ✓ tasks: overwrite echo Command
    ✓ tasks: global problemMatcher one
    ✓ tasks: global problemMatcher two
    ✓ tasks: task definition
    ✓ tasks: build task
    ✓ tasks: default build task
    ✓ tasks: test task
    ✓ tasks: default test task
    ✓ tasks: task with values
    ✓ tasks: task inherits global values
    ✓ tasks: problem matcher default
    ✓ tasks: problem matcher .* regular expression
    ✓ tasks: problem matcher owner, applyTo, severity and fileLocation
    ✓ tasks: problem matcher fileLocation and filePrefix
    ✓ tasks: problem pattern location
    ✓ tasks: problem pattern line & column
    ✓ tasks: prompt on close default
    ✓ tasks: prompt on close watching
    ✓ tasks: prompt on close set
    ✓ tasks: task selector set
    ✓ tasks: suppress task name set
    ✓ tasks: suppress task name inherit
    ✓ tasks: two tasks
    ✓ tasks: with command
    ✓ tasks: two tasks with command
    ✓ tasks: with command and args
    ✓ tasks: with command os specific
    ✓ tasks: with Windows specific args
    ✓ tasks: with Linux specific args
    ✓ tasks: global command and task command properties
    ✓ tasks: global and tasks args
    ✓ tasks: global and tasks args with task selector

  Tasks version 2.0.0
    ✓ Build workspace task
    ✓ Global group none
    ✓ Global group build
    ✓ Global group default build
    ✓ Local group none
    ✓ Local group build
    ✓ Local group default build
    ✓ Arg overwrite

  Bugs / regression tests
    ✓ Bug 19548
    ✓ Bug 28489

  keyboard layout loader
    ✓ load default US keyboard layout
    ✓ isKeyMappingActive
    ✓ Switch keymapping
    ✓ Switch keyboard layout info

  Workbench editor input
    ✓ EditorInput
    ✓ DiffEditorInput
    ✓ DiffEditorInput disposes when input inside disposes

  RPCProtocol
    ✓ simple call
    ✓ simple call without result
    ✓ passing buffer as argument
    ✓ returning a buffer
    ✓ cancelling a call via CancellationToken before
    ✓ passing CancellationToken.None
    ✓ cancelling a call via CancellationToken quickly
    ✓ throwing an error
    ✓ error promise
    ✓ issue #60450: Converting circular structure to JSON
    ✓ issue #72798: null errors are hard to digest
    ✓ undefined arguments arrive as null
    ✓ issue #81424: SerializeRequest should throw if an argument can not be serialized

  BoundModelReferenceCollection
    ✓ max age
    ✓ max size
    ✓ dispose uri

  NativeTextSearchManager
    ✓ fixes encoding

  RipgrepTextSearchEngine
    ✓ unicodeEscapesToPCRE2
    ✓ fixRegexNewline
    ✓ fixNewline
    RipgrepParser
      ✓ single result
      ✓ multiple results
      ✓ chopped-up input chunks

  RipgrepFileSearch - etc
    ✓ getAbsoluteGlob_win
    ✓ getAbsoluteGlob_posix

  FileSearchEngine
    ✓ Files: *.js
    ✓ Files: maxResults
    ✓ Files: maxResults without Ripgrep
    ✓ Files: exists
    ✓ Files: not exists
    ✓ Files: exists without Ripgrep
    ✓ Files: not exists without Ripgrep
    ✓ Files: examples/com*
    ✓ Files: examples (fuzzy)
    ✓ Files: multiroot
    ✓ Files: multiroot with includePattern and maxResults
    ✓ Files: multiroot with includePattern and exists
    ✓ Files: NPE (CamelCase)
    ✓ Files: *.*
    ✓ Files: *.as
    ✓ Files: *.* without derived
    ✓ Files: *.* exclude folder without wildcard
    ✓ Files: exclude folder without wildcard #36438
    ✓ Files: include folder without wildcard #36438
    ✓ Files: *.* exclude folder with leading wildcard
    ✓ Files: *.* exclude folder with trailing wildcard
    ✓ Files: *.* exclude with unicode
    ✓ Files: *.* include with unicode
    ✓ Files: multiroot with exclude
    ✓ Files: Unicode and Spaces
    ✓ Files: no results
    ✓ Files: relative path matched once
    ✓ Files: Include pattern, single files
    ✓ Files: extraFiles only
    ✓ Files: extraFiles only (with include)
    ✓ Files: extraFiles only (with exclude)
    ✓ Files: no dupes in nested folders

  FileWalker
    ✓ Find: exclude subfolder
    ✓ Find: folder excludes
    ✓ Find: exclude multiple folders
    ✓ Find: exclude folder path suffix
    ✓ Find: exclude subfolder path suffix
    ✓ Find: exclude folder path
    ✓ Find: exclude combination of paths

  RawSearchService
    ✓ Individual results
    ✓ Batch results
    ✓ Collect batched results
    ✓ Multi-root with include pattern and maxResults
    ✓ Handles maxResults=0 correctly
    ✓ Multi-root with include pattern and exists
    ✓ Sorted results
    ✓ Sorted result batches
    ✓ Cached results

  ExtHostTreeView
    ✓ construct node tree
    ✓ construct id tree
    ✓ construct highlights tree
    ✓ error is thrown if id is not unique
    ✓ refresh root
    ✓ refresh a parent node
    ✓ refresh a leaf node
    ✓ refresh parent and child node trigger refresh only on parent - scenario 1 (202ms)
    ✓ refresh parent and child node trigger refresh only on parent - scenario 2 (203ms)
    ✓ refresh an element for label change
    ✓ refresh calls are throttled on roots (200ms)
    ✓ refresh calls are throttled on elements (203ms)
    ✓ refresh calls are throttled on unknown elements (203ms)
    ✓ refresh calls are throttled on unknown elements and root (201ms)
    ✓ refresh calls are throttled on elements and root (205ms)
    ✓ generate unique handles from labels by escaping them
    ✓ tree with duplicate labels
    ✓ getChildren is not returned from cache if refreshed
    ✓ getChildren is returned from cache if not refreshed
    ✓ reveal will throw an error if getParent is not implemented
    ✓ reveal will return empty array for root element
    ✓ reveal will return parents array for an element when hierarchy is not loaded
    ✓ reveal will return parents array for an element when hierarchy is loaded
    ✓ reveal will return parents array for deeper element with no selection
    ✓ reveal after first udpate
    ✓ reveal after second udpate

  MainThreadCommands
    ✓ dispose on unregister
    ✓ unregister all on dispose
    ✓ activate and throw when needed

  ExtHostMessageService
    ✓ propagte handle on select
    modal
      ✓ calls dialog service
      ✓ returns undefined when cancelled
      ✓ hides Cancel button when not needed

  MainThreadConfiguration
    ✓ update resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided
    ✓ update resource configuration without configuration target defaults to workspace in folder workspace when resource is provider
    ✓ update resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider
    ✓ update window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided
    ✓ update window configuration without configuration target defaults to workspace in multi root workspace when resource is provided
    ✓ update window configuration without configuration target defaults to workspace in folder workspace when resource is provider
    ✓ update window configuration without configuration target defaults to workspace in folder workspace when no resource is provider
    ✓ update resource configuration without configuration target defaults to folder
    ✓ update configuration with user configuration target
    ✓ update configuration with workspace configuration target
    ✓ update configuration with folder configuration target
    ✓ remove resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided
    ✓ remove resource configuration without configuration target defaults to workspace in folder workspace when resource is provider
    ✓ remove resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider
    ✓ remove window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided
    ✓ remove window configuration without configuration target defaults to workspace in multi root workspace when resource is provided
    ✓ remove window configuration without configuration target defaults to workspace in folder workspace when resource is provider
    ✓ remove window configuration without configuration target defaults to workspace in folder workspace when no resource is provider
    ✓ remove configuration without configuration target defaults to folder

  MainThreadDiagnostics
    ✓ clear markers on dispose

  MainThreadDocumentContentProviders
    ✓ events are processed properly

  NotebookConcatDocument
    ✓ basics
    ✓ empty
    ✓ location, position mapping
    ✓ location, position mapping, cell changes
    ✓ location, position mapping, cell-document changes
    ✓ selector
    ✓ offsetAt(position) <-> positionAt(offset)
    ✓ locationAt(position) <-> positionAt(location)
    ✓ getText(range)

  ExtHostWebview
    ✓ Cannot register multiple serializers for the same view type
    ✓ asWebviewUri for desktop vscode-resource scheme
    ✓ asWebviewUri for web endpoint

  ExtHostWorkspace
    ✓ asRelativePath
    ✓ asRelativePath, same paths, #11402
    ✓ asRelativePath, no workspace
    ✓ asRelativePath, multiple folders
    ✓ slightly inconsistent behaviour of asRelativePath and getWorkspaceFolder, #31553
    ✓ getPath, legacy
    ✓ WorkspaceFolder has name and index
    ✓ getContainingWorkspaceFolder
    ✓ Multiroot change event should have a delta, #29641
    ✓ Multiroot change keeps existing workspaces live
    ✓ updateWorkspaceFolders - invalid arguments
    ✓ updateWorkspaceFolders - valid arguments
    ✓ Multiroot change event is immutable
    ✓ `vscode.workspace.getWorkspaceFolder(file)` don't return workspace folder when file open from command line. #36221
    ✓ findFiles - string include
    ✓ findFiles - RelativePattern include
    ✓ findFiles - no excludes
    ✓ findFiles - with cancelled token
    ✓ findFiles - RelativePattern exclude
    ✓ findTextInFiles - no include
    ✓ findTextInFiles - string include
    ✓ findTextInFiles - RelativePattern include
    ✓ findTextInFiles - with cancelled token
    ✓ findTextInFiles - RelativePattern exclude

  ExtHostConfiguration
    ✓ getConfiguration fails regression test 1.7.1 -> 1.8 #15552
    ✓ has/get
    ✓ can modify the returned configuration
    ✓ Stringify returned configuration
    ✓ cannot modify returned configuration
    ✓ inspect in no workspace context
    ✓ inspect in single root context
    ✓ inspect in multi root context
    ✓ inspect with language overrides
    ✓ getConfiguration vs get
    ✓ getConfiguration vs get
    ✓ name vs property
    ✓ update: no target passes null
    ✓ update/section to key
    ✓ update, what is #15834
    ✓ update/error-state not OK
    ✓ configuration change event

  GitHub remote extraction
    ✓ All known formats

  Link protection domain matching
    ✓ simple
    ✓ localhost
    ✓ * star
    ✓ no scheme
    ✓ sub paths
    ✓ case normalization

  dom
    ✓ hasClass
    ✓ removeClass
    ✓ removeClass should consider hyphens
    $
      ✓ should build simple nodes
      ✓ should build nodes with attributes
      ✓ should build nodes with children

  FormattedTextRenderer
    ✓ render simple element
    ✓ render element with class
    ✓ simple formatting
    ✓ no formatting
    ✓ preserve newlines
    ✓ action
    ✓ fancy action
    ✓ escaped formatting

  MarkdownRenderer
    ✓ npm Hover Run Script not working #90855
    Images
      ✓ image rendering conforms to default
      ✓ image rendering conforms to default without title
      ✓ image width from title params
      ✓ image height from title params
      ✓ image width and height from title params
    ThemeIcons Support On
      ✓ render appendText
      ✓ render appendMarkdown
      ✓ render appendMarkdown with escaped icon
    ThemeIcons Support Off
      ✓ render appendText
      ✓ render appendMarkdown with escaped icon

  ProgressBar
    ✓ Progress Bar

  Contextview
    ✓ layout

  StandaloneKeybindingService
    ✓ issue Microsoft/monaco-editor#167

  Decoration Render Options
    ✓ register and resolve decoration type
    ✓ remove decoration type
    ✓ css properties
    ✓ theme color
    ✓ theme overrides
    ✓ css properties, gutterIconPaths

  OpenerService
    ✓ delegate to editorService, scheme:///fff
    ✓ delegate to editorService, scheme:///fff#L123
    ✓ delegate to editorService, scheme:///fff#123,123
    ✓ delegate to commandsService, command:someid
    ✓ links are protected by validators
    ✓ links validated by validators go to openers
    ✓ links validated by multiple validators
    ✓ links invalidated by first validator do not continue validating
    ✓ matchesScheme

  DecorationsService
    ✓ Async provider, async/evented result (113ms)
    ✓ Sync provider, sync result
    ✓ Clear decorations on provider dispose
    ✓ No default bubbling
    ✓ Decorations not showing up for second root folder #48502
    ✓ Decorations not bubbling... #48745
    ✓ Folder decorations don't go away when file with problems is deleted #61919 (part1)
    ✓ Folder decorations don't go away when file with problems is deleted #61919 (part2) (104ms)

  ExtHostLanguageFeatures
    ✓ DocumentSymbols, register/deregister
    ✓ DocumentSymbols, evil provider
    ✓ DocumentSymbols, data conversion
    ✓ CodeLens, evil provider
    ✓ CodeLens, do not resolve a resolved lens
    ✓ CodeLens, missing command
    ✓ Definition, data conversion
    ✓ Definition, one or many
    ✓ Definition, registration order
    ✓ Definition, evil provider
    ✓ Declaration, data conversion
    ✓ Implementation, data conversion
    ✓ Type Definition, data conversion
    ✓ HoverProvider, word range at pos
    ✓ HoverProvider, given range
    ✓ HoverProvider, registration order
    ✓ HoverProvider, evil provider
    ✓ Occurrences, data conversion
    ✓ Occurrences, order 1/2
    ✓ Occurrences, order 2/2
    ✓ Occurrences, evil provider
    ✓ References, registration order
    ✓ References, data conversion
    ✓ References, evil provider
    ✓ Quick Fix, command data conversion
    ✓ Quick Fix, code action data conversion
    ✓ Cannot read property 'id' of undefined, #29469
    ✓ Quick Fix, evil provider
    ✓ Navigate types, evil provider
    ✓ Rename, evil provider 0/2
    ✓ Rename, evil provider 1/2
    ✓ Rename, evil provider 2/2
    ✓ Rename, ordering
    ✓ Multiple RenameProviders don't respect all possible PrepareRename handlers, #98352
    ✓ Multiple RenameProviders don't respect all possible PrepareRename handlers, #98352
    ✓ Parameter Hints, order
    ✓ Parameter Hints, evil provider
    ✓ Suggest, order 1/3
    ✓ Suggest, order 2/3
    ✓ Suggest, order 2/3
    ✓ Suggest, evil provider
    ✓ Suggest, CompletionList
    ✓ Format Doc, data conversion
    ✓ Format Doc, evil provider
    ✓ Format Doc, order
    ✓ Format Range, data conversion
    ✓ Format Range, + format_doc
    ✓ Format Range, evil provider
    ✓ Format on Type, data conversion
    ✓ Links, data conversion
    ✓ Links, evil provider
    ✓ Document colors, data conversion
    ✓ Selection Ranges, data conversion
    ✓ Selection Ranges, bad data

  RenderedLinesCollection onLinesDeleted
    ✓ A1
    ✓ A2
    ✓ A3
    ✓ A4
    ✓ A5
    ✓ A6
    ✓ A7
    ✓ A8
    ✓ B1
    ✓ B2
    ✓ B3
    ✓ B4
    ✓ B5
    ✓ B6
    ✓ C1
    ✓ C2
    ✓ C3
    ✓ C4
    ✓ C5
    ✓ D1
    ✓ D2
    ✓ D3
    ✓ D4
    ✓ E1
    ✓ E2
    ✓ E3
    ✓ F1
    ✓ F2
    ✓ G1
    ✓ G2
    ✓ H1

  RenderedLinesCollection onLineChanged
    ✓ 3
    ✓ 4
    ✓ 5
    ✓ 6
    ✓ 7
    ✓ 8
    ✓ 9
    ✓ 10
    ✓ 11

  RenderedLinesCollection onLinesInserted
    ✓ A1
    ✓ A2
    ✓ A3
    ✓ A4
    ✓ A5
    ✓ A6
    ✓ A7
    ✓ A8
    ✓ B1
    ✓ B2
    ✓ B3
    ✓ B4
    ✓ B5
    ✓ B6
    ✓ C1
    ✓ C2
    ✓ C3
    ✓ C4
    ✓ C5
    ✓ D1
    ✓ D2
    ✓ D3
    ✓ D4
    ✓ E1
    ✓ E2
    ✓ E3
    ✓ F1
    ✓ F2
    ✓ G1
    ✓ G2
    ✓ H1

  RenderedLinesCollection onTokensChanged
    ✓ A
    ✓ B
    ✓ C
    ✓ D
    ✓ E
    ✓ F
    ✓ G
    ✓ H
    ✓ I

  Workbench - TerminalWebLinkProvider
    ✓ LinkComputer cases (189ms)
    ✓ should support multiple link results

  Workbench - TerminalWordLinkProvider
    ✓ should link words as defined by wordSeparators (66ms)
    ✓ should support wide characters
    ✓ should support multiple link results

  Workbench - TerminalValidatedLocalLinkProvider
    ✓ should support multiple link results
    Linux/macOS
      ✓ Git diff links
      Link: /foo
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link: ~/foo
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link: ./foo
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link: ../foo
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link: /foo/bar
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link: foo/bar
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
    Windows
      ✓ Git diff links
      Link "c:\foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "\\?\c:\foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "c:/foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link ".\foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "./foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "..\foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "~\foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "~/foo"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "c:/foo/bar"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "c:\foo\bar"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "c:\foo/bar\baz"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "foo/bar"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "foo/bar"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}
      Link "foo\bar"
        ✓ Format: {0}
        ✓ Format: {0} on line {1}
        ✓ Format: {0} on line {1}, column {2}
        ✓ Format: {0}:line {1}
        ✓ Format: {0}:line {1}, column {2}
        ✓ Format: {0}({1})
        ✓ Format: {0} ({1})
        ✓ Format: {0}({1},{2})
        ✓ Format: {0} ({1},{2})
        ✓ Format: {0}({1}, {2})
        ✓ Format: {0} ({1}, {2})
        ✓ Format: {0}:{1}
        ✓ Format: {0}:{1}:{2}
        ✓ Format: {0}[{1}]
        ✓ Format: {0} [{1}]
        ✓ Format: {0}[{1},{2}]
        ✓ Format: {0} [{1},{2}]
        ✓ Format: {0}[{1}, {2}]
        ✓ Format: {0} [{1}, {2}]
        ✓ Format: {0}",{1}

  Splitview
    ✓ empty splitview has empty DOM
    ✓ has views and sashes as children
    ✓ calls view methods on addView and removeView
    ✓ stretches view to viewport
    ✓ can resize views
    ✓ reacts to view changes
    ✓ sashes are properly enabled/disabled
    ✓ issue #35497
    ✓ automatic size distribution
    ✓ add views before layout
    ✓ split sizing
    ✓ split sizing 2
    ✓ proportional layout
    ✓ disable proportional layout
    ✓ high layout priority
    ✓ low layout priority
    ✓ context propagates to views

  Grid
    ✓ getRelativeLocation
    ✓ empty
    ✓ two views vertically
    ✓ two views horizontally
    ✓ simple layout
    ✓ another simple layout with automatic size distribution
    ✓ another simple layout with split size distribution
    ✓ 3/2 layout with split
    ✓ sizing should be correct after branch demotion #50564
    ✓ sizing should be correct after branch demotion #50675
    ✓ getNeighborViews should work on single view layout
    ✓ getNeighborViews should work on simple layout
    ✓ getNeighborViews should work on a complex layout
    ✓ getNeighborViews should work on another simple layout
    ✓ getNeighborViews should only return immediate neighbors

  SerializableGrid
    ✓ serialize empty
    ✓ serialize simple layout
    ✓ deserialize empty
    ✓ deserialize simple layout
    ✓ deserialize simple layout with scaling
    ✓ deserialize 4 view layout (ben issue #2)
    ✓ deserialize 2 view layout (ben issue #3)
    ✓ deserialize simple view layout #50609
    ✓ sanitizeGridNodeDescriptor
    ✓ createSerializedGrid
    ✓ createSerializedGrid - issue #85601, should not allow single children groups
    ✓ serialize should store visibility and previous size
    ✓ serialize should store visibility and previous size even for first leaf

  Gridview
    ✓ empty gridview is empty
    ✓ gridview addView
    ✓ gridview addView nested
    ✓ gridview addView deep nested
    ✓ simple layout
    ✓ simple layout with automatic size distribution
    ✓ addviews before layout call 1
    ✓ addviews before layout call 2

  KeybindingsSync
    ✓ when keybindings file does not exist
    ✓ when keybindings file is created after first sync

  GlobalStateSync
    ✓ when global state does not exist
    ✓ when global state is created after first sync
    ✓ first time sync - outgoing to server (no state)
    ✓ first time sync - incoming from server (no state)
    ✓ first time sync when storage exists
    ✓ first time sync when storage exists - has conflicts
    ✓ sync adding a storage value
    ✓ sync updating a storage value
    ✓ sync removing a storage value
    ✓ first time sync - push
    ✓ first time sync - pull

  KeybindingsMerge - No Conflicts
    ✓ merge when local and remote are same with one entry
    ✓ merge when local and remote are same with similar when contexts
    ✓ merge when local and remote has entries in different order
    ✓ merge when local and remote are same with multiple entries
    ✓ merge when local and remote are same with different base content
    ✓ merge when local and remote are same with multiple entries in different order
    ✓ merge when local and remote are same when remove entry is in different order
    ✓ merge when a new entry is added to remote
    ✓ merge when multiple new entries are added to remote
    ✓ merge when multiple new entries are added to remote from base and local has not changed
    ✓ merge when an entry is removed from remote from base and local has not changed
    ✓ merge when an entry (same command) is removed from remote from base and local has not changed
    ✓ merge when an entry is updated in remote from base and local has not changed
    ✓ merge when a command with multiple entries is updated from remote from base and local has not changed
    ✓ merge when remote has moved forwareded with multiple changes and local stays with base
    ✓ merge when a new entry is added to local
    ✓ merge when multiple new entries are added to local
    ✓ merge when multiple new entries are added to local from base and remote is not changed
    ✓ merge when an entry is removed from local from base and remote has not changed
    ✓ merge when an entry (with same command) is removed from local from base and remote has not changed
    ✓ merge when an entry is updated in local from base and remote has not changed
    ✓ merge when a command with multiple entries is updated from local from base and remote has not changed
    ✓ merge when local has moved forwareded with multiple changes and remote stays with base
    ✓ merge when local and remote has moved forwareded with conflicts
    ✓ merge when local and remote with one entry but different value
    ✓ merge when local and remote with different keybinding
    ✓ merge when the entry is removed in local but updated in remote
    ✓ merge when the entry is removed in local but updated in remote and a new entry is added in local
    ✓ merge when the entry is removed in remote but updated in local
    ✓ merge when the entry is removed in remote but updated in local and a new entry is added in remote
    ✓ merge when local and remote has moved forwareded with conflicts

  SettingsSync
    ✓ when settings file does not exist
    ✓ when settings file is created after first sync
    ✓ sync for first time to the server
    ✓ do not sync machine settings
    ✓ do not sync machine settings when spread across file
    ✓ do not sync machine settings when spread across file - 2
    ✓ sync when all settings are machine settings
    ✓ sync when all settings are machine settings with trailing comma
    ✓ local change event is triggered when settings are changed (61ms)
    ✓ do not sync ignored settings
    ✓ do not sync ignored and machine settings
    ✓ sync throws invalid content error

  SnippetsSync
    ✓ when snippets does not exist
    ✓ when snippet is created after first sync
    ✓ first time sync - outgoing to server (no snippets)
    ✓ first time sync - incoming from server (no snippets)
    ✓ first time sync when snippets exists
    ✓ first time sync when snippets exists - has conflicts
    ✓ first time sync when snippets exists - has conflicts and accept conflicts
    ✓ first time sync when snippets exists - has multiple conflicts
    ✓ first time sync when snippets exists - has multiple conflicts and accept one conflict
    ✓ first time sync when snippets exists - has multiple conflicts and accept all conflicts
    ✓ sync adding a snippet
    ✓ sync adding a snippet - accept
    ✓ sync updating a snippet
    ✓ sync updating a snippet - accept
    ✓ sync updating a snippet - conflict
    ✓ sync updating a snippet - resolve conflict
    ✓ sync removing a snippet
    ✓ sync removing a snippet - accept
    ✓ sync removing a snippet locally and updating it remotely
    ✓ sync removing a snippet - conflict
    ✓ sync removing a snippet - resolve conflict
    ✓ sync removing a snippet - resolve conflict by removing
    ✓ first time sync - push
    ✓ first time sync - pull
    ✓ sync global and language snippet
    ✓ sync should ignore non snippets

  TestSynchronizer
    ✓ status is syncing
    ✓ status is set correctly when sync is finished
    ✓ status is set correctly when sync has conflicts
    ✓ status is set correctly when sync has errors
    ✓ sync should not run if syncing already
    ✓ sync should not run if disabled
    ✓ sync should not run if there are conflicts
    ✓ request latest data on precondition failure
    ✓ no requests are made to server when local change is triggered (52ms)

  UserDataSyncStoreService
    ✓ test read manifest for the first time
    ✓ test read manifest for the second time when session is not yet created
    ✓ test session id header is not set in the first manifest request after session is created
    ✓ test session id header is set from the second manifest request after session is created
    ✓ test headers are send for write request
    ✓ test headers are send for read request
    ✓ test headers are reset after session is cleared 
    ✓ test old headers are sent after session is changed on server 
    ✓ test old headers are reset from second request after session is changed on server 
    ✓ test old headers are sent after session is cleared from another server 
    ✓ test headers are reset after session is cleared from another server 
    ✓ test headers are reset after session is cleared from another server - started syncing again

  UserDataSyncRequestsSession
    ✓ too many requests are thrown when limit exceeded
    ✓ requests are handled after session is expired (606ms)
    ✓ too many requests are thrown after session is expired (601ms)

  UserDataSyncService
    ✓ test first time sync ever
    ✓ test first time sync ever with no data
    ✓ test first time sync from the client with no changes - pull
    ✓ test first time sync from the client with changes - pull
    ✓ test first time sync from the client with no changes - merge
    ✓ test first time sync from the client with changes - merge
    ✓ test sync when there are no changes
    ✓ test sync when there are local changes
    ✓ test sync when there are remote changes
    ✓ test delete
    ✓ test delete and sync
    ✓ test sync status
    ✓ test sync conflicts status
    ✓ test sync will sync other non conflicted areas
    ✓ test stop sync reset status
    ✓ test sync send execution id header
    ✓ test can run sync taks only once

  UserDataAutoSyncService
    ✓ test auto sync with sync resource change triggers sync (62ms)
    ✓ test auto sync with sync resource change triggers sync for every change (115ms)
    ✓ test auto sync with non sync resource change triggers sync (62ms)
    ✓ test auto sync with non sync resource change does not trigger continuous syncs (60ms)
    ✓ test first auto sync requests (61ms)
    ✓ test further auto sync requests without changes (117ms)
    ✓ test further auto sync requests with changes (121ms)
    ✓ test auto sync send execution id header (118ms)
    ✓ test delete on one client throws turned off error on other client while syncing (121ms)
    ✓ test disabling the machine turns off sync (118ms)
    ✓ test removing the machine adds machine back (118ms)
    ✓ test creating new session from one client throws session expired error on another client while syncing (124ms)
    ✓ test rate limit on server (64ms)

  WorkspacesMainService
    ✓ createWorkspace (folders)
    ✓ createWorkspace (folders with name)
    ✓ createUntitledWorkspace (folders as other resource URIs)
    ✓ createWorkspaceSync (folders)
    ✓ createWorkspaceSync (folders with names)
    ✓ createUntitledWorkspaceSync (folders as other resource URIs)
    ✓ resolveWorkspaceSync
    ✓ resolveWorkspaceSync (support relative paths)
    ✓ resolveWorkspaceSync (support relative paths #2)
    ✓ resolveWorkspaceSync (support relative paths #3)
    ✓ resolveWorkspaceSync (support invalid JSON via fault tolerant parsing)
    ✓ rewriteWorkspaceFileForNewLocation
    ✓ rewriteWorkspaceFileForNewLocation (preserves comments)
    ✓ rewriteWorkspaceFileForNewLocation (preserves forward slashes)
    - rewriteWorkspaceFileForNewLocation (unc paths)
    ✓ deleteUntitledWorkspaceSync (untitled)
    ✓ deleteUntitledWorkspaceSync (saved)
    ✓ getUntitledWorkspaceSync

  Debug - Debugger
    ✓ attributes
    ✓ schema attributes
    ✓ merge platform specific attributes
    ✓ initial config file content

  ConfigurationService - Node
    ✓ simple
    ✓ config gets flattened
    ✓ error case does not explode
    ✓ missing file does not explode
    ✓ trigger configuration change event when file does not exist (426ms)
    ✓ trigger configuration change event when file exists (364ms)
    ✓ reloadConfiguration
    ✓ model defaults (73ms)
    ✓ lookup (52ms)
    ✓ lookup with null (48ms)

  Extension Gallery Service
    ✓ marketplace machine id

  Disk File Service
    ✓ createFolder
    ✓ createFolder: creating multiple folders at once
    ✓ exists
    ✓ resolve - file
    ✓ resolve - directory
    ✓ resolve - directory - with metadata
    ✓ resolve - directory with resolveTo
    ✓ resolve - directory - resolveTo single directory
    ✓ resolve directory - resolveTo multiple directories
    ✓ resolve directory - resolveSingleChildFolders
    ✓ resolves
    ✓ resolve - folder symbolic link
    ✓ resolve - file symbolic link
    ✓ resolve - symbolic link pointing to non-existing file does not break
    ✓ deleteFile
    ✓ deleteFile (useTrash)
    ✓ deleteFile - symbolic link (exists)
    ✓ deleteFile - symbolic link (pointing to non-existing file)
    ✓ deleteFolder (recursive)
    ✓ deleteFolder (recursive, useTrash)
    ✓ deleteFolder (non recursive)
    ✓ move
    ✓ move - across providers (buffered => buffered)
    ✓ move - across providers (unbuffered => unbuffered)
    ✓ move - across providers (buffered => unbuffered)
    ✓ move - across providers (unbuffered => buffered)
    ✓ move - across providers - large (buffered => buffered)
    ✓ move - across providers - large (unbuffered => unbuffered)
    ✓ move - across providers - large (buffered => unbuffered)
    ✓ move - across providers - large (unbuffered => buffered)
    ✓ move - multi folder
    ✓ move - directory
    ✓ move - directory - across providers (buffered => buffered)
    ✓ move - directory - across providers (unbuffered => unbuffered) (46ms)
    ✓ move - directory - across providers (buffered => unbuffered)
    ✓ move - directory - across providers (unbuffered => buffered)
    ✓ move - MIX CASE
    ✓ move - same file
    ✓ move - same file #2
    ✓ move - source parent of target
    ✓ move - FILE_MOVE_CONFLICT
    ✓ move - overwrite folder with file
    ✓ copy
    ✓ copy - unbuffered (FileSystemProviderCapabilities.FileReadWrite)
    ✓ copy - unbuffered large (FileSystemProviderCapabilities.FileReadWrite)
    ✓ copy - buffered (FileSystemProviderCapabilities.FileOpenReadWriteClose)
    ✓ copy - buffered large (FileSystemProviderCapabilities.FileOpenReadWriteClose)
    ✓ copy - overwrite folder with file
    ✓ copy - MIX CASE same target - no overwrite
    ✓ copy - MIX CASE same target - overwrite
    ✓ copy - MIX CASE different taget - overwrite
    ✓ copy - same file
    ✓ copy - same file #2
    ✓ readFile - small file - default
    ✓ readFile - small file - buffered
    ✓ readFile - small file - buffered / readonly
    ✓ readFile - small file - unbuffered
    ✓ readFile - small file - unbuffered / readonly
    ✓ readFile - small file - streamed
    ✓ readFile - small file - streamed / readonly
    ✓ readFile - large file - default
    ✓ readFile - large file - buffered
    ✓ readFile - large file - unbuffered
    ✓ readFile - large file - streamed
    ✓ readFileStream - small file - default
    ✓ readFileStream - small file - buffered
    ✓ readFileStream - small file - unbuffered
    ✓ readFileStream - small file - streamed
    ✓ readFile - Files are intermingled #38331 - default
    ✓ readFile - Files are intermingled #38331 - buffered
    ✓ readFile - Files are intermingled #38331 - unbuffered
    ✓ readFile - Files are intermingled #38331 - streamed
    ✓ readFile - from position (ASCII) - default
    ✓ readFile - from position (ASCII) - buffered
    ✓ readFile - from position (ASCII) - unbuffered
    ✓ readFile - from position (ASCII) - streamed
    ✓ readFile - from position (with umlaut) - default
    ✓ readFile - from position (with umlaut) - buffered
    ✓ readFile - from position (with umlaut) - unbuffered
    ✓ readFile - from position (with umlaut) - streamed
    ✓ readFile - 3 bytes (ASCII) - default
    ✓ readFile - 3 bytes (ASCII) - buffered
    ✓ readFile - 3 bytes (ASCII) - unbuffered
    ✓ readFile - 3 bytes (ASCII) - streamed
    ✓ readFile - 20000 bytes (large) - default
    ✓ readFile - 20000 bytes (large) - buffered
    ✓ readFile - 20000 bytes (large) - unbuffered
    ✓ readFile - 20000 bytes (large) - streamed
    ✓ readFile - 80000 bytes (large) - default
    ✓ readFile - 80000 bytes (large) - buffered
    ✓ readFile - 80000 bytes (large) - unbuffered
    ✓ readFile - 80000 bytes (large) - streamed
    ✓ readFile - FILE_IS_DIRECTORY
    ✓ readFile - FILE_NOT_DIRECTORY
    ✓ readFile - FILE_NOT_FOUND
    ✓ readFile - FILE_NOT_MODIFIED_SINCE - default
    ✓ readFile - FILE_NOT_MODIFIED_SINCE - buffered
    ✓ readFile - FILE_NOT_MODIFIED_SINCE - unbuffered
    ✓ readFile - FILE_NOT_MODIFIED_SINCE - streamed
    ✓ readFile - FILE_NOT_MODIFIED_SINCE does not fire wrongly - https://github.com/Microsoft/vscode/issues/72909
    ✓ readFile - FILE_EXCEEDS_MEMORY_LIMIT - default
    ✓ readFile - FILE_EXCEEDS_MEMORY_LIMIT - buffered
    ✓ readFile - FILE_EXCEEDS_MEMORY_LIMIT - unbuffered
    ✓ readFile - FILE_EXCEEDS_MEMORY_LIMIT - streamed
    ✓ readFile - FILE_TOO_LARGE - default
    ✓ readFile - FILE_TOO_LARGE - buffered
    ✓ readFile - FILE_TOO_LARGE - unbuffered
    ✓ readFile - FILE_TOO_LARGE - streamed
    ✓ createFile
    ✓ createFile (readable)
    ✓ createFile (stream)
    ✓ createFile (does not overwrite by default)
    ✓ createFile (allows to overwrite existing)
    ✓ writeFile - default
    ✓ writeFile - buffered
    ✓ writeFile - unbuffered
    ✓ writeFile (large file) - default
    ✓ writeFile (large file) - buffered
    ✓ writeFile (large file) - unbuffered
    ✓ writeFile - buffered - readonly throws
    ✓ writeFile - unbuffered - readonly throws
    ✓ writeFile (large file) - multiple parallel writes queue up (84ms)
    ✓ writeFile (readable) - default
    ✓ writeFile (readable) - buffered
    ✓ writeFile (readable) - unbuffered
    ✓ writeFile (large file - readable) - default (212ms)
    ✓ writeFile (large file - readable) - buffered (134ms)
    ✓ writeFile (large file - readable) - unbuffered
    ✓ writeFile (stream) - default
    ✓ writeFile (stream) - buffered
    ✓ writeFile (stream) - unbuffered
    ✓ writeFile (large file - stream) - default
    ✓ writeFile (large file - stream) - buffered
    ✓ writeFile (large file - stream) - unbuffered
    ✓ writeFile (file is created including parents)
    ✓ writeFile (error when folder is encountered)
    ✓ writeFile (no error when providing up to date etag)
    ✓ writeFile - error when writing to file that has been updated meanwhile
    ✓ writeFile - no error when writing to file where size is the same
    ✓ writeFile - no error when writing to same non-existing folder multiple times different new files
    ✓ writeFile - error when writing to folder that is a file
    - watch - file
    - watch - file symbolic link
    - watch - file - multiple writes
    - watch - file - delete file
    - watch - file - rename file
    - watch - file - rename file (different case)
    - watch - file (atomic save)
    - watch - folder (non recursive) - change file
    - watch - folder (non recursive) - add file
    - watch - folder (non recursive) - delete file
    - watch - folder (non recursive) - add folder
    - watch - folder (non recursive) - delete folder
    - watch - folder (non recursive) - symbolic link - change file
    - watch - folder (non recursive) - rename file
    - watch - folder (non recursive) - rename file (different case)
    ✓ read - mixed positions
    ✓ write - mixed positions

  Storage
    ✓ File Based Storage

  Themes - TokenStyleResolving
    ✓ color defaults - monokai
    ✓ color defaults - dark+
    ✓ color defaults - light vs
    ✓ color defaults - hc
    ✓ color defaults - kimbie dark
    ✓ color defaults - abyss
    ✓ resolveScopes
    ✓ resolveScopes - match most specific
    ✓ rule matching
    ✓ super type
    ✓ language
    ✓ language - scope resolving

  FileUserDataProvider
    ✓ exists return false when file does not exist
    ✓ read file throws error if not exist
    ✓ read existing file
    ✓ create file
    ✓ write file creates the file if not exist
    ✓ write to existing file
    ✓ delete file
    ✓ resolve file
    ✓ exists return false for folder that does not exist
    ✓ exists return true for folder that exists
    ✓ read file throws error for folder
    ✓ read file under folder
    ✓ read file under sub folder
    ✓ create file under folder that exists
    ✓ create file under folder that does not exist
    ✓ write to not existing file under container that exists
    ✓ write to not existing file under container that does not exists
    ✓ write to existing file under container
    ✓ write file under sub container
    ✓ delete throws error for folder that does not exist
    ✓ delete not existing file under container that exists
    ✓ delete not existing file under container that does not exists
    ✓ delete existing file under folder
    ✓ resolve folder
    ✓ read backup file
    ✓ create backup file
    ✓ write backup file
    ✓ resolve backups folder

  FileUserDataProvider - Watching
    ✓ file added change event
    ✓ file updated change event
    ✓ file deleted change event
    ✓ file under folder created change event
    ✓ file under folder updated change event
    ✓ file under folder deleted change event
    ✓ event is not triggered if file is not under user data
    ✓ backup file created change event
    ✓ backup file update change event
    ✓ backup file delete change event

  NotebookTextModel
    ✓ insert
    ✓ multiple inserts at same position
    ✓ delete
    ✓ delete + insert
    ✓ delete + insert at same position

  Notebook Folding
    ✓ Folding based on markdown cells
    ✓ Top level header in a cell wins
    ✓ Folding
    ✓ Nested Folding
    ✓ Folding Memento
    ✓ View Index

  NotebookCommon
    ✓ sortMimeTypes default orders
    ✓ sortMimeTypes document orders
    ✓ sortMimeTypes user orders
    ✓ sortMimeTypes glob
    ✓ diff cells

  CellUri
    ✓ parse, generate (file-scheme)
    ✓ parse, generate (foo-scheme)

  NotebookViewModel
    ✓ ctor
    ✓ insert/delete
    ✓ move cells down
    ✓ move cells up
    ✓ index
    ✓ metadata

  NotebookViewModel Decorations
    ✓ tracking range
    ✓ tracking range 2
    ✓ reduce range
    ✓ diff hidden ranges
    ✓ hidden ranges

  ExtHostSearch
    File:
      ✓ no results
      ✓ simple results
      ✓ Search canceled
      ✓ provider returns null
      ✓ all provider calls get global include/excludes
      ✓ global/local include/excludes combined
      ✓ include/excludes resolved correctly
      ✓ basic sibling exclude clause
      ✓ multiroot sibling exclude clause
      - max results = 1
      - max results = 2
      - provider returns maxResults exactly
      ✓ multiroot max results
      ✓ works with non-file schemes
    Text:
      ✓ no results
      ✓ basic results
      ✓ all provider calls get global include/excludes
      ✓ global/local include/excludes combined
      ✓ include/excludes resolved correctly
      ✓ provider fail
      ✓ basic sibling clause
      ✓ multiroot sibling clause
      ✓ include pattern applied
      ✓ max results = 1
      ✓ max results = 2
      ✓ provider returns maxResults exactly
      ✓ provider returns early with limitHit
      ✓ multiroot max results
      ✓ works with non-file schemes

  Breadcrumb Model
    ✓ only uri, inside workspace
    ✓ only uri, outside workspace

  MouseWheelClassifier
    ✓ OSX - Apple Magic Mouse
    ✓ OSX - Apple Touch Pad
    ✓ OSX - Razer Physical Mouse Wheel
    ✓ Windows - Microsoft Arc Touch
    ✓ Windows - SurfaceBook TouchPad
    ✓ Windows - Razer physical wheel
    ✓ Windows - Logitech physical wheel
    ✓ Windows - Microsoft basic v2 physical wheel

  ListView
    ✓ all rows get disposed

  DataTree
    ✓ view state is lost implicitly
    ✓ view state can be preserved

  ObjectTree
    ✓ traits are preserved according to string identity
    TreeNavigator
      ✓ should be able to navigate
      ✓ should skip collapsed nodes
      ✓ should skip filtered elements
      ✓ should be able to start from node

  CompressibleObjectTree
    ✓ empty
    ✓ simple
    ✓ compressed
    ✓ enableCompression

  AsyncDataTree
    ✓ Collapse state should be preserved across refresh calls
    ✓ issue #68648
    ✓ issue #67722 - once resolved, refreshed collapsed nodes should only get children when expanded
    ✓ resolved collapsed nodes which lose children should lose twistie as well
    ✓ support default collapse state per element
    ✓ issue #80098 - concurrent refresh and expand
    ✓ issue #80098 - first expand should call getChildren
    ✓ issue #78388 - tree should react to hasChildren toggles
    ✓ issues #84569, #82629 - rerender

  Actionbar
    ✓ prepareActions()

  CodeActionKeybindingResolver
    ✓ Should match refactor keybindings
    ✓ Should prefer most specific keybinding
    ✓ Organize imports should still return a keybinding even though it does not have args

  Search Actions
    ✓ get next element to focus after removing a match when it has next sibling file
    ✓ get next element to focus after removing a match when it does not have next sibling match
    ✓ get next element to focus after removing a match when it does not have next sibling match and previous match is file match
    ✓ get next element to focus after removing a match when it is the only match
    ✓ get next element to focus after removing a file match when it has next sibling
    ✓ get next element to focus after removing a file match when it has no next sibling
    ✓ get next element to focus after removing a file match when it is only match

  Menubar
    ✓ English File menu renders mnemonics
    ✓ Russian File menu renders mnemonics
    ✓ Chinese File menu renders mnemonics

  Viewlets
    ✓ ViewletDescriptor API
    ✓ Editor Aware ViewletDescriptor API
    ✓ Viewlet extension point and registration

  Workbench - TerminalConfigHelper
    ✓ TerminalConfigHelper - getFont fontFamily (Linux Fedora)
    ✓ TerminalConfigHelper - getFont fontFamily (Linux Ubuntu)
    ✓ TerminalConfigHelper - getFont fontFamily (Linux Unknown)
    ✓ TerminalConfigHelper - getFont fontSize
    ✓ TerminalConfigHelper - getFont lineHeight
    ✓ TerminalConfigHelper - isMonospace monospace
    ✓ TerminalConfigHelper - isMonospace sans-serif
    ✓ TerminalConfigHelper - isMonospace serif
    ✓ TerminalConfigHelper - isMonospace monospace falls back to editor.fontFamily
    ✓ TerminalConfigHelper - isMonospace sans-serif falls back to editor.fontFamily
    ✓ TerminalConfigHelper - isMonospace serif falls back to editor.fontFamily

  KeybindingsEditorContribution
    ✓ _userSettingsFuzzyEquals

  Debug - DebugSession telemetry
    ✓ does not send telemetry when opted out
    ✓ logs telemetry and exceptions when enabled
    ✓ filters exceptions when error reporting disabled

  Debug - CallStack
    ✓ threads simple
    ✓ threads multiple wtih allThreadsStopped
    ✓ threads mutltiple without allThreadsStopped
    ✓ stack frame get specific source name
    ✓ stack frame toString()
    ✓ debug child sessions are added in correct order
    ✓ decorations
    ✓ contexts
    ✓ focusStackFrameThreadAndSesion

  Debug - REPL
    ✓ repl output
    ✓ repl merging
    ✓ repl expressions
    ✓ repl ordering
    ✓ repl groups

  Debug - Hover
    ✓ find expression in stack frame

  ViewModelDecorations
    ✓ getDecorationsViewportData
    ✓ issue #17208: Problem scrolling in 1.8.0
    ✓ issue #37401: Allow both before and after decorations on empty line

  ViewModel
    ✓ issue #21073: SplitLinesCollection: attempt to access a 'newer' model
    ✓ issue #44805: SplitLinesCollection: attempt to access a 'newer' model
    ✓ issue #44805: No visible lines via API call
    ✓ issue #44805: No visible lines via undoing
    ✓ getPlainTextToCopy 0/1
    ✓ getPlainTextToCopy 0/1 - emptySelectionClipboard
    ✓ getPlainTextToCopy 1/1
    ✓ getPlainTextToCopy 1/1 - emptySelectionClipboard
    ✓ getPlainTextToCopy 0/2
    ✓ getPlainTextToCopy 0/2 - emptySelectionClipboard
    ✓ getPlainTextToCopy 1/2
    ✓ getPlainTextToCopy 1/2 - emptySelectionClipboard
    ✓ getPlainTextToCopy 2/2
    ✓ getPlainTextToCopy 2/2 reversed
    ✓ getPlainTextToCopy 0/3 - emptySelectionClipboard
    ✓ issue #22688 - always use CRLF for clipboard on Windows

  TokenizationSupport2Adapter
    ✓ tokens always start at index 0 (no offset delta)
    ✓ tokens always start after each other (no offset delta)
    ✓ tokens always start at index 0 (with offset delta)
    ✓ tokens always start after each other (with offset delta)

  bracket matching
    ✓ issue #183: jump to matching bracket position
    ✓ Jump to next bracket
    ✓ Select to next bracket
    ✓ issue #1772: jump to enclosing brackets
    ✓ issue #43371: argument to not select brackets
    ✓ issue #45369: Select to Bracket with multicursor

  CodeActionModel
    ✓ Orcale -> marker added (258ms)
    ✓ Orcale -> position changed (257ms)
    ✓ Lightbulb is in the wrong place, #29933 (256ms)
    ✓ Orcale -> should only auto trigger once for cursor and marker update right after each other (310ms)

  FindController
    ✓ issue #82535: Edge case with cursorUndo
    ✓ issue #82535: Edge case with cursorUndo (reverse)

  Find
    ✓ search string at position
    ✓ search string with selection
    ✓ search string with multiline selection

  FindController
    ✓ issue #1857: F3, Find Next, acts like "Find Under Cursor"
    ✓ issue #3090: F3 does not loop with two matches on a single line
    ✓ issue #6149: Auto-escape highlighted text for search and replace regex mode
    ✓ issue #41027: Don't replace find input value on replace action if find input is active
    ✓ issue #9043: Clear search scope when find widget is hidden
    ✓ issue #18111: Regex replace with single space replaces with no space
    ✓ issue #24714: Regular expression with ^ in search & replace
    ✓ issue #38232: Find Next Selection, regex enabled
    ✓ issue #38232: Find Next Selection, regex enabled, find widget open

  FindController query options persistence
    ✓ matchCase
    ✓ wholeWord
    ✓ toggling options is saved
    ✓ issue #27083: Update search scope once find widget becomes visible
    ✓ issue #58604: Do not update searchScope if it is empty
    ✓ issue #58604: Update searchScope if it is not empty
    ✓ issue #27083: Find in selection when multiple lines are selected

  FindModel
    ✓ incremental find from beginning of file
    ✓ find model removes its decorations
    ✓ find model updates state matchesCount
    ✓ find model reacts to position change
    ✓ find model next
    ✓ find model next stays in scope
    ✓ find model prev
    ✓ find model prev stays in scope
    ✓ find model next/prev with no matches
    ✓ find model next/prev respects cursor position
    ✓ find ^
    ✓ find $
    ✓ find next ^$
    ✓ find .*
    ✓ find next ^.*$
    ✓ find prev ^.*$
    ✓ find prev ^$
    ✓ replace hello
    ✓ replace bla
    ✓ replaceAll hello
    ✓ replaceAll two spaces with one space
    ✓ replaceAll bla
    ✓ replaceAll bla with \t\n
    ✓ issue #3516: "replace all" moves page/cursor/focus/scroll to the place of the last replacement
    ✓ listens to model content changes
    ✓ selectAllMatches
    ✓ issue #14143 selectAllMatches should maintain primary cursor if feasible
    ✓ issue #1914: NPE when there is only one find match
    ✓ replace when search string has look ahed regex
    ✓ replace when search string has look ahed regex and cursor is at the last find match
    ✓ replaceAll when search string has look ahed regex
    ✓ replace when search string has look ahed regex and replace string has capturing groups
    ✓ replaceAll when search string has look ahed regex and replace string has capturing groups
    ✓ replaceAll when search string is multiline and has look ahed regex and replace string has capturing groups
    ✓ replaceAll preserving case
    ✓ issue #18711 replaceAll with empty string
    ✓ issue #32522 replaceAll with ^ on more than 1000 matches (86ms)
    ✓ issue #19740 Find and replace capture group/backreference inserts `undefined` instead of empty string
    ✓ issue #27083. search scope works even if it is a single line
    ✓ issue #3516: Control behavior of "Next" operations (not looping back to beginning)
    ✓ issue #3516: Control behavior of "Next" operations (looping back to beginning)

  ParameterHintsModel
    ✓ Provider should get trigger character on type (127ms)
    ✓ Provider should be retriggered if already active (299ms)
    ✓ Provider should not be retriggered if previous help is canceled first (247ms)
    ✓ Provider should get last trigger character when triggered multiple times and only be invoked once (62ms)
    ✓ Provider should be retriggered if already active (67ms)
    ✓ Should cancel existing request when new request comes in (112ms)
    ✓ Provider should be retriggered by retrigger character (65ms)
    ✓ should use first result from multiple providers (65ms)
    ✓ Quick typing should use the first trigger character (55ms)

  Editor Contrib - Line Operations
    ✓ transpose
    ✓ toggle case
    ✓ InsertLineBeforeAction
    ✓ InsertLineAfterAction
    ✓ Bug 18276:[editor] Indentation broken when selection is empty
    ✓ issue #80736: Indenting while the cursor is at the start of a line of text causes the added spaces or tab to be selected
    ✓ Indenting on empty line should move cursor
    ✓ issue #62112: Delete line does not work properly when multiple cursors are on line
    ✓ empty selection in middle of lines
    ✓ empty selection at top of lines
    ✓ empty selection at end of lines
    ✓ with selection in middle of lines
    ✓ with selection at top of lines
    ✓ with selection at end of lines
    ✓ with full line selection in middle of lines
    ✓ with full line selection at top of lines
    ✓ with full line selection at end of lines
    ✓ multicursor 1
    SortLinesAscendingAction
      ✓ should sort selected lines in ascending order
      ✓ should sort multiple selections in ascending order
    SortLinesDescendingAction
      ✓ should sort selected lines in descending order
      ✓ should sort multiple selections in descending order
    DeleteAllLeftAction
      ✓ should delete to the left of the cursor
      ✓ should jump to the previous line when on first column
      ✓ should keep deleting lines in multi cursor mode
      ✓ should work in multi cursor mode
      ✓ issue #36234: should push undo stop
    JoinLinesAction
      ✓ should join lines and insert space if necessary
      ✓ #50471 Join lines at the end of document
      ✓ should work in multi cursor mode
      ✓ should push undo stop
    DeleteAllRightAction
      ✓ should be noop on empty
      ✓ should delete selected range
      ✓ should delete to the right of the cursor
      ✓ should join two lines, if at the end of the line
      ✓ should work with multiple cursors
      ✓ should work with undo/redo

  Multicursor
    ✓ issue #2205: Multi-cursor pastes in reverse order
    ✓ issue #1336: Insert cursor below on last line adds a cursor to the end of the current line

  Multicursor selection
    ✓ issue #8817: Cursor position changes when you cancel multicursor
    ✓ issue #5400: "Select All Occurrences of Find Match" does not select all if find uses regex
    ✓ AddSelectionToNextFindMatchAction can work with multiline
    ✓ issue #6661: AddSelectionToNextFindMatchAction can work with touching ranges
    ✓ issue #23541: Multiline Ctrl+D does not work in CRLF files
    ✓ AddSelectionToNextFindMatchAction starting with single collapsed selection
    ✓ AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 1)
    ✓ AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 2)
    ✓ AddSelectionToNextFindMatchAction starting with all collapsed selections
    ✓ AddSelectionToNextFindMatchAction starting with all collapsed selections on different words
    ✓ issue #20651: AddSelectionToNextFindMatchAction case insensitive
    Find state disassociation
      ✓ enters mode
      ✓ leaves mode when selection changes
      ✓ Select Highlights respects mode 

  On type rename
    ✓ Simple insert - initial
    ✓ Simple insert - middle
    ✓ Simple insert - end
    ✓ Simple insert end - initial
    ✓ Simple insert end - middle
    ✓ Simple insert end - end
    ✓ Simple insert - out of boundary
    ✓ Simple insert - out of boundary 2
    ✓ Simple insert - out of boundary 3
    ✓ Simple insert - out of boundary 4
    ✓ Continuous insert
    ✓ Insert - move - insert
    ✓ Insert - move - insert outside region (39ms)
    ✓ Selection insert - simple
    ✓ Selection insert - whole
    ✓ Selection insert - across boundary
    ✓ Breakout - type space
    ✓ Breakout - type space then undo
    ✓ Breakout - type space in middle
    ✓ Breakout - paste content starting with space
    ✓ Breakout - paste content starting with space then undo
    ✓ Breakout - paste content starting with space in middle
    ✓ Breakout with stop pattern - insert
    ✓ Breakout with stop pattern - insert stop char
    ✓ Breakout with stop pattern - paste char
    ✓ Breakout with stop pattern - paste string
    ✓ Breakout with stop pattern - insert at end
    ✓ Delete - left char
    ✓ Delete - left char then undo
    ✓ Delete - left word
    ✓ Delete - left word then undo
    ✓ Delete - left all then undo twice
    ✓ Delete - selection
    ✓ Delete - selection across boundary (38ms)
    ✓ Undo/redo - simple undo (38ms)
    ✓ Undo/redo - simple undo/redo
    ✓ Multiline insert

  SnippetSession
    ✓ normalize whitespace
    ✓ adjust selection (overwrite[Before|After])
    ✓ text edits & selection
    ✓ text edit with reversed selection
    ✓ snippets, repeated tabstops
    ✓ snippets, just text
    ✓ snippets, selections and new text with newlines
    ✓ snippets, newline NO whitespace adjust
    ✓ snippets, selections -> next/prev
    ✓ snippets, selections & typing
    ✓ snippets, insert shorter snippet into non-empty selection
    ✓ snippets, insert longer snippet into non-empty selection
    ✓ snippets, don't grow final tabstop
    ✓ snippets, don't merge touching tabstops 1/2
    ✓ snippets, don't merge touching tabstops 2/2
    ✓ snippets, gracefully move over final tabstop
    ✓ snippets, overwriting nested placeholder
    ✓ snippets, selections and snippet ranges
    ✓ snippets, nested sessions
    ✓ snippets, typing at final tabstop
    ✓ snippets, typing at beginning
    ✓ snippets, typing with nested placeholder
    ✓ snippets, snippet with variables
    ✓ snippets, merge
    ✓ snippets, transform
    ✓ snippets, multi placeholder same index one transform
    ✓ snippets, transform example
    ✓ snippets, transform with indent
    ✓ snippets, transform example hit if
    ✓ Snippet placeholder index incorrect after using 2+ snippets in a row that each end with a placeholder, #30769
    ✓ Snippet variable text isn't whitespace normalised, #31124
    ✓ Selecting text from left to right, and choosing item messes up code, #31199

  SnippetController
    ✓ Simple accepted
    ✓ Simple canceled
    ✓ Stops when calling model.setValue()
    ✓ Stops when undoing
    ✓ Stops when moving cursor outside
    ✓ Stops when disconnecting editor model
    ✓ Stops when disposing editor
    ✓ Final tabstop with multiple selections
    ✓ Final tabstop, #11742 simple
    ✓ Final tabstop, #11742 different indents
    ✓ Final tabstop, #11890 stay at the beginning
    ✓ Final tabstop, no tabstop
    ✓ Multiple cursor and overwriteBefore/After, issue #11060
    ✓ Multiple cursor and overwriteBefore/After, #16277
    ✓ Insert snippet twice, #19449

  SnippetController2
    ✓ creation
    ✓ insert, insert -> abort
    ✓ insert, insert -> tab, tab, done
    ✓ insert, insert -> cursor moves out (left/right)
    ✓ insert, insert -> cursor moves out (up/down)
    ✓ insert, insert -> cursors collapse
    ✓ insert, insert plain text -> no snippet mode
    ✓ insert, delete snippet text
    ✓ insert, nested snippet
    ✓ insert, nested plain text
    ✓ Nested snippets without final placeholder jumps to next outer placeholder, #27898
    ✓ Inconsistent tab stop behaviour with recursive snippets and tab / shift tab, #27543
    ✓ Snippet tabstop selecting content of previously entered variable only works when separated by space, #23728
    ✓ HTML Snippets Combine, #32211
    ✓ Problems with nested snippet insertion #39594
    ✓ Problems with nested snippet insertion #39594
    ✓ “Nested” snippets terminating abruptly in VSCode 1.19.2. #42012
    ✓ Placeholders order #58267
    ✓ Must tab through deleted tab stops in snippets #31619
    ✓ Cancelling snippet mode should discard added cursors #68512 (soft cancel)
    ✓ Cancelling snippet mode should discard added cursors #68512 (hard cancel)
    ✓ User defined snippet tab stops ignored #72862
    ✓ Optional tabstop in snippets #72358
    ✓ issue #90135: confusing trim whitespace edits

  SuggestModel - Context
    ✓ Context - shouldAutoTrigger
    ✓ shouldAutoTrigger at embedded language boundaries

  SuggestModel - TriggerAndCancelOracle
    ✓ events - cancel/trigger
    ✓ events - suggest/empty
    ✓ trigger - on type
    ✓ #17400: Keep filtering suggestModel.ts after space
    ✓ #21484: Trigger character always force a new completion session
    ✓ Intellisense Completion doesn't respect space after equal sign (.html file), #29353 [1/2]
    ✓ Intellisense Completion doesn't respect space after equal sign (.html file), #29353 [2/2]
    ✓ Incomplete suggestion results cause re-triggering when typing w/o further context, #28400 (1/2)
    ✓ Incomplete suggestion results cause re-triggering when typing w/o further context, #28400 (2/2)
    ✓ Trigger character is provided in suggest context
    ✓ Mac press and hold accent character insertion does not update suggestions, #35269
    ✓ Backspace should not always cancel code completion, #36491
    ✓ Text changes for completion CodeAction are affected by the completion #39893
    ✓ Completion unexpectedly triggers on second keypress of an edit group in a snippet #43523
    ✓ Fails to render completion details #47988

  Snippet Variables Resolver
    ✓ editor variables, basics
    ✓ editor variables, file/dir
    ✓ Path delimiters in code snippet variables aren't specific to remote OS #76840
    ✓ editor variables, selection
    ✓ TextmateSnippet, resolve variable
    ✓ TextmateSnippet, resolve variable with default
    ✓ More useful environment variables for snippets, #32737
    ✓ Variable Snippet Transform
    ✓ Snippet transforms do not handle regex with alternatives or optional matches, #36089
    ✓ Add variable to insert value from clipboard to a snippet #40153
    ✓ Add variable to insert value from clipboard to a snippet #40153
    ✓ Add time variables for snippets #41631, #43140
    ✓ creating snippet - format-condition doesn't work #53617
    ✓ Add workspace name and folder variables for snippets #68261

  SuggestController
    ✓ postfix completion reports incorrect position #86984
    ✓ use additionalTextEdits sync when possible
    ✓ resolve additionalTextEdits async when needed
    ✓ resolve additionalTextEdits async when needed (typing)
    ✓ resolve additionalTextEdits async when needed (simple conflict)
    ✓ resolve additionalTextEdits async when needed (conflict)
    ✓ resolve additionalTextEdits async when needed (cancel)

  suggest, word distance
    ✓ Suggest locality bonus can boost current word #90515

  Editor Side Editing - collapsed selection
    ✓ replace at selection
    ✓ replace at selection 2
    ✓ insert at selection
    ✓ insert at selection sitting on max column
    ✓ issue #3994: replace on top of selection
    ✓ issue #15267: Suggestion that adds a line - cursor goes to the wrong line 
    ✓ issue #15236: Selections broke after deleting text using vscode.TextEditor.edit 

  SideEditing
    insert
      collapsed sel
        ✓ before
        ✓ equal
        ✓ after
      non-collapsed dec
        ✓ before
        ✓ start
        ✓ inside
        ✓ end
        ✓ after
    delete
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end
    replace short
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end
    replace long
      collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start >= range.end
        ✓ edit.start > range.end
      non-collapsed dec
        ✓ edit.end < range.start
        ✓ edit.end <= range.start
        ✓ edit.start < range.start && edit.end < range.end
        ✓ edit.start < range.start && edit.end == range.end
        ✓ edit.start < range.start && edit.end > range.end
        ✓ edit.start == range.start && edit.end < range.end
        ✓ edit.start == range.start && edit.end == range.end
        ✓ edit.start == range.start && edit.end > range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end
        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end
        ✓ edit.start == range.end
        ✓ edit.start > range.end

  Cursor move command test
    ✓ move left should move to left character
    ✓ move left should move to left by n characters
    ✓ move left should move to left by half line
    ✓ move left moves to previous line
    ✓ move right should move to right character
    ✓ move right should move to right by n characters
    ✓ move right should move to right by half line
    ✓ move right moves to next line
    ✓ move to first character of line from middle
    ✓ move to first character of line from first non white space character
    ✓ move to first character of line from first character
    ✓ move to first non white space character of line from middle
    ✓ move to first non white space character of line from first non white space character
    ✓ move to first non white space character of line from first character
    ✓ move to end of line from middle
    ✓ move to end of line from last non white space character
    ✓ move to end of line from line end
    ✓ move to last non white space character from middle
    ✓ move to last non white space character from last non white space character
    ✓ move to last non white space character from line end
    ✓ move to center of line not from center
    ✓ move to center of line from center
    ✓ move to center of line from start
    ✓ move to center of line from end
    ✓ move up by cursor move command
    ✓ move up by model line cursor move command
    ✓ move down by model line cursor move command
    ✓ move up with selection by cursor move command
    ✓ move up and down with tabs by cursor move command
    ✓ move up and down with end of lines starting from a long one by cursor move command
    ✓ move to view top line moves to first visible line if it is first line
    ✓ move to view top line moves to top visible line when first line is not visible
    ✓ move to view top line moves to nth line from top
    ✓ move to view top line moves to last line if n is greater than last visible line number
    ✓ move to view center line moves to the center line
    ✓ move to view bottom line moves to last visible line if it is last line
    ✓ move to view bottom line moves to last visible line when last line is not visible
    ✓ move to view bottom line moves to nth line from bottom
    ✓ move to view bottom line moves to first line if n is lesser than first visible line number

  Editor Controller - Cursor
    ✓ cursor initialized
    ✓ no move
    ✓ move
    ✓ move in selection mode
    ✓ move beyond line end
    ✓ move empty line
    ✓ move one char line
    ✓ selection down
    ✓ move and then select
    ✓ move left on top left position
    ✓ move left
    ✓ move left with surrogate pair
    ✓ move left goes to previous row
    ✓ move left selection
    ✓ move right on bottom right position
    ✓ move right
    ✓ move right with surrogate pair
    ✓ move right goes to next row
    ✓ move right selection
    ✓ move down
    ✓ move down with selection
    ✓ move down with tabs
    ✓ move up
    ✓ move up with selection
    ✓ move up and down with tabs
    ✓ move up and down with end of lines starting from a long one
    ✓ issue #44465: cursor position not correct when move
    ✓ move to beginning of line
    ✓ move to beginning of line from within line
    ✓ move to beginning of line from whitespace at beginning of line
    ✓ move to beginning of line from within line selection
    ✓ move to beginning of line with selection multiline forward
    ✓ move to beginning of line with selection multiline backward
    ✓ move to beginning of line with selection single line forward
    ✓ move to beginning of line with selection single line backward
    ✓ issue #15401: "End" key is behaving weird when text is selected part 1
    ✓ issue #17011: Shift+home/end now go to the end of the selection start's line, not the selection's end
    ✓ move to end of line
    ✓ move to end of line from within line
    ✓ move to end of line from whitespace at end of line
    ✓ move to end of line from within line selection
    ✓ move to end of line with selection multiline forward
    ✓ move to end of line with selection multiline backward
    ✓ move to end of line with selection single line forward
    ✓ move to end of line with selection single line backward
    ✓ issue #15401: "End" key is behaving weird when text is selected part 2
    ✓ move to beginning of buffer
    ✓ move to beginning of buffer from within first line
    ✓ move to beginning of buffer from within another line
    ✓ move to beginning of buffer from within first line selection
    ✓ move to beginning of buffer from within another line selection
    ✓ move to end of buffer
    ✓ move to end of buffer from within last line
    ✓ move to end of buffer from within another line
    ✓ move to end of buffer from within last line selection
    ✓ move to end of buffer from within another line selection
    ✓ select all
    ✓ expandLineSelection
    ✓ no move doesn't trigger event
    ✓ move eventing
    ✓ move in selection mode eventing
    ✓ saveState & restoreState
    ✓ Independent model edit 1
    ✓ column select 1
    ✓ grapheme breaking
    ✓ issue #4905 - column select is biased to the right
    ✓ issue #20087: column select with mouse
    ✓ issue #20087: column select with keyboard
    ✓ column select with keyboard

  Editor Controller - Regression tests
    ✓ issue Microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases
    ✓ Bug 9121: Auto indent + undo + redo is funky
    ✓ issue #23539: Setting model EOL isn't undoable
    ✓ issue #47733: Undo mangles unicode characters
    ✓ issue #46208: Allow empty selections in the undo/redo stack
    ✓ bug #16815:Shift+Tab doesn't go back to tabstop
    ✓ Bug #18293:[regression][editor] Can't outdent whitespace line
    ✓ issue #95591: Unindenting moves cursor to beginning of line
    ✓ Bug #16657: [editor] Tab on empty line of zero indentation moves cursor to position (1,1)
    ✓ bug #16740: [editor] Cut line doesn't quite cut the last line
    ✓ Bug #11476: Double bracket surrounding + undo is broken
    ✓ issue #1140: Backspace stops prematurely
    ✓ issue #10212: Pasting entire line does not replace selection
    ✓ issue #74722: Pasting whole line does not replace selection
    ✓ issue #4996: Multiple cursor paste pastes contents of all cursors
    ✓ issue #16155: Paste into multiple cursors has edge case when number of lines equals number of cursors - 1
    ✓ issue #43722: Multiline paste doesn't work anymore
    ✓ issue #46440: (1) Pasting a multi-line selection pastes entire selection into every insertion point
    ✓ issue #46440: (2) Pasting a multi-line selection pastes entire selection into every insertion point
    ✓ issue #3071: Investigate why undo stack gets corrupted
    ✓ issue #12950: Cannot Double Click To Insert Emoji Using OSX Emoji Panel
    ✓ issue #3463: pressing tab adds spaces, but not as many as for a tab
    ✓ issue #4312: trying to type a tab character over a sequence of spaces results in unexpected behaviour
    ✓ issue #832: word right
    ✓ issue #33788: Wrong cursor position when double click to select a word
    ✓ issue #12887: Double-click highlighting separating white space
    ✓ issue #9675: Undo/Redo adds a stop in between CHN Characters
    ✓ issue #23913: Greater than 1000+ multi cursor typing replacement text appears inverted, lines begin to drop off selection (320ms)
    ✓ issue #23983: Calling model.setEOL does not reset cursor position
    ✓ issue #23983: Calling model.setValue() resets cursor position
    ✓ issue #36740: wordwrap creates an extra step / character at the wrapping point
    ✓ issue #98320: Multi-Cursor, Wrap lines and cursorSelectRight ==> cursors out of sync
    ✓ issue #41573 - delete across multiple lines does not shrink the selection when word wraps
    ✓ issue #22717: Moving text cursor cause an incorrect position in Chinese
    ✓ issue #44805: Should not be able to undo in readonly editor
    ✓ issue #46314: ViewModel is out of sync with Model!
    ✓ issue #37967: problem replacing consecutive characters
    ✓ issue #15761: Cursor doesn't move in a redo operation
    ✓ issue #42783: API Calls with Undo Leave Cursor in Wrong Position
    ✓ issue #85712: Paste line moves cursor to start of current line rather than start of next line
    ✓ issue #84897: Left delete behavior in some languages is changed

  Editor Controller - Cursor Configuration
    ✓ Cursor honors insertSpaces configuration on new line
    ✓ Cursor honors insertSpaces configuration on tab
    ✓ Enter auto-indents with insertSpaces setting 1
    ✓ Enter auto-indents with insertSpaces setting 2
    ✓ Enter auto-indents with insertSpaces setting 3
    ✓ removeAutoWhitespace off
    ✓ removeAutoWhitespace on: removes only whitespace the cursor added 1
    ✓ issue #6862: Editor removes auto inserted indentation when formatting on type
    ✓ removeAutoWhitespace on: removes only whitespace the cursor added 2
    ✓ removeAutoWhitespace on: test 1
    ✓ issue #15118: remove auto whitespace when pasting entire line
    ✓ issue #40695: maintain cursor position when copying lines using ctrl+c, ctrl+v
    ✓ UseTabStops is off
    ✓ Backspace removes whitespaces with tab size
    ✓ PR #5423: Auto indent + undo + redo is funky
    ✓ issue #90973: Undo brings back model alternative version

  Editor Controller - Indentation Rules
    ✓ Enter honors increaseIndentPattern
    ✓ Type honors decreaseIndentPattern
    ✓ Enter honors unIndentedLinePattern
    ✓ Enter honors indentNextLinePattern
    ✓ Enter honors indentNextLinePattern 2
    ✓ Enter honors intential indent
    ✓ Enter supports selection 1
    ✓ Enter supports selection 2
    ✓ Enter honors tabSize and insertSpaces 1
    ✓ Enter honors tabSize and insertSpaces 2
    ✓ Enter honors tabSize and insertSpaces 3
    ✓ Enter supports intentional indentation
    ✓ Enter should not adjust cursor position when press enter in the middle of a line 1
    ✓ Enter should not adjust cursor position when press enter in the middle of a line 2
    ✓ Enter should not adjust cursor position when press enter in the middle of a line 3
    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 1
    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 2
    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 3
    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 4
    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 5
    ✓ issue Microsoft/monaco-editor#108 part 1/2: Auto indentation on Enter with selection is half broken
    ✓ issue Microsoft/monaco-editor#108 part 2/2: Auto indentation on Enter with selection is half broken
    ✓ onEnter works if there are no indentation rules
    ✓ onEnter works if there are no indentation rules 2
    ✓ bug #16543: Tab should indent to correct indentation spot immediately
    ✓ bug #2938 (1): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)
    ✓ bug #2938 (2): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)
    ✓ bug #2938 (3): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)
    ✓ bug #2938 (4): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)
    ✓ bug #31015: When pressing Tab on lines and Enter rules are avail, indent straight to the right spotTab
    ✓ type honors indentation rules: ruby keywords
    ✓ Auto indent on type: increaseIndentPattern has higher priority than decreaseIndent when inheriting
    ✓ type honors users indentation adjustment
    ✓ bug 29972: if a line is line comment, open bracket should not indent next line
    ✓ issue #36090: JS: editor.autoIndent seems to be broken
    ✓ issue #38261: TAB key results in bizarre indentation in C++ mode 
    ✓ 

  ElectricCharacter
    ✓ does nothing if no electric char
    ✓ indents in order to match bracket
    ✓ unindents in order to match bracket
    ✓ matches with correct bracket
    ✓ does nothing if bracket does not match
    ✓ matches bracket even in line with content
    ✓ is no-op if bracket is lined up
    ✓ is no-op if there is non-whitespace text before
    ✓ is no-op if pairs are all matched before
    ✓ is no-op if matching bracket is on the same line
    ✓ is no-op if the line has other content
    ✓ appends text
    ✓ appends text 2
    ✓ issue #23711: Replacing selected text with )]} fails to delete old text with backwards-dragged selection

  autoClosingPairs
    ✓ open parens: default (62ms)
    ✓ open parens: whitespace (99ms)
    ✓ open parens disabled/enabled open quotes enabled/disabled
    ✓ configurable open parens (40ms)
    ✓ auto-pairing can be disabled (52ms)
    ✓ auto wrapping is configurable
    ✓ quote
    ✓ multi-character autoclose
    ✓ issue #55314: Do not auto-close when ending with open
    ✓ issue #27937: Trying to add an item to the front of a list is cumbersome
    ✓ issue #25658 - Do not auto-close single/double quotes after word characters
    ✓ issue #37315 - overtypes only those characters that it inserted
    ✓ issue #37315 - stops overtyping once cursor leaves area
    ✓ issue #37315 - it overtypes only once
    ✓ issue #37315 - it can remember multiple auto-closed instances
    ✓ issue #78527 - does not close quote on odd count
    ✓ issue #85983 - editor.autoClosingBrackets: beforeWhitespace is incorrect for Python
    ✓ issue #78975 - Parentheses swallowing does not work when parentheses are inserted by autocomplete
    ✓ issue #78833 - Add config to use old brackets/quotes overtyping
    ✓ issue #15825: accents on mac US intl keyboard
    ✓ issue #90016: allow accents on mac US intl keyboard to surround selection
    ✓ issue #53357: Over typing ignores characters after backslash
    ✓ issue #84998: Overtyping Brackets doesn't work after backslash
    ✓ issue #2773: Accents (´`¨^, others?) are inserted in the wrong position (Mac)
    ✓ issue #26820: auto close quotes when not used as accents
    ✓ issue #82701: auto close does not execute when IME is canceled via backspace
    ✓ issue #20891: All cursors should do the same thing
    ✓ issue #41825: Special handling of quotes in surrounding pairs
    ✓ All cursors should do the same thing when deleting left
    ✓ issue #7100: Mouse word selection is strange when non-word character is at the end of line

  Undo stops
    ✓ there is an undo stop between typing and deleting left
    ✓ there is an undo stop between typing and deleting right
    ✓ there is an undo stop between deleting left and typing
    ✓ there is an undo stop between deleting left and deleting right
    ✓ there is an undo stop between deleting right and typing
    ✓ there is an undo stop between deleting right and deleting left
    ✓ inserts undo stop when typing space
    ✓ can undo typing and EOL change in one undo stop
    ✓ issue #93585: Undo multi cursor edit corrupts document

  Emmet
    ✓ Get language mode and parent mode for emmet

  Editor Contrib - Move Caret Command
    ✓ move selection to left
    ✓ move selection to right
    ✓ move selection to left - from first column - no change
    ✓ move selection to right - from last column - no change

  Editor Contrib - Line Comment Command
    ✓ comment single line
    ✓ case insensitive
    ✓ _analyzeLines
    ✓ _normalizeInsertionPoint
    ✓ detects indentation
    ✓ detects mixed indentation
    ✓ ignores whitespace lines
    ✓ removes its own
    ✓ works in only whitespace
    ✓ bug 9697 - whitespace before comment token
    ✓ bug 10162 - line comment before caret
    ✓ comment single line - leading whitespace
    ✓ ignores invisible selection
    ✓ multiple lines
    ✓ multiple modes on multiple lines
    ✓ toggle single line
    ✓ toggle multiple lines
    ✓ issue #5964: Ctrl+/ to create comment when cursor is at the beginning of the line puts the cursor in a strange position
    ✓ issue #35673: Comment hotkeys throws the cursor before the comment
    ✓ issue #2837 "Add Line Comment" fault when blank lines involved
    ✓ issue #47004: Toggle comments shouldn't move cursor
    ✓ insertSpace false
    ✓ insertSpace false does not remove space

  Editor Contrib - Line Comment As Block Comment
    ✓ fall back to block comment command
    ✓ fall back to block comment command - toggle
    ✓ bug 9513 - expand single line to uncomment auto block
    ✓ bug 9691 - always expand selection to line boundaries

  Editor Contrib - Line Comment As Block Comment 2
    ✓ no selection => uses indentation
    ✓ can remove
    ✓ issue #993: Remove comment does not work consistently in HTML

  Editor Contrib - Line Comment in mixed modes
    ✓ issue #24047 (part 1): Commenting code in JSX files
    ✓ issue #24047 (part 2): Commenting code in JSX files
    ✓ issue #36173: Commenting code in JSX tag body

  Editor Contrib - Block Comment Command
    ✓ empty selection wraps itself
    ✓ invisible selection ignored
    ✓ bug9511
    ✓ one line selection
    ✓ one line selection toggle
    ✓ multi line selection
    ✓ multi line selection toggle
    ✓ fuzzy removes
    ✓ bug #30358
    ✓ issue #34618
    ✓ 
    ✓ insertSpace false
    ✓ insertSpace false does not remove space

  Editor Contrib - Indentation to Spaces
    ✓ single tabs only at start of line
    ✓ multiple tabs at start of line
    ✓ multiple tabs
    ✓ empty lines

  Editor Contrib - Indentation to Tabs
    ✓ spaces only at start of line
    ✓ multiple spaces at start of line
    ✓ multiple spaces
    ✓ issue #45996

  Editor Contrib - Sort Lines Command
    ✓ no op unless at least two lines selected 1
    ✓ no op unless at least two lines selected 2
    ✓ sorting two lines ascending
    ✓ sorting first 4 lines ascending
    ✓ sorting all lines ascending
    ✓ sorting first 4 lines descending
    ✓ sorting all lines descending

  Editor Contrib - Copy Lines Command
    ✓ copy first line down
    ✓ copy first line up
    ✓ copy last line down
    ✓ copy last line up
    ✓ issue #1322: copy line up
    ✓ issue #1322: copy last line up
    ✓ copy many lines up
    ✓ ignore empty selection

  Editor Contrib - Duplicate Selection
    ✓ empty selection
    ✓ with selection

  Editor Contrib - Move Lines Command
    ✓ move first up / last down disabled
    ✓ move first line down
    ✓ move 2nd line up
    ✓ issue #1322a: move 2nd line up
    ✓ issue #1322b: move last line up
    ✓ issue #1322c: move last line selected up
    ✓ move last line up
    ✓ move 4th line down
    ✓ move multiple lines down
    ✓ invisible selection is ignored

  Editor contrib - Move Lines Command honors Indentation Rules
    ✓ first line indentation adjust to 0
    ✓ move lines across block
    ✓ move line should still work as before if there is no indentation rules

  Editor Commands - ShiftCommand
    ✓ Bug 9503: Shifting without any selection
    ✓ shift on single line selection 1
    ✓ shift on single line selection 2
    ✓ simple shift
    ✓ shifting on two separate lines
    ✓ shifting on two lines
    ✓ shifting on two lines again
    ✓ shifting at end of file
    ✓ issue #1120 TAB should not indent empty lines in a multi-line selection
    ✓ unshift on single line selection 1
    ✓ unshift on single line selection 2
    ✓ simple unshift
    ✓ unshifting on two lines 1
    ✓ unshifting on two lines 2
    ✓ unshifting at the end of the file
    ✓ unshift many times + shift
    ✓ Bug 9119: Unshift from first column doesn't work
    ✓ issue #348: indenting around doc block comments
    ✓ issue #1609: Wrong indentation of block comments
    ✓ issue #1620: a) Line indent doesn't handle leading whitespace properly
    ✓ issue #1620: b) Line indent doesn't handle leading whitespace properly
    ✓ issue #1620: c) Line indent doesn't handle leading whitespace properly
    ✓ issue #1620: d) Line indent doesn't handle leading whitespace properly
    ✓ issue Microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases
    ✓ bug #16815:Shift+Tab doesn't go back to tabstop

  Editor Commands - Trim Trailing Whitespace Command
    ✓ remove trailing whitespace

  WordOperations
    ✓ cursorWordLeft - simple
    ✓ cursorWordLeft - with selection
    ✓ cursorWordLeft - issue #832
    ✓ cursorWordLeft - issue #48046: Word selection doesn't work as usual
    ✓ cursorWordLeftSelect - issue #74369: cursorWordLeft and cursorWordLeftSelect do not behave consistently
    ✓ cursorWordStartLeft
    ✓ cursorWordStartLeft - issue #51119: regression makes VS compatibility impossible
    ✓ issue #51275 - cursorWordStartLeft does not push undo/redo stack element
    ✓ cursorWordEndLeft
    ✓ cursorWordRight - simple
    ✓ cursorWordRight - selection
    ✓ cursorWordRight - issue #832
    ✓ cursorWordRight - issue #41199
    ✓ moveWordEndRight
    ✓ moveWordStartRight
    ✓ issue #51119: cursorWordStartRight regression makes VS compatibility impossible
    ✓ issue #64810: cursorWordStartRight skips first word after newline
    ✓ cursorWordAccessibilityLeft
    ✓ cursorWordAccessibilityRight
    ✓ deleteWordLeft for non-empty selection
    ✓ deleteWordLeft for cursor at beginning of document
    ✓ deleteWordLeft for cursor at end of whitespace
    ✓ deleteWordLeft for cursor just behind a word
    ✓ deleteWordLeft for cursor inside of a word
    ✓ deleteWordRight for non-empty selection
    ✓ deleteWordRight for cursor at end of document
    ✓ deleteWordRight for cursor at beggining of whitespace
    ✓ deleteWordRight for cursor just before a word
    ✓ deleteWordRight for cursor inside of a word
    ✓ deleteWordLeft - issue #832
    ✓ deleteWordStartLeft
    ✓ deleteWordEndLeft
    ✓ deleteWordLeft - issue #24947
    ✓ deleteWordRight - issue #832
    ✓ deleteWordRight - issue #3882
    ✓ deleteWordStartRight - issue #3882
    ✓ deleteWordEndRight - issue #3882
    ✓ deleteWordStartRight
    ✓ deleteWordEndRight
    ✓ deleteWordRight - issue #3882 (1): Ctrl+Delete removing entire line when used at the end of line
    ✓ deleteWordLeft - issue #3882 (2): Ctrl+Delete removing entire line when used at the end of line

  WordPartOperations
    ✓ cursorWordPartLeft - basic
    ✓ cursorWordPartLeft - issue #53899: whitespace
    ✓ cursorWordPartLeft - issue #53899: underscores
    ✓ cursorWordPartRight - basic
    ✓ cursorWordPartRight - issue #53899: whitespace
    ✓ cursorWordPartRight - issue #53899: underscores
    ✓ cursorWordPartRight - issue #53899: second case
    ✓ issue #93239 - cursorWordPartRight
    ✓ issue #93239 - cursorWordPartLeft
    ✓ deleteWordPartLeft - basic
    ✓ deleteWordPartRight - basic

  Debug - Breakpoints
    ✓ simple
    ✓ toggling
    ✓ two files
    ✓ conditions
    ✓ function breakpoints
    ✓ multiple sessions
    ✓ exception breakpoints
    ✓ data breakpoints
    ✓ message and class name
    ✓ decorations

  ExtHostLanguageFeatureCommands
    ✓ WorkspaceSymbols, invalid arguments
    ✓ WorkspaceSymbols, back and forth
    ✓ executeWorkspaceSymbolProvider should accept empty string, #39522
    ✓ executeFormatDocumentProvider, back and forth
    ✓ Definition, invalid arguments
    ✓ Definition, back and forth
    ✓ Definition Link
    ✓ Declaration, back and forth
    ✓ Declaration Link
    ✓ Type Definition, invalid arguments
    ✓ Type Definition, back and forth
    ✓ Type Definition Link
    ✓ Implementation, invalid arguments
    ✓ Implementation, back and forth
    ✓ Implementation Definition Link
    ✓ reference search, back and forth
    ✓ Outline, back and forth
    ✓ vscode.executeDocumentSymbolProvider command only returns SymbolInformation[] rather than DocumentSymbol[] #57984
    ✓ Suggest, back and forth
    ✓ Suggest, return CompletionList !array
    ✓ Suggest, resolve completion items
    ✓ "vscode.executeCompletionItemProvider" doesnot return a preselect field #53749
    ✓ executeCompletionItemProvider doesn't capture commitCharacters #58228
    ✓ vscode.executeCompletionItemProvider returns the wrong CompletionItemKinds in insiders #95715
    ✓ Parameter Hints, back and forth
    ✓ QuickFix, back and forth
    ✓ vscode.executeCodeActionProvider results seem to be missing their `command` property #45124
    ✓ vscode.executeCodeActionProvider passes Range to provider although Selection is passed in #77997
    ✓ vscode.executeCodeActionProvider results seem to be missing their `isPreferred` property #78098
    ✓ CodeLens, back and forth
    ✓ CodeLens, resolve
    ✓ Links, back and forth
    ✓ Color provider
    ✓ "TypeError: e.onCancellationRequested is not a function" calling hover provider in Insiders #54174
    ✓ Selection Range, back and forth
    ✓ CallHierarchy, back and forth (40ms)
    ✓ selectionRangeProvider on inner array always returns outer array #91852
    ✓ selectionRangeProvider on inner array always returns outer array #91852

  Files - Increment file name simple
    ✓ Increment file name without any version
    ✓ Increment file name with suffix version
    ✓ Increment file name with suffix version with leading zeros
    ✓ Increment file name with suffix version, too big number
    ✓ Increment file name with just version in name
    ✓ Increment file name with just version in name, v2
    ✓ Increment file name without any extension or version
    ✓ Increment file name without any extension or version, trailing dot
    ✓ Increment file name without any extension or version, leading dot
    ✓ Increment file name without any extension or version, leading dot v2
    ✓ Increment file name without any extension but with suffix version
    ✓ Increment folder name without any version
    ✓ Increment folder name with suffix version
    ✓ Increment folder name with suffix version, leading zeros
    ✓ Increment folder name with suffix version, too big number
    ✓ Increment folder name with just version in name
    ✓ Increment folder name with just version in name, v2
    ✓ Increment folder name "with extension" but without any version
    ✓ Increment folder name "with extension" and with suffix version
    ✓ Increment file/folder name with suffix version, special case 1
    ✓ Increment file/folder name with suffix version, special case 2

  Files - Increment file name smart
    ✓ Increment file name without any version
    ✓ Increment folder name without any version
    ✓ Increment file name with suffix version
    ✓ Increment file name with suffix version with trailing zeros
    ✓ Increment file name with suffix version with trailing zeros, changing length
    ✓ Increment file name with suffix version with `-` as separator
    ✓ Increment file name with suffix version with `-` as separator, trailing zeros
    ✓ Increment file name with suffix version with `-` as separator, trailing zeros, changnig length
    ✓ Increment file name with suffix version with `_` as separator
    ✓ Increment folder name with suffix version
    ✓ Increment folder name with suffix version, trailing zeros
    ✓ Increment folder name with suffix version with `-` as separator
    ✓ Increment folder name with suffix version with `_` as separator
    ✓ Increment file name with suffix version, too big number
    ✓ Increment folder name with suffix version, too big number
    ✓ Increment file name with prefix version
    ✓ Increment file name with just version in name
    ✓ Increment file name with just version in name, too big number
    ✓ Increment file name with prefix version, trailing zeros
    ✓ Increment file name with prefix version with `-` as separator
    ✓ Increment file name with prefix version with `-` as separator
    ✓ Increment file name with prefix version, too big number
    ✓ Increment folder name with prefix version
    ✓ Increment folder name with prefix version, too big number
    ✓ Increment folder name with prefix version, trailing zeros
    ✓ Increment folder name with prefix version  with `-` as separator

  Save Participants
    ✓ insert final new line
    ✓ trim final new lines
    ✓ trim final new lines bug#39750
    ✓ trim final new lines bug#46075
    ✓ trim whitespace

  Debug - Base Debug View
    ✓ render view tree
    ✓ render expression value
    ✓ render variable
    ✓ statusbar in debug mode

  Debug - Link Detector
    ✓ noLinks
    ✓ trailingNewline
    ✓ trailingNewlineSplit
    ✓ singleLineLink
    ✓ relativeLink
    ✓ relativeLinkWithWorkspace
    ✓ singleLineLinkAndText
    ✓ singleLineMultipleLinks
    ✓ multilineNoLinks
    ✓ multilineTrailingNewline
    ✓ multilineWithLinks

  Debug - ANSI Handling
    ✓ appendStylizedStringToContainer
    ✓ Expected single sequence operation
    ✓ Expected single 8-bit color sequence operation
    ✓ Expected single 24-bit color sequence operation
    ✓ Expected multiple sequence operation
    ✓ Invalid codes treated as regular text
    ✓ Empty sequence output
    ✓ calcANSI8bitColor

  EditorAutoSave
    ✓ editor auto saves after short delay if configured
    ✓ editor auto saves on focus change if configured (99ms)

  Files - View Model
    ✓ Properties
    ✓ Add and Remove Child, check for hasChild
    ✓ Move
    ✓ Rename
    ✓ Find
    ✓ Find with mixed case
    ✓ Validate File Name (For Create)
    ✓ Validate File Name (For Rename)
    ✓ Validate Multi-Path File Names
    ✓ Merge Local with Disk

  Files - ExplorerView
    ✓ getContext
    ✓ decoration provider
    ✓ compressed navigation controller

  Files - FileEditorInput
    ✓ Basics
    ✓ label
    ✓ preferred mode
    ✓ matches
    ✓ getEncoding/setEncoding
    ✓ save
    ✓ revert
    ✓ resolve handles binary files
    ✓ resolve handles too large files
    ✓ attaches to model when created and reports dirty
    ✓ force open text/binary

  Files - FileOnDiskContentProvider
    ✓ provideTextContent

  Files - TextFileEditor
    ✓ text file editor preserves viewstate
    ✓ text file editor resets viewstate if configured as such

  Files - TextFileEditorTracker
    ✓ file change event updates model
    ✓ dirty text file model opens as editor (65ms)
    ✓ dirty text file model does not open as editor if autosave is ON (108ms)
    ✓ dirty untitled text file model opens as editor (67ms)
    ✓ non-dirty files reload on window focus

  QueryBuilder
    ✓ simple text pattern
    ✓ normalize literal newlines
    ✓ does not split glob pattern when expandPatterns disabled
    ✓ folderResources
    ✓ simple exclude setting
    ✓ simple include
    ✓ simple include with ./ syntax
    ✓ exclude setting and searchPath
    ✓ multiroot exclude settings
    ✓ simple exclude input pattern
    ✓ file pattern trimming
    ✓ exclude ./ syntax
    ✓ extraFileResources
    parseSearchPaths
      ✓ simple includes
      ✓ absolute includes
      ✓ relative includes w/single root folder
      ✓ relative includes w/two root folders
      ✓ include ./foldername
      ✓ relative includes w/multiple ambiguous root folders
    smartCase
      ✓ no flags -> no change
      ✓ maintains isCaseSensitive when smartCase not set
      ✓ maintains isCaseSensitive when smartCase set
      ✓ smartCase determines not case sensitive
      ✓ smartCase determines case sensitive
      ✓ smartCase determines not case sensitive (regex)
      ✓ smartCase determines case sensitive (regex)
    file
      ✓ simple file query

  Workbench - TerminalLinkManager
    preprocessPath
      ✓ Windows
      ✓ Windows - spaces
      ✓ Linux
      ✓ No Workspace
    wrapLinkHandler
      ✓ should allow intercepting of links with onBeforeHandleLink

  EditorGroupsService
    ✓ groups basics
    ✓ save & restore state
    ✓ groups index / labels
    ✓ copy/merge groups
    ✓ whenRestored
    ✓ options
    ✓ editor basics
    ✓ openEditors / closeEditors
    ✓ closeEditors (one, opened in multiple groups)
    ✓ closeEditors (except one)
    ✓ closeEditors (except one, sticky editor)
    ✓ closeEditors (saved only)
    ✓ closeEditors (saved only, sticky editor)
    ✓ closeEditors (direction: right)
    ✓ closeEditors (direction: right, sticky editor)
    ✓ closeEditors (direction: left)
    ✓ closeEditors (direction: left, sticky editor)
    ✓ closeAllEditors
    ✓ closeAllEditors (sticky editor)
    ✓ moveEditor (same group)
    ✓ moveEditor (across groups)
    ✓ copyEditor (across groups)
    ✓ replaceEditors
    ✓ find neighbour group (left/right)
    ✓ find neighbour group (up/down)
    ✓ find group by location (left/right)
    ✓ applyLayout (2x2)
    ✓ centeredLayout
    ✓ sticky editors
    ✓ moveEditor with context (across groups)
    ✓ copyEditor with context (across groups)

  EditorService
    ✓ basics
    ✓ isOpen() with side by side editor
    ✓ openEditors() / replaceEditors()
    ✓ caching
    ✓ createEditorInput
    ✓ delegate
    ✓ close editor does not dispose when editor opened in other group
    ✓ open to the side
    ✓ editor group activation
    ✓ active editor change / visible editor change events (97ms)
    ✓ two active editor change events when opening editor to the side
    ✓ activeTextEditorControl / activeTextEditorMode (51ms)
    ✓ openEditor returns NULL when opening fails or is inactive
    ✓ save, saveAll, revertAll
    ✓ saveAll, revertAll (sticky editor)
    ✓ file delete closes editor
    ✓ file delete leaves dirty editors open
    ✓ file move asks input to move
    ✓ file watcher gets installed for out of workspace files
    ✓ invokeWithinEditorContext
    ✓ overrideOpenEditor
    ✓ whenClosed

  EditorsObserver
    ✓ basics (single group)
    ✓ basics (multi group)
    ✓ copy group
    ✓ initial editors are part of observer and state is persisted & restored (single group)
    ✓ initial editors are part of observer (multi group)
    ✓ observer does not restore editors that cannot be serialized
    ✓ observer closes editors when limit reached (across all groups)
    ✓ observer closes editors when limit reached (in group)
    ✓ observer does not close sticky

  ExtensionEnablementService Test
    ✓ test disable an extension globally
    ✓ test disable an extension globally should return truthy promise
    ✓ test disable an extension globally triggers the change event
    ✓ test disable an extension globally again should return a falsy promise
    ✓ test state of globally disabled extension
    ✓ test state of globally enabled extension
    ✓ test disable an extension for workspace
    ✓ test disable an extension for workspace returns a truthy promise
    ✓ test disable an extension for workspace again should return a falsy promise
    ✓ test state of workspace disabled extension
    ✓ test state of workspace and globally disabled extension
    ✓ test state of workspace enabled extension
    ✓ test state of globally disabled and workspace enabled extension
    ✓ test state of an extension when disabled for workspace from workspace enabled
    ✓ test state of an extension when disabled globally from workspace enabled
    ✓ test state of an extension when disabled globally from workspace disabled
    ✓ test state of an extension when enabled globally from workspace enabled
    ✓ test state of an extension when enabled globally from workspace disabled
    ✓ test disable an extension for workspace and then globally
    ✓ test disable an extension for workspace and then globally return a truthy promise
    ✓ test disable an extension for workspace and then globally trigger the change event
    ✓ test disable an extension globally and then for workspace
    ✓ test disable an extension globally and then for workspace return a truthy promise
    ✓ test disable an extension globally and then for workspace triggers the change event
    ✓ test disable an extension for workspace when there is no workspace throws error
    ✓ test enable an extension globally
    ✓ test enable an extension globally return truthy promise
    ✓ test enable an extension globally triggers change event
    ✓ test enable an extension globally when already enabled return falsy promise
    ✓ test enable an extension for workspace
    ✓ test enable an extension for workspace return truthy promise
    ✓ test enable an extension for workspace triggers change event
    ✓ test enable an extension for workspace when already enabled return truthy promise
    ✓ test enable an extension for workspace when disabled in workspace and gloablly
    ✓ test enable an extension globally when disabled in workspace and gloablly
    ✓ test remove an extension from disablement list when uninstalled
    ✓ test isEnabled return false extension is disabled globally
    ✓ test isEnabled return false extension is disabled in workspace
    ✓ test isEnabled return true extension is not disabled
    ✓ test canChangeEnablement return false for language packs
    ✓ test canChangeEnablement return false when extensions are disabled in environment
    ✓ test canChangeEnablement return false when the extension is disabled in environment
    ✓ test canChangeEnablement return true for system extensions when extensions are disabled in environment
    ✓ test canChangeEnablement return false for system extension when extension is disabled in environment
    ✓ test extension is disabled when disabled in enviroment
    ✓ test local workspace extension is disabled by kind
    ✓ test local workspace + ui extension is enabled by kind
    ✓ test local ui extension is not disabled by kind
    ✓ test canChangeEnablement return false when the local workspace extension is disabled by kind
    ✓ test canChangeEnablement return true for local ui extension
    ✓ test remote ui extension is disabled by kind
    ✓ test remote ui+workspace extension is disabled by kind
    ✓ test remote ui extension is disabled by kind when there is no local server
    ✓ test remote workspace extension is not disabled by kind
    ✓ test canChangeEnablement return false when the remote ui extension is disabled by kind
    ✓ test canChangeEnablement return true for remote workspace extension
    ✓ test web extension on local server is disabled by kind
    ✓ test web extension on remote server is not disabled by kind when there is no local server
    ✓ test web extension with no server is not disabled by kind when there is no local server
    ✓ test web extension with no server is not disabled by kind when there is no local and remote server

  Experiment Service
    ✓ Simple Experiment Test
    ✓ filters out experiments with newer schema versions
    ✓ Insiders only experiment shouldnt be enabled in stable
    ✓ NewUsers experiment shouldnt be enabled for old users
    ✓ OldUsers experiment shouldnt be enabled for new users
    ✓ Experiment without NewUser condition should be enabled for old users
    ✓ Experiment without NewUser condition should be enabled for new users
    ✓ Experiment with OS should be enabled on current OS
    ✓ Experiment with OS should be disabled on other OS
    ✓ Activation event experiment with not enough events should be evaluating
    ✓ Activation event works with enough events
    ✓ Activation event does not work with old data
    ✓ Parses activation records correctly
    ✓ Activation event updates
    ✓ Activation events run experiments in realtime
    ✓ Experiment not matching user setting should be disabled
    ✓ Experiment matching user setting should be enabled
    ✓ Experiment with no matching display language should be disabled
    ✓ Experiment with condition type InstalledExtensions is enabled when one of the expected extensions is installed
    ✓ Experiment with condition type InstalledExtensions is disabled when none of the expected extensions is installed
    ✓ Experiment with condition type InstalledExtensions is disabled when one of the exlcuded extensions is installed
    ✓ Experiment that is marked as complete should be disabled regardless of the conditions
    ✓ Experiment with evaluate only once should read enablement from storage service
    ✓ Curated list should be available if experiment is enabled.
    ✓ Curated list shouldnt be available if experiment is disabled.
    ✓ Maps action2 to action.
    ✓ Experiment that is disabled or deleted should be removed from storage
    ✓ Offline mode
    ✓ getExperimentByType
    ✓ experimentsPreviouslyRun includes, excludes check

  Experimental Prompts
    ✓ Show experimental prompt if experiment should be run. Choosing negative option should mark experiment as complete
    ✓ runs experiment command
    ✓ Show experimental prompt if experiment should be run. Cancelling should mark experiment as complete
    ✓ Test getPromptText

  HistoryService
    ✓ back / forward
    ✓ getHistory
    ✓ getLastActiveFile
    ✓ open next/previous recently used editor (single group)
    ✓ open next/previous recently used editor (multi group)
    ✓ open next/previous recently is reset when other input opens

  URI Label
    ✓ custom scheme
    ✓ separator
    ✓ custom authority
    ✓ mulitple authority
    ✓ custom query
    ✓ custom query without value
    ✓ custom query without query json
    ✓ custom query without query

  Progress Indicator
    ✓ CompositeScope
    ✓ CompositeProgressIndicator

  Files - TextFileEditorModel
    ✓ basic events
    ✓ save
    ✓ save - touching also emits saved event
    ✓ save - touching with error turns model dirty
    ✓ save error (generic)
    ✓ save error (conflict)
    ✓ setEncoding - encode
    ✓ setEncoding - decode
    ✓ create with mode
    ✓ disposes when underlying model is destroyed
    ✓ Load does not trigger save
    ✓ Load returns dirty model as long as model is dirty
    ✓ Revert
    ✓ Revert (soft)
    ✓ Undo to saved state turns model non-dirty
    ✓ Load and undo turns model dirty
    ✓ Update Dirty
    ✓ No Dirty or saving for readonly models
    ✓ File not modified error is handled gracefully
    ✓ Load error is handled gracefully if model already exists
    ✓ save() and isDirty() - proper with check for mtimes
    ✓ Save Participant
    ✓ Save Participant - skip
    ✓ Save Participant, async participant
    ✓ Save Participant, bad participant
    ✓ Save Participant, participant cancelled when saved again
    ✓ Save Participant, calling save from within is unsupported but does not explode (sync save)
    ✓ Save Participant, calling save from within is unsupported but does not explode (async save)

  Files - TextFileService
    ✓ isDirty/getDirty - files and untitled
    ✓ save - file
    ✓ saveAll - file
    ✓ saveAs - file
    ✓ revert - file
    ✓ create does not overwrite existing model

  Files - TextFileEditorModelManager
    ✓ add, remove, clear, get, getAll
    ✓ resolve
    ✓ removed from cache when model disposed
    ✓ events
    ✓ disposing model takes it out of the manager
    ✓ canDispose with dirty model
    ✓ mode

  Workbench - TextModelResolverService
    ✓ resolve resource
    ✓ resolve file
    ✓ resolved dirty file eventually disposes
    ✓ resolved dirty file does not dispose when new reference created
    ✓ resolve untitled
    ✓ even loading documents should be refcounted

  ViewDescriptorService
    ✓ Empty Containers
    ✓ Register/Deregister
    ✓ move views to existing containers
    ✓ move views to generated containers
    ✓ move view events

  Untitled text editors
    ✓ basics
    ✓ setValue()
    ✓ associated resource is dirty
    ✓ no longer dirty when content gets empty (not with associated resource)
    ✓ via create options
    ✓ associated path remains dirty when content gets empty
    ✓ initial content is dirty
    ✓ created with files.defaultLanguage setting
    ✓ created with files.defaultLanguage setting (${activeEditorLanguage})
    ✓ created with mode overrides files.defaultLanguage setting
    ✓ can change mode afterwards
    ✓ remembers that mode was set explicitly
    ✓ service#onDidChangeEncoding
    ✓ service#onDidChangeLabel
    ✓ service#onDidDisposeModel
    ✓ model#onDidChangeContent
    ✓ model#onDidRevert and input disposed when reverted
    ✓ model#onDidChangeName and input name
    ✓ model#onDidChangeDirty
    ✓ model#onDidChangeEncoding

  WorkingCopyFileService
    ✓ delete - dirty file
    ✓ move - dirty file
    ✓ move - dirty file (target exists and is dirty)
    ✓ copy - dirty file
    ✓ copy - dirty file (target exists and is dirty)
    ✓ getDirty
    ✓ registerWorkingCopyProvider

  ViewContainerModel
    ✓ empty model
    ✓ register/unregister
    ✓ when contexts (98ms)
    ✓ when contexts - multiple
    ✓ when contexts - multiple 2
    ✓ setVisible
    ✓ move
    ✓ view states
    ✓ view states and when contexts
    ✓ view states and when contexts multiple views (68ms)
    ✓ remove event is not triggered if view was hidden and removed (69ms)
    ✓ add event is not triggered if view was set visible (when visible) and not active
    ✓ remove event is not triggered if view was hidden and not active
    ✓ add event is not triggered if view was set visible (when not visible) and not active

  MainThreadDocumentsAndEditors
    ✓ Model#add
    ✓ ignore huge model (765ms)
    ✓ ignore simple widget model
    ✓ ignore huge model from editor (721ms)
    ✓ ignore editor w/o model
    ✓ editor with model
    ✓ editor with dispos-ed/-ing model

  MainThreadEditors
    ✓ applyWorkspaceEdit returns false if model is changed by user
    ✓ issue #54773: applyWorkspaceEdit checks model version in race situation
    ✓ applyWorkspaceEdit with only resource edit

  Workbench base editor
    ✓ BaseEditor API
    ✓ EditorDescriptor
    ✓ Editor Registration
    ✓ Editor Lookup favors specific class over superclass (match on specific class)
    ✓ Editor Lookup favors specific class over superclass (match on super class)
    ✓ Editor Input Factory
    ✓ EditorMemento - basics
    ✓ EditorMemento - move
    ✓ EditoMemento - use with editor input

  Workbench editor
    ✓ toResource

  Workbench parts
    ✓ Creation
    ✓ Part Layout with Title and Content
    ✓ Part Layout with Content only

  Workbench editor groups
    ✓ Clone Group
    ✓ contains()
    ✓ group serialization
    ✓ group serialization (sticky editor)
    ✓ One Editor
    ✓ Multiple Editors - Pinned and Active
    ✓ Multiple Editors - Preview editor moves to the side of the active one
    ✓ Multiple Editors - Pinned and Active (DEFAULT_OPEN_EDITOR_DIRECTION = Direction.LEFT)
    ✓ Multiple Editors - Pinned and Not Active
    ✓ Multiple Editors - Preview gets overwritten
    ✓ Multiple Editors - set active
    ✓ Multiple Editors - pin and unpin
    ✓ Multiple Editors - closing picks next from MRU list
    ✓ Multiple Editors - closing picks next to the right
    ✓ Multiple Editors - move editor
    ✓ Multiple Editors - move editor across groups
    ✓ Multiple Editors - move editor across groups (input already exists in group 1)
    ✓ Multiple Editors - Pinned & Non Active
    ✓ Multiple Editors - Close Others, Close Left, Close Right
    ✓ Multiple Editors - real user example
    ✓ Single Group, Single Editor - persist
    ✓ Multiple Groups, Multiple editors - persist
    ✓ Single group, multiple editors - persist (some not persistable)
    ✓ Single group, multiple editors - persist (some not persistable, sticky editors)
    ✓ Multiple groups, multiple editors - persist (some not persistable, causes empty group)
    ✓ Multiple Editors - Editor Dispose
    ✓ Preview tab does not have a stable position (https://github.com/Microsoft/vscode/issues/8245)
    ✓ Multiple Editors - Editor Emits Dirty and Label Changed
    ✓ Sticky Editors

  Workbench editor model
    ✓ TextDiffEditorModel

  Editor - Range decorations
    ✓ highlight range for the resource if it is an active editor
    ✓ remove highlight range
    ✓ highlight range for the resource removes previous highlight
    ✓ highlight range for a new resource removes highlight of previous resource
    ✓ highlight is removed on model change
    ✓ highlight is removed on cursor position change
    ✓ range is not highlight if not active editor
    ✓ previous highlight is not removed if not active editor

  Resource text editors
    ✓ basics
    ✓ custom mode

  QuickAccess
    ✓ registry
    ✓ provider
    ✓ quick pick access

  ExtensionRecommendationsService Test
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations when galleryService is absent
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations during extension development
    ✓ ExtensionRecommendationsService: No workspace recommendations or prompts when extensions.json has empty array
    ✓ ExtensionRecommendationsService: Prompt for valid workspace recommendations
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations if they are already installed
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations with casing mismatch if they are already installed
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations if ignoreRecommendations is set
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations if showRecommendationsOnlyOnDemand is set
    ✓ ExtensionRecommendationsService: No Prompt for valid workspace recommendations if ignoreRecommendations is set for current workspace
    ✓ ExtensionRecommendationsService: No Recommendations of globally ignored recommendations
    ✓ ExtensionRecommendationsService: No Recommendations of workspace ignored recommendations
    ✓ ExtensionRecommendationsService: Able to retrieve collection of all ignored recommendations
    ✓ ExtensionRecommendationsService: Able to dynamically ignore/unignore global recommendations
    ✓ test global extensions are modified and recommendation change event is fired when an extension is ignored
    ✓ ExtensionRecommendationsService: Get file based recommendations from storage (old format)
    ✓ ExtensionRecommendationsService: Get file based recommendations from storage (new format)

  ExtensionsWorkbenchServiceTest
    ✓ test gallery extension
    ✓ test for empty installed extensions
    ✓ test for installed extensions
    ✓ test installed extensions get syncs with gallery
    ✓ test extension state computation
    ✓ test extension doesnot show outdated for system extensions
    ✓ test canInstall returns false for extensions with out gallery
    ✓ test canInstall returns false for a system extension
    ✓ test canInstall returns true for extensions with gallery
    ✓ test onchange event is triggered while installing
    ✓ test onchange event is triggered when installation is finished
    ✓ test onchange event is triggered while uninstalling
    ✓ test onchange event is triggered when uninstalling is finished
    ✓ test uninstalled extensions are always enabled
    ✓ test enablement state installed enabled extension
    ✓ test workspace disabled extension
    ✓ test globally disabled extension
    ✓ test enablement state is updated for user extensions
    ✓ test enable extension globally when extension is disabled for workspace
    ✓ test disable extension globally
    ✓ test system extensions can be disabled
    ✓ test enablement state is updated on change from outside
    ✓ test disable extension with dependencies disable only itself
    ✓ test disable extension pack disables the pack
    ✓ test disable extension pack disable all
    ✓ test disable extension fails if extension is a dependent of other
    ✓ test disable extension when extension is part of a pack
    ✓ test disable both dependency and dependent do not promot and do not fail
    ✓ test enable both dependency and dependent do not promot and do not fail
    ✓ test disable extension does not fail if its dependency is a dependent of other but chosen to disable only itself
    ✓ test disable extension if its dependency is a dependent of other disabled extension
    ✓ test disable extension if its dependencys dependency is itself
    ✓ test disable extension if its dependency is dependent and is disabled
    ✓ test disable extension with cyclic dependencies
    ✓ test enable extension with dependencies enable all
    ✓ test enable extension with dependencies does not prompt if dependency is enabled already
    ✓ test enable extension with dependency does not prompt if both are enabled
    ✓ test enable extension with cyclic dependencies
    ✓ test change event is fired when disablement flags are changed
    ✓ test change event is fired when disablement flags are changed from outside
    ✓ test updating an extension does not re-eanbles it when disabled globally
    ✓ test updating an extension does not re-eanbles it when workspace disabled

  ExtensionsListView Tests
    ✓ Test query types
    ✓ Test empty query equates to sort by install count
    ✓ Test non empty query without sort doesnt use sortBy
    ✓ Test query with sort uses sortBy
    ✓ Test installed query results
    ✓ Test installed query with category
    ✓ Test @recommended:workspace query
    ✓ Test @recommended query
    ✓ Test @recommended:all query
    ✓ Test curated list experiment
    ✓ Test search
    ✓ Test preferred search experiment
    ✓ Skip preferred search experiment when user defines sort order

  ExtensionsActions
    ✓ Install action is disabled when there is no extension
    ✓ Test Install action when state is installed
    ✓ Test Install action when state is installing
    ✓ Test Install action when state is uninstalled
    ✓ Test Install action when extension is system action
    ✓ Test Install action when extension doesnot has gallery
    ✓ Uninstall action is disabled when there is no extension
    ✓ Test Uninstall action when state is uninstalling
    ✓ Test Uninstall action when state is installed and is user extension
    ✓ Test Uninstall action when state is installed and is system extension
    ✓ Test Uninstall action when state is installing and is user extension
    ✓ Test Uninstall action after extension is installed
    ✓ Test CombinedInstallAction when there is no extension
    ✓ Test CombinedInstallAction when extension is system extension
    ✓ Test CombinedInstallAction when installAction is enabled
    ✓ Test CombinedInstallAction when unInstallAction is enabled
    ✓ Test CombinedInstallAction when state is installing
    ✓ Test CombinedInstallAction when state is installing during update
    ✓ Test CombinedInstallAction when state is uninstalling
    ✓ Test UpdateAction when there is no extension
    ✓ Test UpdateAction when extension is uninstalled
    ✓ Test UpdateAction when extension is installed and not outdated
    ✓ Test UpdateAction when extension is installed outdated and system extension
    ✓ Test UpdateAction when extension is installed outdated and user extension
    ✓ Test UpdateAction when extension is installing and outdated and user extension
    ✓ Test ManageExtensionAction when there is no extension
    ✓ Test ManageExtensionAction when extension is installed
    ✓ Test ManageExtensionAction when extension is uninstalled
    ✓ Test ManageExtensionAction when extension is installing
    ✓ Test ManageExtensionAction when extension is queried from gallery and installed
    ✓ Test ManageExtensionAction when extension is system extension
    ✓ Test ManageExtensionAction when extension is uninstalling
    ✓ Test EnableForWorkspaceAction when there is no extension
    ✓ Test EnableForWorkspaceAction when there extension is not disabled
    ✓ Test EnableForWorkspaceAction when the extension is disabled globally
    ✓ Test EnableForWorkspaceAction when extension is disabled for workspace
    ✓ Test EnableForWorkspaceAction when the extension is disabled globally and workspace
    ✓ Test EnableGloballyAction when there is no extension
    ✓ Test EnableGloballyAction when the extension is not disabled
    ✓ Test EnableGloballyAction when the extension is disabled for workspace
    ✓ Test EnableGloballyAction when the extension is disabled globally
    ✓ Test EnableGloballyAction when the extension is disabled in both
    ✓ Test EnableAction when there is no extension
    ✓ Test EnableDropDownAction when extension is installed and enabled
    ✓ Test EnableDropDownAction when extension is installed and disabled globally
    ✓ Test EnableDropDownAction when extension is installed and disabled for workspace
    ✓ Test EnableDropDownAction when extension is uninstalled
    ✓ Test EnableDropDownAction when extension is installing
    ✓ Test EnableDropDownAction when extension is uninstalling
    ✓ Test DisableForWorkspaceAction when there is no extension
    ✓ Test DisableForWorkspaceAction when the extension is disabled globally
    ✓ Test DisableForWorkspaceAction when the extension is disabled workspace
    ✓ Test DisableForWorkspaceAction when extension is enabled
    ✓ Test DisableGloballyAction when there is no extension
    ✓ Test DisableGloballyAction when the extension is disabled globally
    ✓ Test DisableGloballyAction when the extension is disabled for workspace
    ✓ Test DisableGloballyAction when the extension is enabled
    ✓ Test DisableDropDownAction when there is no extension
    ✓ Test DisableDropDownAction when extension is installed and enabled
    ✓ Test DisableDropDownAction when extension is installed and disabled globally
    ✓ Test DisableDropDownAction when extension is installed and disabled for workspace
    ✓ Test DisableDropDownAction when extension is uninstalled
    ✓ Test DisableDropDownAction when extension is installing
    ✓ Test DisableDropDownAction when extension is uninstalling
    ✓ Test UpdateAllAction when no installed extensions
    ✓ Test UpdateAllAction when installed extensions are not outdated
    ✓ Test UpdateAllAction when some installed extensions are outdated
    ✓ Test UpdateAllAction when some installed extensions are outdated and some outdated are being installed
    ✓ Test UpdateAllAction when some installed extensions are outdated and all outdated are being installed
    ✓ RecommendToFolderAction

  ReloadAction
    ✓ Test ReloadAction when there is no extension
    ✓ Test ReloadAction when extension state is installing
    ✓ Test ReloadAction when extension state is uninstalling
    ✓ Test ReloadAction when extension is newly installed
    ✓ Test ReloadAction when extension is newly installed and reload is not required
    ✓ Test ReloadAction when extension is installed and uninstalled
    ✓ Test ReloadAction when extension is uninstalled
    ✓ Test ReloadAction when extension is uninstalled and can be removed
    ✓ Test ReloadAction when extension is uninstalled and installed
    ✓ Test ReloadAction when extension is updated while running
    ✓ Test ReloadAction when extension is updated when not running
    ✓ Test ReloadAction when extension is disabled when running
    ✓ Test ReloadAction when extension enablement is toggled when running
    ✓ Test ReloadAction when extension is enabled when not running
    ✓ Test ReloadAction when extension enablement is toggled when not running
    ✓ Test ReloadAction when extension is updated when not running and enabled
    ✓ Test ReloadAction when a localization extension is newly installed
    ✓ Test ReloadAction when a localization extension is updated while running
    ✓ Test ReloadAction when extension is not installed but extension from different server is installed and running
    ✓ Test ReloadAction when extension is uninstalled but extension from different server is installed and running
    ✓ Test ReloadAction when workspace extension is disabled on local server and installed in remote server
    ✓ Test ReloadAction when ui extension is disabled on remote server and installed in local server
    ✓ Test ReloadAction for remote ui extension is disabled when it is installed and enabled in local server
    ✓ Test ReloadAction for remote workspace+ui extension is enabled when it is installed and enabled in local server
    ✓ Test ReloadAction for local ui+workspace extension is enabled when it is installed and enabled in remote server
    ✓ Test ReloadAction for local workspace+ui extension is enabled when it is installed in both servers but running in local server
    ✓ Test ReloadAction for remote ui+workspace extension is enabled when it is installed on both servers but running in remote server

  RemoteInstallAction
    ✓ Test remote install action is enabled for local workspace extension
    ✓ Test remote install action when installing local workspace extension
    ✓ Test remote install action when installing local workspace extension is finished
    ✓ Test remote install action is enabled for disabled local workspace extension
    ✓ Test remote install action is enabled local workspace+ui extension
    ✓ Test remote install action is enabled for local ui+workapace extension if can install is true
    ✓ Test remote install action is disabled for local ui+workapace extension if can install is false
    ✓ Test remote install action is disabled when extension is not set
    ✓ Test remote install action is disabled for extension which is not installed
    ✓ Test remote install action is disabled for local workspace extension which is disabled in env
    ✓ Test remote install action is disabled when remote server is not available
    ✓ Test remote install action is disabled for local workspace extension if it is uninstalled locally
    ✓ Test remote install action is disabled for local workspace extension if it is installed in remote
    ✓ Test remote install action is enabled for local workspace extension if it has not gallery
    ✓ Test remote install action is disabled for local workspace system extension
    ✓ Test remote install action is disabled for local ui extension if it is not installed in remote
    ✓ Test remote install action is disabled for local ui extension if it is also installed in remote
    ✓ Test remote install action is enabled for locally installed language pack extension
    ✓ Test remote install action is disabled if local language pack extension is uninstalled

  LocalInstallAction
    ✓ Test local install action is enabled for remote ui extension
    ✓ Test local install action is enabled for remote ui+workspace extension
    ✓ Test local install action when installing remote ui extension
    ✓ Test local install action when installing remote ui extension is finished
    ✓ Test local install action is enabled for disabled remote ui extension
    ✓ Test local install action is disabled when extension is not set
    ✓ Test local install action is disabled for extension which is not installed
    ✓ Test local install action is disabled for remote ui extension which is disabled in env
    ✓ Test local install action is disabled when local server is not available
    ✓ Test local install action is disabled for remote ui extension if it is installed in local
    ✓ Test local install action is disabled for remoteUI extension if it is uninstalled locally
    ✓ Test local install action is enabled for remote UI extension if it has gallery
    ✓ Test local install action is disabled for remote UI system extension
    ✓ Test local install action is disabled for remote workspace extension if it is not installed in local
    ✓ Test local install action is disabled for remote workspace extension if it is also installed in local
    ✓ Test local install action is enabled for remotely installed language pack extension
    ✓ Test local install action is disabled if remote language pack extension is uninstalled

  QueryBuilder
    parseSearchPaths
      ✓ includes with tilde

  BackupFileService
    hashPath
      ✓ should correctly hash the path for untitled scheme URIs
      ✓ should correctly hash the path for file scheme URIs
    getBackupResource
      ✓ should get the correct backup path for text files
      ✓ should get the correct backup path for untitled files
    backup
      ✓ no text
      ✓ text file
      ✓ text file (with version)
      ✓ text file (with meta)
      ✓ untitled file
      ✓ text file (ITextSnapshot)
      ✓ untitled file (ITextSnapshot)
      ✓ text file (large file, ITextSnapshot)
      ✓ untitled file (large file, ITextSnapshot)
    discardBackup
      ✓ text file
      ✓ untitled file
    discardBackups
      ✓ text file (41ms)
      ✓ untitled file
      ✓ can backup after discarding all
    getBackups
      ✓ ("file") - text file
      ✓ ("file") - untitled file
      ✓ ("untitled") - untitled file
    resolve
      ✓ should restore the original contents (untitled file)
      ✓ should restore the original contents (untitled file with metadata)
      ✓ should restore the original contents (text file)
      ✓ should restore the original contents (text file - custom scheme)
      ✓ should restore the original contents (text file with metadata)
      ✓ should restore the original contents (text file with metadata changed once)
      ✓ should restore the original contents (text file with broken metadata)
      ✓ should restore the original contents (text file with metadata and fragment URI)
      ✓ should restore the original contents (text file with space in name with metadata)
      ✓ should restore the original contents (text file with too large metadata to persist)
      ✓ should ignore invalid backups

  BackupFilesModel
    ✓ simple
    ✓ resolve
    ✓ get

  BackupRestorer
    ✓ Restore backups (97ms)

  BackupTracker
    ✓ Track backups (untitled) (41ms)
    ✓ Track backups (untitled with initial contents)
    ✓ Track backups (file)
    ✓ onWillShutdown - no veto if no dirty files
    ✓ onWillShutdown - veto if user cancels (hot.exit: off) (59ms)
    ✓ onWillShutdown - no veto if auto save is on
    ✓ onWillShutdown - no veto and backups cleaned up if user does not want to save (hot.exit: off)
    ✓ onWillShutdown - save (hot.exit: off)
    Hot Exit
      "onExit" setting
        ✓ should hot exit on non-Mac (reason: CLOSE, windows: single, workspace)
        ✓ should hot exit on non-Mac (reason: CLOSE, windows: single, empty workspace)
        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, workspace)
        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, empty workspace)
        ✓ should hot exit (reason: QUIT, windows: single, workspace) (90ms)
        ✓ should hot exit (reason: QUIT, windows: single, empty workspace)
        ✓ should hot exit (reason: QUIT, windows: multiple, workspace)
        ✓ should hot exit (reason: QUIT, windows: multiple, empty workspace)
        ✓ should hot exit (reason: RELOAD, windows: single, workspace)
        ✓ should hot exit (reason: RELOAD, windows: single, empty workspace)
        ✓ should hot exit (reason: RELOAD, windows: multiple, workspace)
        ✓ should hot exit (reason: RELOAD, windows: multiple, empty workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: single, workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: single, empty workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: multiple, workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: multiple, empty workspace)
      "onExitAndWindowClose" setting
        ✓ should hot exit (reason: CLOSE, windows: single, workspace)
        ✓ should hot exit (reason: CLOSE, windows: single, empty workspace)
        ✓ should hot exit (reason: CLOSE, windows: multiple, workspace) (141ms)
        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, empty workspace)
        ✓ should hot exit (reason: QUIT, windows: single, workspace) (41ms)
        ✓ should hot exit (reason: QUIT, windows: single, empty workspace) (38ms)
        ✓ should hot exit (reason: QUIT, windows: multiple, workspace)
        ✓ should hot exit (reason: QUIT, windows: multiple, empty workspace)
        ✓ should hot exit (reason: RELOAD, windows: single, workspace)
        ✓ should hot exit (reason: RELOAD, windows: single, empty workspace)
        ✓ should hot exit (reason: RELOAD, windows: multiple, workspace)
        ✓ should hot exit (reason: RELOAD, windows: multiple, empty workspace)
        ✓ should hot exit (reason: LOAD, windows: single, workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: single, empty workspace)
        ✓ should hot exit (reason: LOAD, windows: multiple, workspace)
        ✓ should NOT hot exit (reason: LOAD, windows: multiple, empty workspace)

  ConfigurationEditingService
    ✓ errors cases - invalid key
    ✓ errors cases - no workspace
    ✓ errors cases - invalid configuration
    ✓ errors cases - invalid global tasks configuration
    ✓ errors cases - dirty
    ✓ dirty error is not thrown if not asked to save
    ✓ do not notify error
    ✓ write one setting - empty file
    ✓ write one setting - existing file
    ✓ remove an existing setting - existing file
    ✓ remove non existing setting - existing file
    ✓ write overridable settings to user settings (141ms)
    ✓ write overridable settings to workspace settings
    ✓ write overridable settings to workspace folder settings
    ✓ write workspace standalone setting - empty file
    ✓ write user standalone setting - empty file
    ✓ write workspace standalone setting - existing file
    ✓ write user standalone setting - existing file
    ✓ write workspace standalone setting - empty file - full JSON
    ✓ write user standalone setting - empty file - full JSON
    ✓ write workspace standalone setting - existing file - full JSON
    ✓ write user standalone setting - existing file - full JSON
    ✓ write workspace standalone setting - existing file with JSON errors - full JSON
    ✓ write user standalone setting - existing file with JSON errors - full JSON
    ✓ write workspace standalone setting should replace complete file
    ✓ write user standalone setting should replace complete file

  Configuration Resolver Service
    ✓ substitute one
    ✓ workspace folder with argument
    ✓ workspace folder with invalid argument
    ✓ workspace folder with undefined workspace folder
    ✓ workspace folder with argument and undefined workspace folder
    ✓ workspace folder with invalid argument and undefined workspace folder
    ✓ workspace root folder name
    ✓ current selected line number
    ✓ relative file
    ✓ relative file with argument
    ✓ relative file with invalid argument
    ✓ relative file with undefined workspace folder
    ✓ relative file with argument and undefined workspace folder
    ✓ relative file with invalid argument and undefined workspace folder
    ✓ substitute many
    ✓ substitute one env variable
    ✓ substitute many env variable
    ✓ substitute one env variable using platform case sensitivity
    ✓ substitute one configuration variable
    ✓ substitute many configuration variables
    ✓ substitute one env variable and a configuration variable
    ✓ substitute many env variable and a configuration variable
    ✓ mixed types of configuration variables
    ✓ uses original variable as fallback
    ✓ configuration variables with invalid accessor
    ✓ a single command variable
    ✓ an old style command variable
    ✓ multiple new and old-style command variables
    ✓ a command variable that relies on resolved env vars
    ✓ a single prompt input variable
    ✓ a single pick input variable
    ✓ a single command input variable
    ✓ several input variables and command
    ✓ contributed variable

  WorkspaceContextService - Folder
    ✓ getWorkspace()
    ✓ getWorkbenchState()
    ✓ getWorkspaceFolder()
    ✓ isCurrentWorkspace() => true
    ✓ isCurrentWorkspace() => false
    ✓ workspace is complete

  WorkspaceContextService - Workspace
    ✓ workspace folders
    ✓ getWorkbenchState()
    ✓ workspace is complete

  WorkspaceContextService - Workspace Editing
    ✓ add folders
    ✓ add folders (at specific index)
    ✓ add folders (at specific wrong index)
    ✓ add folders (with name) (45ms)
    ✓ add folders triggers change event (46ms)
    ✓ remove folders
    ✓ remove folders triggers change event
    ✓ remove folders and add them back by writing into the file (305ms)
    ✓ update folders (remove last and add to end)
    ✓ update folders (rename first via add and remove)
    ✓ update folders (remove first and add to end)
    ✓ reorder folders trigger change event
    ✓ rename folders trigger change event

  WorkspaceService - Initialization
    ✓ initialize a folder workspace from an empty workspace with no configuration changes
    ✓ initialize a folder workspace from an empty workspace with configuration changes
    ✓ initialize a multi root workspace from an empty workspace with no configuration changes
    ✓ initialize a multi root workspace from an empty workspace with configuration changes
    ✓ initialize a folder workspace from a folder workspace with no configuration changes
    ✓ initialize a folder workspace from a folder workspace with configuration changes
    ✓ initialize a multi folder workspace from a folder workspacce triggers change events in the right order

  WorkspaceConfigurationService - Folder
    ✓ defaults
    ✓ globals override defaults
    ✓ globals
    ✓ workspace settings
    ✓ workspace settings override user settings
    ✓ machine overridable settings override user Settings
    ✓ workspace settings override user settings after defaults are registered  (75ms)
    ✓ machine overridable settings override user settings after defaults are registered  (69ms)
    ✓ application settings are not read from workspace
    ✓ machine settings are not read from workspace
    ✓ get application scope settings are not loaded after defaults are registered (71ms)
    ✓ get machine scope settings are not loaded after defaults are registered (66ms)
    ✓ reload configuration emits events after global configuraiton changes
    ✓ reload configuration emits events after workspace configuraiton changes
    ✓ reload configuration should not emit event if no changes
    ✓ inspect
    ✓ keys
    ✓ update user configuration (43ms)
    ✓ update workspace configuration
    ✓ update resource configuration
    ✓ update resource language configuration
    ✓ update application setting into workspace configuration in a workspace is not supported
    ✓ update machine setting into workspace configuration in a workspace is not supported
    ✓ update tasks configuration (38ms)
    ✓ update user configuration should trigger change event before promise is resolve
    ✓ update workspace configuration should trigger change event before promise is resolve (54ms)
    ✓ update memory configuration
    ✓ update memory configuration should trigger change event before promise is resolve
    ✓ update task configuration should trigger change event before promise is resolve
    ✓ no change event when there are no global tasks
    ✓ change event when there are global tasks
    ✓ creating workspace settings (423ms)
    ✓ deleting workspace settings (431ms)

  WorkspaceConfigurationService-Multiroot
    ✓ application settings are not read from workspace
    ✓ machine settings are not read from workspace
    ✓ workspace settings override user settings after defaults are registered  (86ms)
    ✓ workspace settings override user settings after defaults are registered for machine overridable settings  (79ms)
    ✓ application settings are not read from workspace folder
    ✓ machine settings are not read from workspace folder
    ✓ application settings are not read from workspace folder after defaults are registered (68ms)
    ✓ application settings are not read from workspace folder after defaults are registered (103ms)
    ✓ resource setting in folder is read after it is registered later (88ms)
    ✓ resource language setting in folder is read after it is registered later (87ms)
    ✓ machine overridable setting in folder is read after it is registered later (102ms)
    ✓ inspect (74ms)
    ✓ get launch configuration
    ✓ inspect launch configuration
    ✓ get tasks configuration
    ✓ inspect tasks configuration
    ✓ update user configuration
    ✓ update user configuration should trigger change event before promise is resolve
    ✓ update workspace configuration
    ✓ update workspace configuration should trigger change event before promise is resolve
    ✓ update application setting into workspace configuration in a workspace is not supported
    ✓ update machine setting into workspace configuration in a workspace is not supported
    ✓ update workspace folder configuration
    ✓ update resource language configuration in workspace folder (45ms)
    ✓ update workspace folder configuration should trigger change event before promise is resolve (47ms)
    ✓ update workspace folder configuration second time should trigger change event before promise is resolve (57ms)
    ✓ update memory configuration
    ✓ update memory configuration should trigger change event before promise is resolve
    ✓ update tasks configuration in a folder (40ms)
    ✓ update launch configuration in a workspace
    ✓ update tasks configuration in a workspace
    ✓ configuration of newly added folder is available on configuration change event (38ms)

  WorkspaceConfigurationService - Remote Folder
    ✓ remote settings override globals
    ✓ remote settings override globals after remote provider is registered on activation
    ✓ remote settings override globals after remote environment is resolved
    ✓ remote settings override globals after remote provider is registered on activation and remote environment is resolved
    - update remote settings
    ✓ machine settings in local user settings does not override defaults
    ✓ machine overridable settings in local user settings does not override defaults
    ✓ machine settings in local user settings does not override defaults after defalts are registered  (60ms)
    ✓ machine overridable settings in local user settings does not override defaults after defalts are registered  (56ms)

  KeybindingsEditing
    ✓ errors cases - parse errors
    ✓ errors cases - parse errors 2
    ✓ errors cases - dirty
    ✓ errors cases - did not find an array
    ✓ edit a default keybinding to an empty file
    ✓ edit a default keybinding to an empty array
    ✓ edit a default keybinding in an existing array
    ✓ add a new default keybinding
    ✓ edit an user keybinding
    ✓ edit an user keybinding with more than one element
    ✓ remove a default keybinding
    ✓ remove a user keybinding
    ✓ reset an edited keybinding
    ✓ reset a removed keybinding
    ✓ reset multiple removed keybindings
    ✓ add a new keybinding to unassigned keybinding
    ✓ add when expression
    ✓ update command and when expression
    ✓ update when expression
    ✓ remove when expression

  URI Label
    ✓ file scheme

  Files - TextFileService i/o
    ✓ create - no encoding - content empty
    ✓ create - no encoding - content provided (string)
    ✓ create - no encoding - content provided (snapshot)
    ✓ create - no encoding - content provided (VSBuffer)
    ✓ create - UTF 16 LE - no content
    ✓ create - UTF 16 LE - content provided
    ✓ create - UTF 16 BE - no content
    ✓ create - UTF 16 BE - content provided
    ✓ create - UTF 8 BOM - no content
    ✓ create - UTF 8 BOM - content provided
    ✓ create - UTF 8 BOM - empty content - snapshot
    ✓ create - UTF 8 BOM - content provided - snapshot
    ✓ write - use encoding (UTF 16 BE) - small content as string
    ✓ write - use encoding (UTF 16 BE) - small content as snapshot
    ✓ write - use encoding (UTF 16 BE) - large content as string
    ✓ write - use encoding (UTF 16 BE) - large content as snapshot
    ✓ write - use encoding (cp1252)
    ✓ write - use encoding (shiftjis) (42ms)
    ✓ write - use encoding (gbk) (39ms)
    ✓ write - use encoding (cyrillic)
    ✓ write - use encoding (big5)
    ✓ write - no encoding - content as string
    ✓ write - no encoding - content as snapshot
    ✓ write - encoding preserved (UTF 16 LE) - content as string
    ✓ write - encoding preserved (UTF 16 LE) - content as snapshot
    ✓ write - UTF8 variations - content as string (58ms)
    ✓ write - UTF8 variations - content as snapshot (67ms)
    ✓ write - preserve UTF8 BOM - content as string
    ✓ write - ensure BOM in empty file - content as string
    ✓ write - ensure BOM in empty file - content as snapshot
    ✓ readStream - small text
    ✓ readStream - large text
    ✓ read - small text
    ✓ read - large text
    ✓ readStream - encoding picked up (CP1252)
    ✓ read - encoding picked up (CP1252)
    ✓ read - encoding picked up (binary)
    ✓ read - encoding picked up (base64)
    ✓ readStream - user overrides BOM
    ✓ readStream - BOM removed
    ✓ readStream - invalid encoding
    ✓ readStream - encoding override
    ✓ readStream - large Big5 (39ms)
    ✓ readStream - large CP1252
    ✓ readStream - large Cyrillic
    ✓ readStream - large GBK
    ✓ readStream - large ShiftJS
    ✓ readStream - large UTF8 BOM
    ✓ readStream - large UTF16 LE
    ✓ readStream - large UTF16 BE
    ✓ readStream - UTF16 LE (no BOM)
    ✓ readStream - UTF16 BE (no BOM)
    ✓ readStream - autoguessEncoding
    ✓ readStream - FILE_IS_BINARY
    ✓ read - FILE_IS_BINARY

  MainThreadWorkspace
    ✓ simple
    ✓ exclude defaults
    ✓ disregard excludes
    ✓ exclude string

  Unexpected Errors & Loader Errors
    ✓ should not have unexpected errors


  6061 passing (1m)
  29 pending

